(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("os0x"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(o)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],l=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService(l);u.resolve(c)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===o?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},os0x:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return l}),n.d(e,"f",function(){return c}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,l=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),c=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=l[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=c,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return c}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return f}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return l}),n.d(e,"n",function(){return d}),n.d(e,"o",function(){return m});var r=n("os0x");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function l(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function c(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?_(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new g(i,a,r);return u},t}();function _(t,e){return t.replace(v,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function b(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new S(t,e);return n.subscribe.bind(n)}var S=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},xsWp:function(t,e,n){"use strict";n.r(e),n.d(e,"__PRIVATE_registerFirestore",function(){return id});var r=n("os0x"),i=n("zIRd"),s=n("q/0M"),o=n("qOnz"),a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var l,c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},h=h||{},d=c||self;function f(){}function p(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function m(t){var e=p(t);return"array"==e||"object"==e&&"number"==typeof t.length}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var y="closure_uid_"+(1e9*Math.random()>>>0),_=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:b).apply(null,arguments)}function S(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var E=Date.now;function C(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function x(){this.j=this.j,this.i=this.i}x.prototype.j=!1,x.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++_)}(this)},x.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var k=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},T=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function I(t){return Array.prototype.concat.apply([],arguments)}function O(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function A(t){return/^[\s\xa0]*$/.test(t)}var D,R=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function N(t,e){return-1!=t.indexOf(e)}function P(t,e){return t<e?-1:t>e?1:0}t:{var L=d.navigator;if(L){var F=L.userAgent;if(F){D=F;break t}}D=""}function j(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function M(t){var e={};for(var n in t)e[n]=t[n];return e}var V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<V.length;s++)n=V[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function B(t){return B[" "](t),t}B[" "]=f;var z,q,H=N(D,"Opera"),G=N(D,"Trident")||N(D,"MSIE"),$=N(D,"Edge"),W=$||G,K=N(D,"Gecko")&&!(N(D.toLowerCase(),"webkit")&&!N(D,"Edge"))&&!(N(D,"Trident")||N(D,"MSIE"))&&!N(D,"Edge"),Y=N(D.toLowerCase(),"webkit")&&!N(D,"Edge");function Q(){var t=d.document;return t?t.documentMode:void 0}t:{var Z="",X=(q=D,K?/rv:([^\);]+)(\)|;)/.exec(q):$?/Edge\/([\d\.]+)/.exec(q):G?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(q):Y?/WebKit\/(\S+)/.exec(q):H?/(?:Version)[ \/]?(\S+)/.exec(q):void 0);if(X&&(Z=X?X[1]:""),G){var J=Q();if(null!=J&&J>parseFloat(Z)){z=String(J);break t}}z=Z}var tt={};function et(t){return function(t,e){var n=tt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=R(String(z)).split("."),r=R(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=P(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||P(0==o[2].length,0==a[2].length)||P(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var nt=d.document&&G&&(Q()||parseInt(z,10))||void 0,rt=!G||9<=Number(nt),it=G&&!et("9"),st=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{d.addEventListener("test",f,e),d.removeEventListener("test",f,e)}catch(n){}return t}();function ot(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function at(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(K){t:{try{B(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ut[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ot.prototype.b=function(){this.defaultPrevented=!0},C(at,ot);var ut={2:"touch",3:"pen",4:"mouse"};at.prototype.b=function(){at.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,it)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(ur){}};var lt="closure_listenable_"+(1e6*Math.random()|0),ct=0;function ht(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++ct,this.Y=this.Z=!1}function dt(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ft(t){this.src=t,this.a={},this.b=0}function pt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=k(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(dt(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function mt(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}ft.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=mt(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new ht(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var gt="closure_lm_"+(1e6*Math.random()|0),yt={};function _t(t,e,n,r,i){if(r&&r.once)return bt(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)_t(t,e[s],n,r,i);return null}return n=It(n),t&&t[lt]?t.va(e,n,g(r)?!!r.capture:!!r,i):vt(t,e,n,!1,r,i)}function vt(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=g(i)?!!i.capture:!!i;if(o&&!rt)return null;var a=kt(t);if(a||(t[gt]=a=new ft(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=xt,e=rt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)st||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Et(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function bt(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)bt(t,e[s],n,r,i);return null}return n=It(n),t&&t[lt]?t.wa(e,n,g(r)?!!r.capture:!!r,i):vt(t,e,n,!0,r,i)}function wt(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)wt(t,e[s],n,r,i);else r=g(r)?!!r.capture:!!r,n=It(n),t&&t[lt]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=mt(s=t.a[e],n,r,i))&&(dt(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=kt(t))&&(e=t.a[e.toString()],t=-1,e&&(t=mt(e,n,r,i)),(n=-1<t?e[t]:null)&&St(n))}function St(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[lt])pt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Et(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=kt(e))?(pt(n,t),0==n.b&&(n.src=null,e[gt]=null)):dt(t)}}}function Et(t){return t in yt?yt[t]:yt[t]="on"+t}function Ct(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&St(t),n.call(r,e)}function xt(t,e){if(t.Y)return!0;if(!rt){if(!e)t:{e=["window","event"];for(var n=d,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ct(t,e=new at(e,this))}return Ct(t,new at(e,this))}function kt(t){return(t=t[gt])instanceof ft?t:null}var Tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function It(t){return"function"==p(t)?t:(t[Tt]||(t[Tt]=function(e){return t.handleEvent(e)}),t[Tt])}function Ot(){x.call(this),this.c=new ft(this),this.J=this,this.C=null}function At(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&pt(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}C(Ot,x),Ot.prototype[lt]=!0,(l=Ot.prototype).addEventListener=function(t,e,n,r){_t(this,t,e,n,r)},l.removeEventListener=function(t,e,n,r){wt(this,t,e,n,r)},l.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new ot(t,n);else if(t instanceof ot)t.target=t.target||n;else{var i=t;U(t=new ot(r,n),i)}if(i=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.a=e[s];i=At(o,r,!0,t)&&i}if(i=At(o=t.a=n,r,!0,t)&&i,i=At(o,r,!1,t)&&i,e)for(s=0;s<e.length;s++)i=At(o=t.a=e[s],r,!1,t)&&i;return i},l.G=function(){if(Ot.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)dt(n[r]);delete e.a[t],e.b--}}this.C=null},l.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},l.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Dt=d.JSON.stringify;function Rt(){this.b=this.a=null}var Nt,Pt=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Ft},function(t){t.reset()},100);function Lt(){var t=Ut,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ft(){this.next=this.b=this.a=null}function jt(t){d.setTimeout(function(){throw t},0)}function Mt(t,e){Nt||function(){var t=d.Promise.resolve(void 0);Nt=function(){t.then(Bt)}}(),Vt||(Nt(),Vt=!0),Ut.add(t,e)}Rt.prototype.add=function(t,e){var n=Pt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ft.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ft.prototype.reset=function(){this.next=this.b=this.a=null};var Vt=!1,Ut=new Rt;function Bt(){for(var t;t=Lt();){try{t.a.call(t.b)}catch(n){jt(n)}var e=Pt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Vt=!1}function zt(t,e){Ot.call(this),this.b=t||1,this.a=e||d,this.f=w(this.Ya,this),this.g=E()}function qt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ht(t,e,n){if("function"==p(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:d.setTimeout(t,e||0)}function Gt(t){t.a=Ht(function(){t.a=null,t.c&&(t.c=!1,Gt(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}C(zt,Ot),(l=zt.prototype).aa=!1,l.M=null,l.Ya=function(){if(this.aa){var t=E()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(qt(this),this.start()))}},l.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=E())},l.G=function(){zt.S.G.call(this),qt(this),delete this.a};var $t=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Gt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(d.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(x);function Wt(t){x.call(this),this.b=t,this.a={}}C(Wt,x);var Kt=[];function Yt(t,e,n,r){Array.isArray(n)||(n&&(Kt[0]=n.toString()),n=Kt);for(var i=0;i<n.length;i++){var s=_t(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Qt(t){j(t.a,function(t,e){this.a.hasOwnProperty(e)&&St(t)},t),t.a={}}function Zt(){this.a=!0}function Xt(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Dt(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Wt.prototype.G=function(){Wt.S.G.call(this),Qt(this)},Wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zt.prototype.info=function(){};var Jt=null;function te(){return Jt=Jt||new Ot}function ee(t){ot.call(this,"serverreachability",t)}function ne(t){var e=te();e.dispatchEvent(new ee(e,t))}function re(t){ot.call(this,"statevent",t)}function ie(t){var e=te();e.dispatchEvent(new re(e,t))}function se(t){ot.call(this,"timingevent",t)}function oe(t,e){if("function"!=p(t))throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){t()},e)}C(ee,ot),C(re,ot),C(se,ot);var ae={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},ue={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function le(){}function ce(){}le.prototype.a=null;var he,de={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function fe(){ot.call(this,"d")}function pe(){ot.call(this,"c")}function me(){}function ge(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new Wt(this),this.P=ye,this.R=new zt(t=W?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}C(fe,ot),C(pe,ot),C(me,le),he=new me;var ye=45e3,_e={},ve={};function be(t,e,n){t.H=1,t.i=ze(Fe(e)),t.j=n,t.I=!0,we(t,null)}function we(t,e){t.u=E(),Ce(t),t.l=Fe(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),en(n.b,"t",r),t.D=0,t.a=Qn(t.g,t.g.C?e:null),0<t.O&&(t.F=new $t(w(t.Ca,t,t.a),t.O)),Yt(t.J,t.a,"readystatechange",t.Wa),e=t.B?M(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ne(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.T,t.j)}function Se(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ee(t,n);if(i==ve){4==e&&(t.h=4,ie(14),r=!1),Xt(t.c,t.f,null,"[Incomplete Response]");break}if(i==_e){t.h=4,ie(15),Xt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Xt(t.c,t.f,i,null),Oe(t,i)}4==e&&0==n.length&&(t.h=1,ie(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),zn(e),e.F=!0)):(Xt(t.c,t.f,n,"[Invalid Chunked Response]"),Ie(t),Te(t))}function Ee(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ve:(n=Number(e.substring(n,r)),isNaN(n)?_e:(r+=1)+n>e.length?ve:(e=e.substr(r,n),t.D=r+n,e))}function Ce(t){t.U=E()+t.P,xe(t,t.P)}function xe(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=oe(w(t.Ua,t),e)}function ke(t){t.o&&(d.clearTimeout(t.o),t.o=null)}function Te(t){0==t.g.v||t.A||Gn(t.g,t)}function Ie(t){ke(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,qt(t.R),Qt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Oe(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||ln(n.b,t)))if(n.I=t.N,!t.C&&ln(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(g){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Hn(n),Nn(n)}Bn(n),ie(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=oe(w(n.Ra,n),6e3));if(1>=un(n.b)&&n.ea){try{n.ea()}catch(g){}n.ea=void 0}}else Wn(n,11)}else if((t.C||n.a==t)&&Hn(n),!A(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var l=t.a;if(l){var c=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=u.b;!h.a&&(N(c,"spdy")||N(c,"quic")||N(c,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(cn(h,h.b),h.b=null))}if(u.A){var d=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,Be(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=E()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).la=Yn(u,u.C?u.ga:null,u.fa),f.C){hn(u.b,f);var p=f,m=u.D;m&&p.setTimeout(m),p.o&&(ke(p),Ce(p)),u.a=f}else Un(u);0<n.g.length&&Fn(n)}else"stop"!=i[0]&&"close"!=i[0]||Wn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Wn(n,7):Rn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);ne(4)}catch(g){}}function Ae(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(m(t)||"string"==typeof t)T(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(m(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(m(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function De(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof De)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Re(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ne(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ne(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ne(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(l=ge.prototype).setTimeout=function(t){this.P=t},l.Wa=function(t){t=t.target;var e=this.F;e&&3==In(t)?e.f():this.Ca(t)},l.Ca=function(t){try{if(t==this.a)t:{var e=In(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!W&&!this.a.$())){this.A||4!=e||7==n||ne(8==n||0>=r?3:2),ke(this);var i=this.a.X();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,ie(12),Ie(this),Te(this);break t}Xt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Oe(this,u)}this.I?(Se(this,e,s),W&&this.b&&3==e&&(Yt(this.J,this.R,"tick",this.Va),this.R.start())):(Xt(this.c,this.f,s,null),Oe(this,s)),4==e&&Ie(this),this.b&&!this.A&&(4==e?Gn(this.g,this):(this.b=!1,Ce(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,ie(12)):(this.h=0,ie(13)),Ie(this),Te(this)}}}catch(l){}},l.Va=function(){if(this.a){var t=In(this.a),e=this.a.$();this.D<e.length&&(ke(this),Se(this,t,e),this.b&&4!=t&&Ce(this))}},l.cancel=function(){this.A=!0,Ie(this)},l.Ua=function(){this.o=null;var t=E();0<=t-this.U?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(ne(3),ie(17)),Ie(this),this.h=2,Te(this)):xe(this,this.U-t)},(l=De.prototype).K=function(){Re(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},l.L=function(){return Re(this),this.a.concat()},l.get=function(t,e){return Ne(this.b,t)?this.b[t]:e},l.set=function(t,e){Ne(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},l.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Pe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Le(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Le){this.a=void 0!==e?e:t.a,je(this,t.f),this.j=t.j,Me(this,t.c),Ve(this,t.h),this.g=t.g,e=t.b;var n=new Ze;n.c=e.c,e.a&&(n.a=new De(e.a),n.b=e.b),Ue(this,n),this.i=t.i}else t&&(n=String(t).match(Pe))?(this.a=!!e,je(this,n[1]||"",!0),this.j=qe(n[2]||""),Me(this,n[3]||"",!0),Ve(this,n[4]),this.g=qe(n[5]||"",!0),Ue(this,n[6]||"",!0),this.i=qe(n[7]||"")):(this.a=!!e,this.b=new Ze(null,this.a))}function Fe(t){return new Le(t)}function je(t,e,n){t.f=n?qe(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Me(t,e,n){t.c=n?qe(e,!0):e}function Ve(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ue(t,e,n){e instanceof Ze?(t.b=e,function(t,e){e&&!t.f&&(Xe(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Je(this,e),en(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=He(e,Ye)),t.b=new Ze(e,t.a))}function Be(t,e,n){t.b.set(e,n)}function ze(t){return Be(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^E()).toString(36)),t}function qe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function He(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ge),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ge(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Le.prototype.toString=function(){var t=[],e=this.f;e&&t.push(He(e,$e,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(He(e,$e,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(He(n,"/"==n.charAt(0)?Ke:We,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",He(n,Qe)),t.join("")};var $e=/[#\/\?@]/g,We=/[#\?:]/g,Ke=/[#\?]/g,Ye=/[#\?@]/g,Qe=/#/g;function Ze(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Xe(t){t.a||(t.a=new De,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Je(t,e){Xe(t),e=nn(t,e),Ne(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ne((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Re(t)))}function tn(t,e){return Xe(t),e=nn(t,e),Ne(t.a.b,e)}function en(t,e,n){Je(t,e),0<n.length&&(t.c=null,t.a.set(nn(t,e),O(n)),t.b+=n.length)}function nn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function rn(t,e){this.b=t,this.a=e}function sn(t){this.g=t||on,t=d.PerformanceNavigationTiming?0<(t=d.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(d.ia&&d.ia.ya&&d.ia.ya()&&d.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(l=Ze.prototype).add=function(t,e){Xe(this),this.c=null,t=nn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},l.forEach=function(t,e){Xe(this),this.a.forEach(function(n,r){T(n,function(n){t.call(e,n,r,this)},this)},this)},l.L=function(){Xe(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},l.K=function(t){Xe(this);var e=[];if("string"==typeof t)tn(this,t)&&(e=I(e,this.a.get(nn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=I(e,t[n])}return e},l.set=function(t,e){return Xe(this),this.c=null,tn(this,t=nn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},l.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},l.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var on=10;function an(t){return!!t.b||!!t.a&&t.a.size>=t.f}function un(t){return t.b?1:t.a?t.a.size:0}function ln(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function cn(t,e){t.a?t.a.add(e):t.b=e}function hn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function dn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=u(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return O(t.c)}function fn(){}function pn(){this.a=new fn}function mn(t,e,n){var r=n||"";try{Ae(t,function(t,n){var i=t;g(t)&&(i=Dt(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function gn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}sn.prototype.cancel=function(){var t,e;if(this.c=dn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=u(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},fn.prototype.stringify=function(t){return d.JSON.stringify(t,void 0)},fn.prototype.parse=function(t){return d.JSON.parse(t,void 0)};var yn=d.JSON.parse;function _n(t){Ot.call(this),this.headers=new De,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=vn,this.D=this.F=!1}C(_n,Ot);var vn="",bn=/^https?$/i,wn=["POST","PUT"];function Sn(t){return"content-type"==t.toLowerCase()}function En(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Cn(t),kn(t)}function Cn(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function xn(t){if(t.b&&void 0!==h&&(!t.s[1]||4!=In(t)||2!=t.X()))if(t.l&&4==In(t))Ht(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==In(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Pe)[1]||null;if(!s&&d.self&&d.self.location){var o=d.self.location.protocol;s=o.substr(0,o.length-1)}i=!bn.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var a=2<In(t)?t.a.statusText:""}catch(u){a=""}t.f=a+" ["+t.X()+"]",Cn(t)}}finally{kn(t)}}}function kn(t,e){if(t.a){Tn(t);var n=t.a,r=t.s[0]?f:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Tn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(d.clearTimeout(t.m),t.m=null)}function In(t){return t.a?t.a.readyState:0}function On(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return j(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Be(t,e,n))}function An(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Dn(t){this.pa=0,this.g=[],this.c=new Zt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=An("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=An("baseRetryDelayMs",5e3,t),this.Ma=An("retryDelaySeedMs",1e4,t),this.Ja=An("forwardChannelMaxRetries",2,t),this.ma=An("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new sn(t&&t.concurrentRequestLimit),this.ka=new pn,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Rn(t){if(Pn(t),3==t.v){var e=t.R++,n=Fe(t.B);Be(n,"SID",t.J),Be(n,"RID",e),Be(n,"TYPE","terminate"),Mn(t,n),(e=new ge(t,t.c,e,void 0)).H=2,e.i=ze(Fe(n)),n=!1,d.navigator&&d.navigator.sendBeacon&&(n=d.navigator.sendBeacon(e.i.toString(),"")),!n&&d.Image&&((new Image).src=e.i,n=!0),n||(e.a=Qn(e.g,null),e.a.ba(e.i)),e.u=E(),Ce(e)}Kn(t)}function Nn(t){t.a&&(zn(t),t.a.cancel(),t.a=null)}function Pn(t){Nn(t),t.j&&(d.clearTimeout(t.j),t.j=null),Hn(t),t.b.cancel(),t.h&&("number"==typeof t.h&&d.clearTimeout(t.h),t.h=null)}function Ln(t,e){t.g.push(new rn(t.La++,e)),3==t.v&&Fn(t)}function Fn(t){an(t.b)||t.h||(t.h=!0,Mt(t.Ba,t),t.u=0)}function jn(t,e){var n;n=e?e.f:t.R++;var r=Fe(t.B);Be(r,"SID",t.J),Be(r,"RID",n),Be(r,"AID",t.P),Mn(t,r),t.i&&t.l&&On(r,t.i,t.l),n=new ge(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Vn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),cn(t.b,n),be(n,r,e)}function Mn(t,e){t.f&&Ae({},function(t,n){Be(e,n,t)})}function Vn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?w(t.f.Ha,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var l=i[u].b,c=i[u].a;if(0>(l-=s))s=Math.max(0,i[u].b-100),a=!1;else try{mn(c,o,"req"+l+"_")}catch(Rr){r&&r(c)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Un(t){t.a||t.j||(t.U=1,Mt(t.Aa,t),t.o=0)}function Bn(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=oe(w(t.Aa,t),$n(t,t.o)),t.o++,0))}function zn(t){null!=t.s&&(d.clearTimeout(t.s),t.s=null)}function qn(t){t.a=new ge(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Fe(t.la);Be(e,"RID","rpc"),Be(e,"SID",t.J),Be(e,"CI",t.H?"0":"1"),Be(e,"AID",t.P),Mn(t,e),Be(e,"TYPE","xmlhttp"),t.i&&t.l&&On(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=ze(Fe(e)),n.j=null,n.I=!0,we(n,t)}function Hn(t){null!=t.m&&(d.clearTimeout(t.m),t.m=null)}function Gn(t,e){var n=null;if(t.a==e){Hn(t),zn(t),t.a=null;var r=2}else{if(!ln(t.b,e))return;n=e.s,hn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=E()-e.u;var i=t.u;(r=te()).dispatchEvent(new se(r,n,e,i)),Fn(t)}else Un(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(un(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=oe(w(t.Ba,t,e),$n(t,t.u)),t.u++,0)))}(t,e)||2==r&&Bn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Wn(t,5);break;case 4:Wn(t,10);break;case 3:Wn(t,6);break;default:Wn(t,2)}}function $n(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function Wn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=w(t.Xa,t);n||(n=new Le("//www.google.com/images/cleardot.gif"),d.location&&"http"==d.location.protocol||je(n,"https"),ze(n)),function(t,e){var n=new Zt;if(d.Image){var r=new Image;r.onload=S(gn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=S(gn,n,r,"TestLoadImage: error",!1,e),r.onabort=S(gn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=S(gn,n,r,"TestLoadImage: timeout",!1,e),d.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ie(2);t.v=0,t.f&&t.f.ra(e),Kn(t),Pn(t)}function Kn(t){t.v=0,t.I=-1,t.f&&(0==dn(t.b).length&&0==t.g.length||(t.b.c.length=0,O(t.g),t.g.length=0),t.f.qa())}function Yn(t,e,n){var r=function(t){return t instanceof Le?Fe(t):new Le(t,void 0)}(n);if(""!=r.c)e&&Me(r,e+"."+r.c),Ve(r,r.h);else{var i=d.location;r=function(t,e,n,r){var i=new Le(null,void 0);return t&&je(i,t),e&&Me(i,e),n&&Ve(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&j(t.W,function(t,e){Be(r,e,t)}),n=t.na,(e=t.A)&&n&&Be(r,e,n),Be(r,"VER",t.ha),Mn(t,r),r}function Qn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new _n(t.Ka)).F=t.C,e}function Zn(){}function Xn(){if(G&&!(10<=Number(nt)))throw Error("Environmental error: no available transport.")}function Jn(t,e){Ot.call(this),this.a=new Dn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!A(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!A(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new nr(this)}function tr(t){fe.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function er(){pe.call(this),this.status=1}function nr(t){this.a=t}(l=_n.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:he),this.a.onreadystatechange=w(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void En(this,s)}t=n||"";var i=new De(this.headers);r&&Ae(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Sn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=d.FormData&&t instanceof d.FormData,!(0<=k(wn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Tn(this),0<this.o&&((this.D=function(t){return G&&et(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=w(this.xa,this)):this.m=Ht(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){En(this,s)}},l.xa=function(){void 0!==h&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},l.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),kn(this))},l.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),kn(this,!0)),_n.S.G.call(this)},l.za=function(){this.j||(this.A||this.l||this.g?xn(this):this.Ta())},l.Ta=function(){xn(this)},l.X=function(){try{return 2<In(this)?this.a.status:-1}catch(q){return-1}},l.$=function(){try{return this.a?this.a.responseText:""}catch(q){return""}},l.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),yn(e)}},l.ua=function(){return this.h},l.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(l=Dn.prototype).ha=8,l.v=1,l.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ge(this,this.c,t,void 0),r=this.l;if(this.O&&(r?U(r=M(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Vn(this,n,e),Be(i=Fe(this.B),"RID",t),Be(i,"CVER",22),this.A&&Be(i,"X-HTTP-Session-Id",this.A),Mn(this,i),this.i&&r&&On(i,this.i,r),cn(this.b,n),this.Ga&&Be(i,"TYPE","init"),this.da?(Be(i,"$req",e),Be(i,"SID","null"),n.V=!0,be(n,i,null)):be(n,i,e),this.v=2}}else 3==this.v&&(t?jn(this,t):0==this.g.length||an(this.b)||jn(this))},l.Aa=function(){if(this.j=null,qn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=oe(w(this.Sa,this),t)}},l.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Nn(this),qn(this))},l.Ra=function(){null!=this.m&&(this.m=null,Nn(this),Bn(this),ie(19))},l.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),ie(2)):(this.c.info("Failed to ping google.com"),ie(1))},(l=Zn.prototype).ta=function(){},l.sa=function(){},l.ra=function(){},l.qa=function(){},l.Ha=function(){},Xn.prototype.a=function(t,e){return new Jn(t,e)},C(Jn,Ot),(l=Jn.prototype).addEventListener=function(t,e,n,r){Jn.S.addEventListener.call(this,t,e,n,r)},l.removeEventListener=function(t,e,n,r){Jn.S.removeEventListener.call(this,t,e,n,r)},l.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;ie(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Yn(t,null,t.fa),Fn(t)},l.close=function(){Rn(this.a)},l.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,Ln(this.a,e)}else this.g?((e={}).__data__=Dt(t),Ln(this.a,e)):Ln(this.a,t)},l.G=function(){this.a.f=null,delete this.f,Rn(this.a),delete this.a,Jn.S.G.call(this)},C(tr,fe),C(er,pe),C(nr,Zn),nr.prototype.ta=function(){this.a.dispatchEvent("a")},nr.prototype.sa=function(t){this.a.dispatchEvent(new tr(t))},nr.prototype.ra=function(t){this.a.dispatchEvent(new er(t))},nr.prototype.qa=function(){this.a.dispatchEvent("b")},Xn.prototype.createWebChannel=Xn.prototype.a,Jn.prototype.send=Jn.prototype.Pa,Jn.prototype.open=Jn.prototype.Oa,Jn.prototype.close=Jn.prototype.close,ae.NO_ERROR=0,ae.TIMEOUT=8,ae.HTTP_ERROR=6,ue.COMPLETE="complete",ce.EventType=de,de.OPEN="a",de.CLOSE="b",de.ERROR="c",de.MESSAGE="d",Ot.prototype.listen=Ot.prototype.va,_n.prototype.listenOnce=_n.prototype.wa,_n.prototype.getLastError=_n.prototype.Qa,_n.prototype.getLastErrorCode=_n.prototype.ua,_n.prototype.getStatus=_n.prototype.X,_n.prototype.getResponseJson=_n.prototype.Na,_n.prototype.getResponseText=_n.prototype.$,_n.prototype.send=_n.prototype.ba;var rr=ae,ir=ue,sr=ce,or=_n,ar=n("/6Yf"),ur={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},lr=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(r.c)(e,t),e}(Error),cr=new s.b("@firebase/firestore");function hr(){return cr.logLevel}function dr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(cr.logLevel<=s.a.DEBUG){var i=e.map(mr);cr.debug.apply(cr,Object(r.g)(["Firestore (8.0.0): "+t],i))}}function fr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(cr.logLevel<=s.a.ERROR){var i=e.map(mr);cr.error.apply(cr,Object(r.g)(["Firestore (8.0.0): "+t],i))}}function pr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(cr.logLevel<=s.a.WARN){var i=e.map(mr);cr.warn.apply(cr,Object(r.g)(["Firestore (8.0.0): "+t],i))}}function mr(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function gr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.0.0) INTERNAL ASSERTION FAILED: "+t;throw fr(e),new Error(e)}function yr(t,e){t||gr()}function _r(t,e){return t}function vr(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var br=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=vr(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function wr(t,e){return t<e?-1:t>e?1:0}function Sr(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Er(t){return t+"\0"}var Cr=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.h=function(t){return wr(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Cr.u=new Cr("");var xr=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Cr.fromBase64String(e))}catch(e){throw new lr(ur.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Cr.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}();function kr(){if("undefined"==typeof Uint8Array)throw new lr(ur.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Tr(){if("undefined"==typeof atob)throw new lr(ur.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ir=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.fromBase64String=function(t){Tr();try{return new e(Cr.fromBase64String(t))}catch(t){throw new lr(ur.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){return kr(),new e(Cr.fromUint8Array(t))},e.prototype.toBase64=function(){return Tr(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return kr(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(xr),Or=function(t,e,n,r,i,s){this._=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.T=s},Ar=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"I",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.h=function(t){return wr(this.projectId,t.projectId)||wr(this.database,t.database)},t}();function Dr(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Rr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Pr=function(){function t(t,e){this.m=t,this.A=e,this.R={}}return t.prototype.get=function(t){var e=this.m(t),n=this.R[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.A(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.m(t),r=this.R[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.A(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.R[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.m(t),n=this.R[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.A(n[r][0],t))return 1===n.length?delete this.R[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Rr(this.R,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.P=function(){return Nr(this.R)},t}(),Lr=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new lr(ur.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new lr(ur.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new lr(ur.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lr(ur.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.g=function(t){return this.seconds===t.seconds?wr(this.nanoseconds,t.nanoseconds):wr(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Fr=function(){function t(t){this.timestamp=t}return t.V=function(e){return new t(e)},t.min=function(){return new t(new Lr(0,0))},t.prototype.h=function(t){return this.timestamp.g(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.p=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.v=function(){return this.timestamp},t}(),jr=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&gr(),void 0===n?n=t.length-e:n>t.length-e&&gr(),this.segments=t,this.offset=e,this.S=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.S},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.D(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.C(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.N=function(t){return this.C(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.F=function(){return this.C(this.segments,this.offset,this.length-1)},t.prototype.k=function(){return this.segments[this.offset]},t.prototype.O=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.P=function(){return 0===this.length},t.prototype.M=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.$=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.L=function(){return this.segments.slice(this.offset,this.limit())},t.D=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Mr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.C=function(t,n,r){return new e(t,n,r)},e.prototype.B=function(){return this.L().join("/")},e.prototype.toString=function(){return this.B()},e.q=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new lr(ur.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.U=function(){return new e([])},e}(jr),Vr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ur=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.C=function(t,n,r){return new e(t,n,r)},e.K=function(t){return Vr.test(t)},e.prototype.B=function(){return this.L().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.K(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.B()},e.prototype.W=function(){return 1===this.length&&"__name__"===this.get(0)},e.j=function(){return new e(["__name__"])},e.G=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new lr(ur.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new lr(ur.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new lr(ur.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new lr(ur.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.U=function(){return new e([])},e}(jr),Br=function(){function t(t){this.path=t}return t.H=function(e){return new t(Mr.q(e))},t.J=function(e){return new t(Mr.q(e).N(5))},t.prototype.Y=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Mr.D(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.D=function(t,e){return Mr.D(t.path,e.path)},t.X=function(t){return t.length%2==0},t.Z=function(e){return new t(new Mr(e.slice()))},t}();function zr(t){return null==t}function qr(t){return 0===t&&1/t==-1/0}function Hr(t){return"number"==typeof t&&Number.isInteger(t)&&!qr(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Gr=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.tt=null};function $r(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Gr(t,e,n,r,i,s,o)}function Wr(t){var e=_r(t);if(null===e.tt){var n=e.path.B();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.B()+t.op.toString()+Mi(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return(e=t).field.B()+e.dir;var e}).join(","),zr(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=qo(e.startAt)),e.endAt&&(n+="|ub:",n+=qo(e.endAt)),e.tt=n}return e.tt}function Kr(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ko(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Pi(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Go(t.startAt,e.startAt)&&Go(t.endAt,e.endAt)}function Yr(t){return Br.X(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Qr,Zr,Xr=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Fr.min()),void 0===s&&(s=Fr.min()),void 0===o&&(o=Cr.u),this.target=t,this.targetId=e,this.et=n,this.sequenceNumber=r,this.nt=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.st=function(e){return new t(this.target,this.targetId,this.et,e,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.it=function(e,n){return new t(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.rt=function(e){return new t(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,e,this.resumeToken)},t}(),Jr=function(t){this.count=t};function ti(t){switch(t){case ur.OK:return gr();case ur.CANCELLED:case ur.UNKNOWN:case ur.DEADLINE_EXCEEDED:case ur.RESOURCE_EXHAUSTED:case ur.INTERNAL:case ur.UNAVAILABLE:case ur.UNAUTHENTICATED:return!1;case ur.INVALID_ARGUMENT:case ur.NOT_FOUND:case ur.ALREADY_EXISTS:case ur.PERMISSION_DENIED:case ur.FAILED_PRECONDITION:case ur.ABORTED:case ur.OUT_OF_RANGE:case ur.UNIMPLEMENTED:case ur.DATA_LOSS:return!0;default:return gr()}}function ei(t){if(void 0===t)return fr("GRPC error has no .code"),ur.UNKNOWN;switch(t){case Qr.OK:return ur.OK;case Qr.CANCELLED:return ur.CANCELLED;case Qr.UNKNOWN:return ur.UNKNOWN;case Qr.DEADLINE_EXCEEDED:return ur.DEADLINE_EXCEEDED;case Qr.RESOURCE_EXHAUSTED:return ur.RESOURCE_EXHAUSTED;case Qr.INTERNAL:return ur.INTERNAL;case Qr.UNAVAILABLE:return ur.UNAVAILABLE;case Qr.UNAUTHENTICATED:return ur.UNAUTHENTICATED;case Qr.INVALID_ARGUMENT:return ur.INVALID_ARGUMENT;case Qr.NOT_FOUND:return ur.NOT_FOUND;case Qr.ALREADY_EXISTS:return ur.ALREADY_EXISTS;case Qr.PERMISSION_DENIED:return ur.PERMISSION_DENIED;case Qr.FAILED_PRECONDITION:return ur.FAILED_PRECONDITION;case Qr.ABORTED:return ur.ABORTED;case Qr.OUT_OF_RANGE:return ur.OUT_OF_RANGE;case Qr.UNIMPLEMENTED:return ur.UNIMPLEMENTED;case Qr.DATA_LOSS:return ur.DATA_LOSS;default:return gr()}}(Zr=Qr||(Qr={}))[Zr.OK=0]="OK",Zr[Zr.CANCELLED=1]="CANCELLED",Zr[Zr.UNKNOWN=2]="UNKNOWN",Zr[Zr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zr[Zr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zr[Zr.NOT_FOUND=5]="NOT_FOUND",Zr[Zr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zr[Zr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zr[Zr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zr[Zr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zr[Zr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zr[Zr.ABORTED=10]="ABORTED",Zr[Zr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zr[Zr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zr[Zr.INTERNAL=13]="INTERNAL",Zr[Zr.UNAVAILABLE=14]="UNAVAILABLE",Zr[Zr.DATA_LOSS=15]="DATA_LOSS";var ni=function(){function t(t,e){this.D=t,this.root=e||ii.EMPTY}return t.prototype.ot=function(e,n){return new t(this.D,this.root.ot(e,n,this.D).copy(null,null,ii.at,null,null))},t.prototype.remove=function(e){return new t(this.D,this.root.remove(e,this.D).copy(null,null,ii.at,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.P();){var n=this.D(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.P();){var r=this.D(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.P=function(){return this.root.P()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.ht=function(){return this.root.ht()},t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(t){return this.root.ut(t)},t.prototype.forEach=function(t){this.ut(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.ut(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.lt=function(t){return this.root.lt(t)},t.prototype._t=function(){return new ri(this.root,null,this.D,!1)},t.prototype.ft=function(t){return new ri(this.root,t,this.D,!1)},t.prototype.dt=function(){return new ri(this.root,null,this.D,!0)},t.prototype.wt=function(t){return new ri(this.root,t,this.D,!0)},t}(),ri=function(){function t(t,e,n,r){this.Et=r,this.Tt=[];for(var i=1;!t.P();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Et?t.left:t.right;else{if(0===i){this.Tt.push(t);break}this.Tt.push(t),t=this.Et?t.right:t.left}}return t.prototype.It=function(){var t=this.Tt.pop(),e={key:t.key,value:t.value};if(this.Et)for(t=t.left;!t.P();)this.Tt.push(t),t=t.right;else for(t=t.right;!t.P();)this.Tt.push(t),t=t.left;return e},t.prototype.At=function(){return this.Tt.length>0},t.prototype.Rt=function(){if(0===this.Tt.length)return null;var t=this.Tt[this.Tt.length-1];return{key:t.key,value:t.value}},t}(),ii=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.P=function(){return!1},t.prototype.ut=function(t){return this.left.ut(t)||t(this.key,this.value)||this.right.ut(t)},t.prototype.lt=function(t){return this.right.lt(t)||t(this.key,this.value)||this.left.lt(t)},t.prototype.min=function(){return this.left.P()?this:this.left.min()},t.prototype.ht=function(){return this.min().key},t.prototype.ct=function(){return this.right.P()?this.key:this.right.ct()},t.prototype.ot=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.ot(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.ot(t,e,n))).Pt()},t.prototype.gt=function(){if(this.left.P())return t.EMPTY;var e=this;return e.left.Vt()||e.left.left.Vt()||(e=e.yt()),(e=e.copy(null,null,null,e.left.gt(),null)).Pt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.P()||i.left.Vt()||i.left.left.Vt()||(i=i.yt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Vt()&&(i=i.bt()),i.right.P()||i.right.Vt()||i.right.left.Vt()||(i=i.vt()),0===n(e,i.key)){if(i.right.P())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.gt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Pt()},t.prototype.Vt=function(){return this.color},t.prototype.Pt=function(){var t=this;return t.right.Vt()&&!t.left.Vt()&&(t=t.St()),t.left.Vt()&&t.left.left.Vt()&&(t=t.bt()),t.left.Vt()&&t.right.Vt()&&(t=t.Dt()),t},t.prototype.yt=function(){var t=this.Dt();return t.right.left.Vt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.bt())).St()).Dt()),t},t.prototype.vt=function(){var t=this.Dt();return t.left.left.Vt()&&(t=(t=t.bt()).Dt()),t},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Dt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ct=function(){var t=this.Nt();return Math.pow(2,t)<=this.size+1},t.prototype.Nt=function(){if(this.Vt()&&this.left.Vt())throw gr();if(this.right.Vt())throw gr();var t=this.left.Nt();if(t!==this.right.Nt())throw gr();return t+(this.Vt()?0:1)},t}();ii.EMPTY=null,ii.RED=!0,ii.at=!1,ii.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw gr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw gr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw gr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw gr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw gr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.ot=function(t,e,n){return new ii(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.P=function(){return!0},t.prototype.ut=function(t){return!1},t.prototype.lt=function(t){return!1},t.prototype.ht=function(){return null},t.prototype.ct=function(){return null},t.prototype.Vt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Nt=function(){return 0},t}());var si=function(){function t(t){this.D=t,this.data=new ni(this.D)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ht()},t.prototype.last=function(){return this.data.ct()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ut(function(e,n){return t(e),!1})},t.prototype.xt=function(t,e){for(var n=this.data.ft(t[0]);n.At();){var r=n.It();if(this.D(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ft=function(t,e){var n;for(n=void 0!==e?this.data.ft(e):this.data._t();n.At();)if(!t(n.It().key))return},t.prototype.kt=function(t){var e=this.data.ft(t);return e.At()?e.It().key:null},t.prototype._t=function(){return new oi(this.data._t())},t.prototype.ft=function(t){return new oi(this.data.ft(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).ot(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.P=function(){return this.data.P()},t.prototype.Ot=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data._t(),r=e.data._t();n.At();){var i=n.It().key,s=r.It().key;if(0!==this.D(i,s))return!1}return!0},t.prototype.L=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.D);return n.data=e,n},t}(),oi=function(){function t(t){this.Mt=t}return t.prototype.It=function(){return this.Mt.It().key},t.prototype.At=function(){return this.Mt.At()},t}(),ai=new ni(Br.D);function ui(){return ai}function li(){return ui()}var ci=new ni(Br.D);function hi(){return ci}var di=new ni(Br.D),fi=new si(Br.D);function pi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=fi,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var mi=new si(wr);function gi(){return mi}var yi=function(){function t(t){this.D=t?function(e,n){return t(e,n)||Br.D(e.key,n.key)}:function(t,e){return Br.D(t.key,e.key)},this.$t=hi(),this.Lt=new ni(this.D)}return t.Bt=function(e){return new t(e.D)},t.prototype.has=function(t){return null!=this.$t.get(t)},t.prototype.get=function(t){return this.$t.get(t)},t.prototype.first=function(){return this.Lt.ht()},t.prototype.last=function(){return this.Lt.ct()},t.prototype.P=function(){return this.Lt.P()},t.prototype.indexOf=function(t){var e=this.$t.get(t);return e?this.Lt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Lt.ut(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.$t.ot(t.key,t),e.Lt.ot(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.$t.remove(t),this.Lt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Lt._t(),r=e.Lt._t();n.At();){var i=n.It().key,s=r.It().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.D=this.D,r.$t=e,r.Lt=n,r},t}(),_i=function(){function t(){this.qt=new ni(Br.D)}return t.prototype.track=function(t){var e=t.doc.key,n=this.qt.get(e);n?0!==t.type&&3===n.type?this.qt=this.qt.ot(e,t):3===t.type&&1!==n.type?this.qt=this.qt.ot(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.qt=this.qt.ot(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.qt=this.qt.remove(e):1===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):gr():this.qt=this.qt.ot(e,t)},t.prototype.Ut=function(){var t=[];return this.qt.ut(function(e,n){t.push(n)}),t},t}(),vi=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.Kt=n,this.docChanges=r,this.Qt=i,this.fromCache=s,this.Wt=o,this.jt=a}return t.Gt=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,yi.Bt(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Qt.P()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Wt===t.Wt&&this.Qt.isEqual(t.Qt)&&Io(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Kt.isEqual(t.Kt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),bi=function(){function t(t,e,n,r,i){this.nt=t,this.zt=e,this.Ht=n,this.Jt=r,this.Yt=i}return t.Xt=function(e,n){var r=new Map;return r.set(e,wi.Zt(e,n)),new t(Fr.min(),r,gi(),ui(),pi())},t}(),wi=function(){function t(t,e,n,r,i){this.resumeToken=t,this.te=e,this.ee=n,this.ne=r,this.se=i}return t.Zt=function(e,n){return new t(Cr.u,n,pi(),pi(),pi())},t}(),Si=function(t,e,n,r){this.ie=t,this.removedTargetIds=e,this.key=n,this.re=r},Ei=function(t,e){this.targetId=t,this.oe=e},Ci=function(t,e,n,r){void 0===n&&(n=Cr.u),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},xi=function(){function t(){this.ae=0,this.he=Ii(),this.ce=Cr.u,this.ue=!1,this.le=!0}return Object.defineProperty(t.prototype,"te",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ce},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),t.prototype.de=function(t){t.o()>0&&(this.le=!0,this.ce=t)},t.prototype.we=function(){var t=pi(),e=pi(),n=pi();return this.he.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:gr()}}),new wi(this.ce,this.ue,t,e,n)},t.prototype.Ee=function(){this.le=!1,this.he=Ii()},t.prototype.Te=function(t,e){this.le=!0,this.he=this.he.ot(t,e)},t.prototype.Ie=function(t){this.le=!0,this.he=this.he.remove(t)},t.prototype.me=function(){this.ae+=1},t.prototype.Ae=function(){this.ae-=1},t.prototype.Re=function(){this.le=!0,this.ue=!0},t}(),ki=function(){function t(t){this.Pe=t,this.ge=new Map,this.Ve=ui(),this.ye=Ti(),this.pe=new si(wr)}return t.prototype.be=function(t){for(var e=0,n=t.ie;e<n.length;e++){var r=n[e];t.re instanceof ho?this.ve(r,t.re):t.re instanceof fo&&this.Se(r,t.key,t.re)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Se(s[i],t.key,t.re)},t.prototype.De=function(t){var e=this;this.Ce(t,function(n){var r=e.Ne(n);switch(t.state){case 0:e.xe(n)&&r.de(t.resumeToken);break;case 1:r.Ae(),r._e||r.Ee(),r.de(t.resumeToken);break;case 2:r.Ae(),r._e||e.removeTarget(n);break;case 3:e.xe(n)&&(r.Re(),r.de(t.resumeToken));break;case 4:e.xe(n)&&(e.Fe(n),r.de(t.resumeToken));break;default:gr()}})},t.prototype.Ce=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ge.forEach(function(t,r){n.xe(r)&&e(r)})},t.prototype.ke=function(t){var e=t.targetId,n=t.oe.count,r=this.Oe(e);if(r){var i=r.target;if(Yr(i))if(0===n){var s=new Br(i.path);this.Se(e,s,new fo(s,Fr.min()))}else yr(1===n);else this.Me(e)!==n&&(this.Fe(e),this.pe=this.pe.add(e))}},t.prototype.$e=function(t){var e=this,n=new Map;this.ge.forEach(function(r,i){var s=e.Oe(i);if(s){if(r.te&&Yr(s.target)){var o=new Br(s.target.path);null!==e.Ve.get(o)||e.Le(i,o)||e.Se(i,o,new fo(o,t))}r.fe&&(n.set(i,r.we()),r.Ee())}});var r=pi();this.ye.forEach(function(t,n){var i=!0;n.Ft(function(t){var n=e.Oe(t);return!n||2===n.et||(i=!1,!1)}),i&&(r=r.add(t))});var i=new bi(t,n,this.pe,this.Ve,r);return this.Ve=ui(),this.ye=Ti(),this.pe=new si(wr),i},t.prototype.ve=function(t,e){if(this.xe(t)){var n=this.Le(t,e.key)?2:0;this.Ne(t).Te(e.key,n),this.Ve=this.Ve.ot(e.key,e),this.ye=this.ye.ot(e.key,this.Be(e.key).add(t))}},t.prototype.Se=function(t,e,n){if(this.xe(t)){var r=this.Ne(t);this.Le(t,e)?r.Te(e,1):r.Ie(e),this.ye=this.ye.ot(e,this.Be(e).delete(t)),n&&(this.Ve=this.Ve.ot(e,n))}},t.prototype.removeTarget=function(t){this.ge.delete(t)},t.prototype.Me=function(t){var e=this.Ne(t).we();return this.Pe.qe(t).size+e.ee.size-e.se.size},t.prototype.me=function(t){this.Ne(t).me()},t.prototype.Ne=function(t){var e=this.ge.get(t);return e||(e=new xi,this.ge.set(t,e)),e},t.prototype.Be=function(t){var e=this.ye.get(t);return e||(e=new si(wr),this.ye=this.ye.ot(t,e)),e},t.prototype.xe=function(t){var e=null!==this.Oe(t);return e||dr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Oe=function(t){var e=this.ge.get(t);return e&&e._e?null:this.Pe.Ue(t)},t.prototype.Fe=function(t){var e=this;this.ge.set(t,new xi),this.Pe.qe(t).forEach(function(n){e.Se(t,n,null)})},t.prototype.Le=function(t,e){return this.Pe.qe(t).has(e)},t}();function Ti(){return new ni(Br.D)}function Ii(){return new ni(Br.D)}function Oi(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ai(t){var e=t.mapValue.fields.__previous_value__;return Oi(e)?Ai(e):e}function Di(t){var e=Ui(t.mapValue.fields.__local_write_time__.timestampValue);return new Lr(e.seconds,e.nanos)}var Ri=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Oi(t)?4:10:gr()}function Pi(t,e){var n=Ni(t);if(n!==Ni(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Di(t).isEqual(Di(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ui(t.timestampValue),r=Ui(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return zi(t.bytesValue).isEqual(zi(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Bi(t.geoPointValue.latitude)===Bi(e.geoPointValue.latitude)&&Bi(t.geoPointValue.longitude)===Bi(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Bi(t.integerValue)===Bi(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Bi(t.doubleValue),r=Bi(e.doubleValue);return n===r?qr(n)===qr(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Sr(t.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Dr(n)!==Dr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Pi(n[i],r[i])))return!1;return!0}(t,e);default:return gr()}}function Li(t,e){return void 0!==(t.values||[]).find(function(t){return Pi(t,e)})}function Fi(t,e){var n=Ni(t),r=Ni(e);if(n!==r)return wr(n,r);switch(n){case 0:return 0;case 1:return wr(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Bi(t.integerValue||t.doubleValue),r=Bi(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return ji(t.timestampValue,e.timestampValue);case 4:return ji(Di(t),Di(e));case 5:return wr(t.stringValue,e.stringValue);case 6:return function(t,e){var n=zi(t),r=zi(e);return n.h(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=wr(n[i],r[i]);if(0!==s)return s}return wr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=wr(Bi(t.latitude),Bi(e.latitude));return 0!==n?n:wr(Bi(t.longitude),Bi(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Fi(n[i],r[i]);if(s)return s}return wr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=wr(r[o],s[o]);if(0!==a)return a;var u=Fi(n[r[o]],i[s[o]]);if(0!==u)return u}return wr(r.length,s.length)}(t.mapValue,e.mapValue);default:throw gr()}}function ji(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return wr(t,e);var n=Ui(t),r=Ui(e),i=wr(n.seconds,r.seconds);return 0!==i?i:wr(n.nanos,r.nanos)}function Mi(t){return Vi(t)}function Vi(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Ui(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?zi(t.bytesValue).toBase64():"referenceValue"in t?Br.J(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Vi(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+Vi(t.fields[s])}return e+"}"}(t.mapValue):gr();var e}function Ui(t){if(yr(!!t),"string"==typeof t){var e=0,n=Ri.exec(t);if(yr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Bi(t.seconds),nanos:Bi(t.nanos)}}function Bi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function zi(t){return"string"==typeof t?Cr.fromBase64String(t):Cr.fromUint8Array(t)}function qi(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.B()}}function Hi(t){return!!t&&"integerValue"in t}function Gi(t){return!!t&&"arrayValue"in t}function $i(t){return!!t&&"nullValue"in t}function Wi(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ki(t){return!!t&&"mapValue"in t}var Yi={asc:"ASCENDING",desc:"DESCENDING"},Qi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zi=function(t,e){this._=t,this.Ke=e};function Xi(t){return{integerValue:""+t}}function Ji(t,e){if(t.Ke){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qr(e)?"-0":e}}function ts(t,e){return Hr(e)?Xi(e):Ji(t,e)}function es(t,e){return t.Ke?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function ns(t,e){return t.Ke?e.toBase64():e.toUint8Array()}function rs(t,e){return es(t,e.v())}function is(t){return yr(!!t),Fr.V(function(t){var e=Ui(t);return new Lr(e.seconds,e.nanos)}(t))}function ss(t,e){return function(t){return new Mr(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).B()}function os(t){var e=Mr.q(t);return yr(Os(e)),e}function as(t,e){return ss(t._,e.path)}function us(t,e){var n=os(e);return yr(n.get(1)===t._.projectId),yr(!n.get(3)&&!t._.database||n.get(3)===t._.database),new Br(ds(n))}function ls(t,e){return ss(t._,e)}function cs(t){var e=os(t);return 4===e.length?Mr.U():ds(e)}function hs(t){return new Mr(["projects",t._.projectId,"databases",t._.database]).B()}function ds(t){return yr(t.length>4&&"documents"===t.get(4)),t.N(5)}function fs(t,e,n){return{name:as(t,e),fields:n.proto.mapValue.fields}}function ps(t,e){var n;if(e instanceof Js)n={update:fs(t,e.key,e.value)};else if(e instanceof so)n={delete:as(t,e.key)};else if(e instanceof to)n={update:fs(t,e.key,e.data),updateMask:Is(e.Qe)};else if(e instanceof no)n={transform:{document:as(t,e.key),fieldTransforms:e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Ps)return{fieldPath:e.field.B(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ls)return{fieldPath:e.field.B(),appendMissingElements:{values:n.elements}};if(n instanceof js)return{fieldPath:e.field.B(),removeAllFromArray:{values:n.elements}};if(n instanceof Vs)return{fieldPath:e.field.B(),increment:n.We};throw gr()}(0,t)})}};else{if(!(e instanceof oo))return gr();n={verify:as(t,e.key)}}return e.Ge.je||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:rs(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:gr()}(t,e.Ge)),n}function ms(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Gs.updateTime(is(t.updateTime)):void 0!==t.exists?Gs.exists(t.exists):Gs.ze()}(e.currentDocument):Gs.ze();if(e.update){var r=us(t,e.update.name),i=new ao({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new zs((t.fieldPaths||[]).map(function(t){return Ur.G(t)}))}(e.updateMask);return new to(r,i,s,n)}return new Js(r,i,n)}if(e.delete){var o=us(t,e.delete);return new so(o,n)}if(e.transform){var a=us(t,e.transform.document),u=e.transform.fieldTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(yr("REQUEST_TIME"===e.setToServerValue),n=new Ps):"appendMissingElements"in e?n=new Ls(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new js(e.removeAllFromArray.values||[]):"increment"in e?n=new Vs(t,e.increment):gr();var r=Ur.G(e.fieldPath);return new qs(r,n)}(t,e)});return yr(!0===n.exists),new no(a,u)}if(e.verify){var l=us(t,e.verify);return new oo(l,n)}return gr()}function gs(t,e){return{documents:[ls(t,e.path)]}}function ys(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ls(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ls(t,r.F()),n.structuredQuery.from=[{collectionId:r.O()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Wi(t.value))return{unaryFilter:{field:Cs(t.field),op:"IS_NAN"}};if($i(t.value))return{unaryFilter:{field:Cs(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Wi(t.value))return{unaryFilter:{field:Cs(t.field),op:"IS_NOT_NAN"}};if($i(t.value))return{unaryFilter:{field:Cs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cs(t.field),op:Es(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Cs(t.field),direction:Ss(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.Ke||zr(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=bs(e.startAt)),e.endAt&&(n.structuredQuery.endAt=bs(e.endAt)),n}function _s(t){var e=cs(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){yr(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=vs(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new $o(xs(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return zr(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=ws(n.startAt));var c=null;return n.endAt&&(c=ws(n.endAt)),Co(go(e,i,a,o,u,"F",l,c))}function vs(t){return t?void 0!==t.unaryFilter?[Ts(t)]:void 0!==t.fieldFilter?[ks(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return vs(t)}).reduce(function(t,e){return t.concat(e)}):gr():[]}function bs(t){return{before:t.before,values:t.position}}function ws(t){return new zo(t.values||[],!!t.before)}function Ss(t){return Yi[t]}function Es(t){return Qi[t]}function Cs(t){return{fieldPath:t.B()}}function xs(t){return Ur.G(t.fieldPath)}function ks(t){return No.create(xs(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return gr()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ts(t){switch(t.unaryFilter.op){case"IS_NAN":var e=xs(t.unaryFilter.field);return No.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=xs(t.unaryFilter.field);return No.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=xs(t.unaryFilter.field);return No.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=xs(t.unaryFilter.field);return No.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return gr()}}function Is(t){var e=[];return t.fields.forEach(function(t){return e.push(t.B())}),{fieldPaths:e}}function Os(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var As=function(){this.He=void 0};function Ds(t,e,n){return t instanceof Ps?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ls?Fs(t,e):t instanceof js?Ms(t,e):function(t,e){var n=Ns(t,e),r=Us(n)+Us(t.We);return Hi(n)&&Hi(t.We)?Xi(r):Ji(t.serializer,r)}(t,e)}function Rs(t,e,n){return t instanceof Ls?Fs(t,e):t instanceof js?Ms(t,e):n}function Ns(t,e){return t instanceof Vs?Hi(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ps=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e}(As),Ls=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(r.c)(e,t),e}(As);function Fs(t,e){for(var n=Bs(e),r=function(t){n.some(function(e){return Pi(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var js=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(r.c)(e,t),e}(As);function Ms(t,e){for(var n=Bs(e),r=function(t){n=n.filter(function(e){return!Pi(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Vs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.We=n,r}return Object(r.c)(e,t),e}(As);function Us(t){return Bi(t.integerValue||t.doubleValue)}function Bs(t){return Gi(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var zs=function(){function t(t){this.fields=t,t.sort(Ur.D)}return t.prototype.Je=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].M(t))return!0;return!1},t.prototype.isEqual=function(t){return Sr(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),qs=function(t,e){this.field=t,this.transform=e},Hs=function(t,e){this.version=t,this.transformResults=e},Gs=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ze=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"je",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function $s(t,e){return void 0!==t.updateTime?e instanceof ho&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof ho}var Ws=function(){};function Ks(t,e,n){return t instanceof Js?function(t,e,n){return new ho(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof to?function(t,e,n){if(!$s(t.Ge,e))return new po(t.key,n.version);var r=eo(t,e);return new ho(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof no?function(t,e,n){if(yr(null!=n.transformResults),!$s(t.Ge,e))return new po(t.key,n.version);var r=ro(0,e),i=function(t,e,n){var r=[];yr(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof ho&&(a=e.field(s.field)),r.push(Rs(o,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),s=n.version,o=io(t,r.data(),i);return new ho(t.key,s,o,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new fo(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Ys(t,e,n,r){return t instanceof Js?function(t,e){if(!$s(t.Ge,e))return e;var n=Xs(e);return new ho(t.key,n,t.value,{Ye:!0})}(t,e):t instanceof to?function(t,e){if(!$s(t.Ge,e))return e;var n=Xs(e),r=eo(t,e);return new ho(t.key,n,r,{Ye:!0})}(t,e):t instanceof no?function(t,e,n,r){if(!$s(t.Ge,e))return e;var i=ro(0,e),s=function(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,l=null;n instanceof ho&&(l=n.field(a.field)),null===l&&r instanceof ho&&(l=r.field(a.field)),i.push(Ds(u,l,e))}return i}(t.fieldTransforms,n,e,r),o=io(t,i.data(),s);return new ho(t.key,i.version,o,{Ye:!0})}(t,e,r,n):function(t,e){return $s(t.Ge,e)?new fo(t.key,Fr.min()):e}(t,e)}function Qs(t,e){return t instanceof no?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e instanceof ho?e.field(s.field):void 0,a=Ns(s.transform,o||null);null!=a&&(n=null==n?(new uo).set(s.field,a):n.set(s.field,a))}return n?n.Xe():null}(t,e):null}function Zs(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Qe.isEqual(e.Qe):2!==t.type||Sr(t.fieldTransforms,t.fieldTransforms,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ls&&e instanceof Ls||t instanceof js&&e instanceof js?Sr(t.elements,e.elements,Pi):t instanceof Vs&&e instanceof Vs?Pi(t.We,e.We):t instanceof Ps&&e instanceof Ps}(t.transform,e.transform)}(t,e)}))}function Xs(t){return t instanceof ho?t.version:Fr.min()}var Js=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ge=r,i.type=0,i}return Object(r.c)(e,t),e}(Ws),to=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Qe=r,s.Ge=i,s.type=1,s}return Object(r.c)(e,t),e}(Ws);function eo(t,e){return function(t,e){var n=new uo(e);return t.Qe.fields.forEach(function(e){if(!e.P()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Xe()}(t,e instanceof ho?e.data():ao.empty())}var no=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ge=Gs.exists(!0),r}return Object(r.c)(e,t),e}(Ws);function ro(t,e){return e}function io(t,e,n){for(var r=new uo(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.Xe()}var so=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=3,r}return Object(r.c)(e,t),e}(Ws),oo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=4,r}return Object(r.c)(e,t),e}(Ws),ao=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.P())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Ki(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.O()])||null},t.prototype.isEqual=function(t){return Pi(this.proto,t.proto)},t}(),uo=function(){function t(t){void 0===t&&(t=ao.empty()),this.Ze=t,this.tn=new Map}return t.prototype.set=function(t,e){return this.en(t,e),this},t.prototype.delete=function(t){return this.en(t,null),this},t.prototype.en=function(t,e){for(var n=this.tn,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===Ni(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.O(),e)},t.prototype.Xe=function(){var t=this.nn(Ur.U(),this.tn);return null!=t?new ao(t):this.Ze},t.prototype.nn=function(t,e){var n=this,r=!1,i=this.Ze.field(t),s=Ki(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var o=n.nn(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)}),r?{mapValue:{fields:s}}:null},t}();function lo(t){var e=[];return Rr(t.fields||{},function(t,n){var r=new Ur([t]);if(Ki(n)){var i=lo(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new zs(e)}var co=function(t,e){this.key=t,this.version=e},ho=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).sn=r,s.Ye=!!i.Ye,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(r.c)(e,t),e.prototype.field=function(t){return this.sn.field(t)},e.prototype.data=function(){return this.sn},e.prototype.rn=function(){return this.sn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Ye===t.Ye&&this.hasCommittedMutations===t.hasCommittedMutations&&this.sn.isEqual(t.sn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Ye+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Ye||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(co),fo=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(r.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(co),po=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(co),mo=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.on=n,this.filters=r,this.limit=i,this.an=s,this.startAt=o,this.endAt=a,this.hn=null,this.cn=null};function go(t,e,n,r,i,s,o,a){return new mo(t,e,n,r,i,s,o,a)}function yo(t){return new mo(t)}function _o(t){return!zr(t.limit)&&"F"===t.an}function vo(t){return!zr(t.limit)&&"L"===t.an}function bo(t){return t.on.length>0?t.on[0].field:null}function wo(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.un())return r.field}return null}function So(t){return null!==t.collectionGroup}function Eo(t){var e=_r(t);if(null===e.hn){e.hn=[];var n=wo(e),r=bo(e);if(null!==n&&null===r)n.W()||e.hn.push(new $o(n)),e.hn.push(new $o(Ur.j(),"asc"));else{for(var i=!1,s=0,o=e.on;s<o.length;s++){var a=o[s];e.hn.push(a),a.field.W()&&(i=!0)}if(!i){var u=e.on.length>0?e.on[e.on.length-1].dir:"asc";e.hn.push(new $o(Ur.j(),u))}}}return e.hn}function Co(t){var e=_r(t);if(!e.cn)if("F"===e.an)e.cn=$r(e.path,e.collectionGroup,Eo(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Eo(e);r<i.length;r++){var s=i[r];n.push(new $o(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new zo(e.endAt.position,!e.endAt.before):null,a=e.startAt?new zo(e.startAt.position,!e.startAt.before):null;e.cn=$r(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.cn}function xo(t,e,n){return new mo(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ko(t,e){return new mo(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function To(t,e){return new mo(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function Io(t,e){return Kr(Co(t),Co(e))&&t.an===e.an}function Oo(t){return Wr(Co(t))+"|lt:"+t.an}function Ao(t){return"Query(target="+function(t){var e=t.path.B();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.B()+" "+e.op+" "+Mi(e.value);var e}).join(", ")+"]"),zr(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return(e=t).field.B()+" ("+e.dir+")";var e}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+qo(t.startAt)),t.endAt&&(e+=", endAt: "+qo(t.endAt)),"Target("+e+")"}(Co(t))+"; limitType="+t.an+")"}function Do(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.Y(t.collectionGroup)&&t.path.M(n):Br.X(t.path)?t.path.isEqual(n):t.path.$(n)}(t,e)&&function(t,e){for(var n=0,r=t.on;n<r.length;n++){var i=r[n];if(!i.field.W()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Ho(t.startAt,Eo(t),e)||t.endAt&&Ho(t.endAt,Eo(t),e))}(t,e)}function Ro(t){return function(e,n){for(var r=!1,i=0,s=Eo(t);i<s.length;i++){var o=s[i],a=Wo(o,e,n);if(0!==a)return a;r=r||o.field.W()}return 0}}var No=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(r.c)(e,t),e.create=function(t,n,r){return t.W()?"in"===n||"not-in"===n?this.ln(t,n,r):new Po(t,n,r):"array-contains"===n?new Mo(t,r):"in"===n?new Vo(t,r):"not-in"===n?new Uo(t,r):"array-contains-any"===n?new Bo(t,r):new e(t,n,r)},e.ln=function(t,e,n){return"in"===e?new Lo(t,n):new Fo(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this._n(Fi(e,this.value)):null!==e&&Ni(this.value)===Ni(e)&&this._n(Fi(e,this.value))},e.prototype._n=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return gr()}},e.prototype.un=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Po=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Br.J(r.referenceValue),i}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=Br.D(t.key,this.key);return this._n(e)},e}(No),Lo=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=jo(0,n),r}return Object(r.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(No),Fo=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=jo(0,n),r}return Object(r.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(No);function jo(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Br.J(t.referenceValue)})}var Mo=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Gi(e)&&Li(e.arrayValue,this.value)},e}(No),Vo=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Li(this.value.arrayValue,e)},e}(No),Uo=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){if(Li(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Li(this.value.arrayValue,e)},e}(No),Bo=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Gi(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Li(e.value.arrayValue,t)})},e}(No),zo=function(t,e){this.position=t,this.before=e};function qo(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Mi(t)}).join(",")}function Ho(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.W()?Br.D(Br.J(o.referenceValue),n.key):Fi(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Go(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Pi(t.position[n],e.position[n]))return!1;return!0}var $o=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Wo(t,e,n){var r=t.field.W()?Br.D(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Fi(r,i):gr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return gr()}}function Ko(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Yo=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Qo=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.fn=t,this.dn=e,this.wn=n,this.En=r,this.Tn=i,this.In=0,this.mn=null,this.An=Date.now(),this.reset()}return t.prototype.reset=function(){this.In=0},t.prototype.Rn=function(){this.In=this.Tn},t.prototype.Pn=function(t){var e=this;this.cancel();var n=Math.floor(this.In+this.gn()),r=Math.max(0,Date.now()-this.An),i=Math.max(0,n-r);i>0&&dr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.In+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.mn=this.fn.Vn(this.dn,i,function(){return e.An=Date.now(),t()}),this.In*=this.En,this.In<this.wn&&(this.In=this.wn),this.In>this.Tn&&(this.In=this.Tn)},t.prototype.yn=function(){null!==this.mn&&(this.mn.pn(),this.mn=null)},t.prototype.cancel=function(){null!==this.mn&&(this.mn.cancel(),this.mn=null)},t.prototype.gn=function(){return(Math.random()-.5)*this.In},t}(),Zo=function(){function t(t){var e=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,t(function(t){e.Sn=!0,e.result=t,e.bn&&e.bn(t)},function(t){e.Sn=!0,e.error=t,e.vn&&e.vn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Dn&&gr(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(e,this.result):new t(function(t,i){r.bn=function(n){r.Nn(e,n).next(t,i)},r.vn=function(e){r.Cn(n,e).next(t,i)}})},t.prototype.xn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Fn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Nn=function(e,n){return e?this.Fn(function(){return e(n)}):t.resolve(n)},t.prototype.Cn=function(e,n){return e?this.Fn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.kn=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.On=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.kn(r)},t}(),Xo=function(){function t(e,n,r){this.name=e,this.version=n,this.Mn=r,12.2===t.$n(Object(o.g)())&&fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return dr("SimpleDb","Removing database:",t),ia(window.indexedDB.deleteDatabase(t)).xn()},t.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(t.Bn())return!0;var e=Object(o.g)(),n=t.$n(e),r=0<n&&n<10,i=t.qn(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.Bn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Un)},t.Kn=function(t,e){return t.store(e)},t.$n=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.qn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Qn=function(t){return Object(r.b)(this,void 0,void 0,function(){var e,n=this;return Object(r.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(dr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new ta(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new lr(ur.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ta(t,n))},i.onupgradeneeded=function(t){dr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Mn.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){dr("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Wn&&(this.db.onversionchange=function(t){return n.Wn(t)}),this.db)]}})})},t.prototype.jn=function(t){this.Wn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return Object(r.b)(this,void 0,void 0,function(){var s,o,a,u,l;return Object(r.d)(this,function(c){switch(c.label){case 0:s="readonly"===e,o=0,a=function(){var e,a,l,c,h;return Object(r.d)(this,function(r){switch(r.label){case 0:++o,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.Qn(t)];case 2:return u.db=r.sent(),e=na.open(u.db,t,s?"readonly":"readwrite",n),a=i(e).catch(function(t){return e.abort(t),Zo.reject(t)}).xn(),l={},a.catch(function(){}),[4,e.Gn];case 3:return[2,(l.value=(r.sent(),a),l)];case 4:return dr("SimpleDb","Transaction failed with error:",(c=r.sent()).message,"Retrying:",h="FirebaseError"!==c.name&&o<3),u.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},u=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(l=c.sent()))return[2,l.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Jo=function(){function t(t){this.zn=t,this.Hn=!1,this.Jn=null}return Object.defineProperty(t.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Yn",{get:function(){return this.Jn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Hn=!0},t.prototype.Xn=function(t){this.Jn=t},t.prototype.delete=function(){return ia(this.zn.delete())},t}(),ta=function(t){function e(e,n){var r=this;return(r=t.call(this,ur.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(r.c)(e,t),e}(lr);function ea(t){return"IndexedDbTransactionError"===t.name}var na=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Zn=new Yo,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){e.error?n.Zn.reject(new ta(t,e.error)):n.Zn.resolve()},this.transaction.onerror=function(e){var r=oa(e.target.error);n.Zn.reject(new ta(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ta(n,e)}},Object.defineProperty(t.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Zn.reject(t),this.aborted||(dr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ra(e)},t}(),ra=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(dr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(dr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ia(n)},t.prototype.add=function(t){return dr("SimpleDb","ADD",this.store.name,t,t),ia(this.store.add(t))},t.prototype.get=function(t){var e=this;return ia(this.store.get(t)).next(function(n){return void 0===n&&(n=null),dr("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return dr("SimpleDb","DELETE",this.store.name,t),ia(this.store.delete(t))},t.prototype.count=function(){return dr("SimpleDb","COUNT",this.store.name),ia(this.store.count())},t.prototype.ts=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.es(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.ns=function(t,e){dr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ss=!1;var r=this.cursor(n);return this.es(r,function(t,e,n){return n.delete()})},t.prototype.rs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.es(r,e)},t.prototype.os=function(t){var e=this.cursor({});return new Zo(function(n,r){e.onerror=function(t){var e=oa(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.es=function(t,e){var n=[];return new Zo(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Jo(i),o=e(i.primaryKey,i.value,s);if(o instanceof Zo){var a=o.catch(function(t){return s.done(),Zo.reject(t)});n.push(a)}s.Sn?r():null===s.Yn?i.continue():i.continue(s.Yn)}else r()}}).next(function(){return Zo.kn(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ss?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ia(t){return new Zo(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=oa(t.target.error);n(e)}})}var sa=!1;function oa(t){var e=Xo.$n(Object(o.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new lr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return sa||(sa=!0,setTimeout(function(){throw r},0)),r}}return t}function aa(){return"undefined"!=typeof window?window:null}function ua(){return"undefined"!=typeof document?document:null}var la=function(){function t(t,e,n,r,i){this.hs=t,this.dn=e,this.cs=n,this.op=r,this.us=i,this.ls=new Yo,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(t){})}return t._s=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.fs=setTimeout(function(){return e.ds()},t)},t.prototype.pn=function(){return this.ds()},t.prototype.cancel=function(t){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new lr(ur.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.ds=function(){var t=this;this.hs.ws(function(){return null!==t.fs?(t.clearTimeout(),t.op().then(function(e){return t.ls.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.fs&&(this.us(this),clearTimeout(this.fs),this.fs=null)},t}(),ca=function(){function t(){var t=this;this.Es=Promise.resolve(),this.Ts=[],this.Is=!1,this.As=[],this.Rs=null,this.Ps=!1,this.gs=[],this.Vs=new Qo(this,"async_queue_retry"),this.ys=function(){var e=ua();e&&dr("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.Vs.yn()};var e=ua();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ys)}return Object.defineProperty(t.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),t.prototype.ws=function(t){this.enqueue(t)},t.prototype.bs=function(t){this.vs(),this.Ss(t)},t.prototype.Ds=function(){if(!this.Is){this.Is=!0;var t=ua();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ys)}},t.prototype.enqueue=function(t){return this.vs(),this.Is?new Promise(function(t){}):this.Ss(t)},t.prototype.Cs=function(t){var e=this;this.ws(function(){return e.Ts.push(t),e.Ns()})},t.prototype.Ns=function(){return Object(r.b)(this,void 0,void 0,function(){var t,e=this;return Object(r.d)(this,function(n){switch(n.label){case 0:if(0===this.Ts.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Ts[0]()];case 2:return n.sent(),this.Ts.shift(),this.Vs.reset(),[3,4];case 3:if(!ea(t=n.sent()))throw t;return dr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Ts.length>0&&this.Vs.Pn(function(){return e.Ns()}),n.label=5;case 5:return[2]}})})},t.prototype.Ss=function(t){var e=this,n=this.Es.then(function(){return e.Ps=!0,t().catch(function(t){throw e.Rs=t,e.Ps=!1,fr("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Ps=!1,t})});return this.Es=n,n},t.prototype.Vn=function(t,e,n){var r=this;this.vs(),this.gs.indexOf(t)>-1&&(e=0);var i=la._s(this,t,e,n,function(t){return r.xs(t)});return this.As.push(i),i},t.prototype.vs=function(){this.Rs&&gr()},t.prototype.Fs=function(){},t.prototype.ks=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Es];case 1:e.sent(),e.label=2;case 2:if(t!==this.Es)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Os=function(t){for(var e=0,n=this.As;e<n.length;e++)if(n[e].dn===t)return!0;return!1},t.prototype.Ms=function(t){var e=this;return this.ks().then(function(){e.As.sort(function(t,e){return t.cs-e.cs});for(var n=0,r=e.As;n<r.length;n++){var i=r[n];if(i.pn(),"all"!==t&&i.dn===t)break}return e.ks()})},t.prototype.$s=function(t){this.gs.push(t)},t.prototype.xs=function(t){var e=this.As.indexOf(t);this.As.splice(e,1)},t}();function ha(t,e){if(fr("AsyncQueue",e+": "+t),ea(t))return new lr(ur.UNAVAILABLE,e+": "+t);throw t}var da=function(){this.Ls=void 0,this.listeners=[]},fa=function(){this.Bs=new Pr(function(t){return Oo(t)},Io),this.onlineState="Unknown",this.qs=new Set};function pa(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,s,o,a,u,l;return Object(r.d)(this,function(r){switch(r.label){case 0:if(n=_r(t),s=!1,(o=n.Bs.get(i=e.query))||(s=!0,o=new da),!s)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),a=o,[4,n.Us(i)];case 2:return a.Ls=r.sent(),[3,4];case 3:return u=r.sent(),l=ha(u,"Initialization of query '"+Ao(e.query)+"' failed"),[2,void e.onError(l)];case 4:return n.Bs.set(i,o),o.listeners.push(e),e.Ks(n.onlineState),o.Ls&&e.Qs(o.Ls)&&_a(n),[2]}})})}function ma(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,s,o,a;return Object(r.d)(this,function(r){return n=_r(t),s=!1,(o=n.Bs.get(i=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),s=0===o.listeners.length),s?[2,(n.Bs.delete(i),n.Ws(i))]:[2]})})}function ga(t,e){for(var n=_r(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.Bs.get(o.query);if(a){for(var u=0,l=a.listeners;u<l.length;u++)l[u].Qs(o)&&(r=!0);a.Ls=o}}r&&_a(n)}function ya(t,e,n){var r=_r(t),i=r.Bs.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.Bs.delete(e)}function _a(t){t.qs.forEach(function(t){t.next()})}var va=function(){function t(t,e,n){this.query=t,this.js=e,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Qs=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new vi(t.query,t.docs,t.Kt,e,t.Qt,t.fromCache,t.Wt,!0)}var s=!1;return this.Gs?this.Hs(t)&&(this.js.next(t),s=!0):this.Js(t,this.onlineState)&&(this.Ys(t),s=!0),this.zs=t,s},t.prototype.onError=function(t){this.js.error(t)},t.prototype.Ks=function(t){this.onlineState=t;var e=!1;return this.zs&&!this.Gs&&this.Js(this.zs,t)&&(this.Ys(this.zs),e=!0),e},t.prototype.Js=function(t,e){return!t.fromCache||!(this.options.Xs&&"Offline"!==e||t.docs.P()&&"Offline"!==e)},t.prototype.Hs=function(t){return t.docChanges.length>0||!!(t.Wt||this.zs&&this.zs.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Ys=function(t){t=vi.Gt(t.query,t.docs,t.Qt,t.fromCache),this.Gs=!0,this.js.next(t)},t}(),ba=function(){function t(t){this.uid=t}return t.prototype.Zs=function(){return null!=this.uid},t.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();ba.UNAUTHENTICATED=new ba(null),ba.ei=new ba("google-credentials-uid"),ba.ni=new ba("first-party-uid");var wa=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.si=function(t){return n.ii(t)},this.ri=function(t){return e.oi(t)})}return t.prototype.ii=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ri&&this.ri(t),t},t}();function Sa(t,e){return"firestore_clients_"+t+"_"+e}function Ea(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Zs()&&(r+="_"+e.uid),r}function Ca(t,e){return"firestore_targets_"+t+"_"+e}wa.ai=-1;var xa=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.hi=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new lr(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(fr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ci=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ka=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.hi=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new lr(r.error.code,r.error.message)),i?new t(e,r.state,s):(fr("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ci=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ta=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.hi=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=gi(),o=0;i&&o<r.activeTargetIds.length;++o)i=Hr(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(fr("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Ia=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.hi=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(fr("SharedClientState","Failed to parse online state: "+e),null)},t}(),Oa=function(){function t(){this.activeTargetIds=gi()}return t.prototype.ui=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.li=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ci=function(){var t={activeTargetIds:this.activeTargetIds.L(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Aa=function(){function t(t,e,n,r,i){this.window=t,this.fn=e,this.persistenceKey=n,this._i=r,this.fi=null,this.di=null,this.si=null,this.wi=this.Ei.bind(this),this.Ti=new ni(wr),this.Ii=!1,this.mi=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ai=Sa(this.persistenceKey,this._i),this.Ri=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ti=this.Ti.ot(this._i,new Oa),this.Pi=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.gi=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Vi=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.yi=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wi)}return t.Ln=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(r.b)(this,void 0,void 0,function(){var t,e,n,i,s,o,a,u,l,c,h=this;return Object(r.d)(this,function(r){switch(r.label){case 0:return[4,this.fi.pi()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this._i&&(s=this.getItem(Sa(this.persistenceKey,i)))&&(o=Ta.hi(i,s))&&(this.Ti=this.Ti.ot(o.clientId,o));for(this.bi(),(a=this.storage.getItem(this.yi))&&(u=this.vi(a))&&this.Si(u),l=0,c=this.mi;l<c.length;l++)this.Ei(c[l]);return this.mi=[],this.window.addEventListener("unload",function(){return h.Di()}),this.Ii=!0,[2]}})})},t.prototype.oi=function(t){this.setItem(this.Ri,JSON.stringify(t))},t.prototype.Ci=function(){return this.Ni(this.Ti)},t.prototype.xi=function(t){var e=!1;return this.Ti.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Fi=function(t){this.ki(t,"pending")},t.prototype.Oi=function(t,e,n){this.ki(t,e,n),this.Mi(t)},t.prototype.$i=function(t){var e="not-current";if(this.xi(t)){var n=this.storage.getItem(Ca(this.persistenceKey,t));if(n){var r=ka.hi(t,n);r&&(e=r.state)}}return this.Li.ui(t),this.bi(),e},t.prototype.Bi=function(t){this.Li.li(t),this.bi()},t.prototype.qi=function(t){return this.Li.activeTargetIds.has(t)},t.prototype.Ui=function(t){this.removeItem(Ca(this.persistenceKey,t))},t.prototype.Ki=function(t,e,n){this.Qi(t,e,n)},t.prototype.Wi=function(t,e,n){var r=this;e.forEach(function(t){r.Mi(t)}),this.currentUser=t,n.forEach(function(t){r.Fi(t)})},t.prototype.ji=function(t){this.Gi(t)},t.prototype.Di=function(){this.Ii&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ii=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return dr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){dr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){dr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ei=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(dr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ai)return void fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return Object(r.b)(e,void 0,void 0,function(){var t,e,i,s,o,a;return Object(r.d)(this,function(r){if(this.Ii){if(null!==n.key)if(this.Pi.test(n.key)){if(null==n.newValue)return t=this.zi(n.key),[2,this.Hi(t,null)];if(e=this.Ji(n.key,n.newValue))return[2,this.Hi(e.clientId,e)]}else if(this.gi.test(n.key)){if(null!==n.newValue&&(i=this.Yi(n.key,n.newValue)))return[2,this.Xi(i)]}else if(this.Vi.test(n.key)){if(null!==n.newValue&&(s=this.Zi(n.key,n.newValue)))return[2,this.tr(s)]}else if(n.key===this.yi){if(null!==n.newValue&&(o=this.vi(n.newValue)))return[2,this.Si(o)]}else n.key===this.Ri&&(a=function(t){var e=wa.ai;if(null!=t)try{var n=JSON.parse(t);yr("number"==typeof n),e=n}catch(t){fr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==wa.ai&&this.si(a)}else this.mi.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),t.prototype.bi=function(){this.setItem(this.Ai,this.Li.ci())},t.prototype.ki=function(t,e,n){var r=new xa(this.currentUser,t,e,n),i=Ea(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ci())},t.prototype.Mi=function(t){var e=Ea(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Gi=function(t){this.storage.setItem(this.yi,JSON.stringify({clientId:this._i,onlineState:t}))},t.prototype.Qi=function(t,e,n){var r=Ca(this.persistenceKey,t),i=new ka(t,e,n);this.setItem(r,i.ci())},t.prototype.zi=function(t){var e=this.Pi.exec(t);return e?e[1]:null},t.prototype.Ji=function(t,e){var n=this.zi(t);return Ta.hi(n,e)},t.prototype.Yi=function(t,e){var n=this.gi.exec(t),r=Number(n[1]);return xa.hi(new ba(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Zi=function(t,e){var n=this.Vi.exec(t),r=Number(n[1]);return ka.hi(r,e)},t.prototype.vi=function(t){return Ia.hi(t)},t.prototype.Xi=function(t){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fi.er(t.batchId,t.state,t.error)]:(dr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tr=function(t){return this.fi.nr(t.targetId,t.state,t.error)},t.prototype.Hi=function(t,e){var n=this,r=e?this.Ti.ot(t,e):this.Ti.remove(t),i=this.Ni(this.Ti),s=this.Ni(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.fi.sr(o,a).then(function(){n.Ti=r})},t.prototype.Si=function(t){this.Ti.get(t.clientId)&&this.di(t.onlineState)},t.prototype.Ni=function(t){var e=gi();return t.forEach(function(t,n){e=e.Ot(n.activeTargetIds)}),e},t}(),Da=function(){function t(){this.ir=new Oa,this.rr={},this.di=null,this.si=null}return t.prototype.Fi=function(t){},t.prototype.Oi=function(t,e,n){},t.prototype.$i=function(t){return this.ir.ui(t),this.rr[t]||"not-current"},t.prototype.Ki=function(t,e,n){this.rr[t]=e},t.prototype.Bi=function(t){this.ir.li(t)},t.prototype.qi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.Ui=function(t){delete this.rr[t]},t.prototype.Ci=function(){return this.ir.activeTargetIds},t.prototype.xi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.start=function(){return this.ir=new Oa,Promise.resolve()},t.prototype.Wi=function(t,e,n){},t.prototype.ji=function(t){},t.prototype.Di=function(){},t.prototype.oi=function(t){},t}(),Ra=function(){function t(t,e,n,r){this.batchId=t,this.ar=e,this.baseMutations=n,this.mutations=r}return t.prototype.hr=function(t,e,n){for(var r=n.cr,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=Ks(s,e,r[i]))}return e},t.prototype.ur=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Ys(i,e,e,this.ar))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var u=a[o];u.key.isEqual(t)&&(e=Ys(u,e,s,this.ar))}return e},t.prototype.lr=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.ur(r.key,t.get(r.key));i&&(n=n.ot(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},pi())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Sr(this.mutations,t.mutations,function(t,e){return Zs(t,e)})&&Sr(this.baseMutations,t.baseMutations,function(t,e){return Zs(t,e)})},t}(),Na=function(){function t(t,e,n,r){this.batch=t,this._r=e,this.cr=n,this.dr=r}return t.from=function(e,n,r){yr(e.mutations.length===r.length);for(var i=di,s=e.mutations,o=0;o<s.length;o++)i=i.ot(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Pa=function(){function t(){this.wr=new Pr(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.Er=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Tr},set:function(t){this.Tr=t},enumerable:!1,configurable:!0}),t.prototype.Ir=function(t,e){this.mr(),this.readTime=e,this.wr.set(t.key,t)},t.prototype.Ar=function(t,e){this.mr(),e&&(this.readTime=e),this.wr.set(t,null)},t.prototype.Rr=function(t,e){this.mr();var n=this.wr.get(e);return void 0!==n?Zo.resolve(n):this.Pr(t,e)},t.prototype.getEntries=function(t,e){return this.gr(t,e)},t.prototype.apply=function(t){return this.mr(),this.Er=!0,this.Vr(t)},t.prototype.mr=function(){},t}(),La="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Fa=function(){function t(){this.yr=[]}return t.prototype.pr=function(t){this.yr.push(t)},t.prototype.br=function(){this.yr.forEach(function(t){return t()})},t}(),ja=function(){function t(t,e,n){this.vr=t,this.Sr=e,this.Dr=n}return t.prototype.Cr=function(t,e){var n=this;return this.Sr.Nr(t,e).next(function(r){return n.Fr(t,e,r)})},t.prototype.Fr=function(t,e,n){return this.vr.Rr(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].ur(e,t);return t})},t.prototype.kr=function(t,e,n){var r=li();return e.forEach(function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].ur(t,e);r=r.ot(t,e)}),r},t.prototype.Or=function(t,e){var n=this;return this.vr.getEntries(t,e).next(function(e){return n.Mr(t,e)})},t.prototype.Mr=function(t,e){var n=this;return this.Sr.$r(t,e).next(function(r){var i=n.kr(t,e,r),s=ui();return i.forEach(function(t,e){e||(e=new fo(t,Fr.min())),s=s.ot(t,e)}),s})},t.prototype.Lr=function(t,e,n){return function(t){return Br.X(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Br(t,e.path):So(e)?this.qr(t,e,n):this.Ur(t,e,n)},t.prototype.Br=function(t,e){return this.Cr(t,new Br(e)).next(function(t){var e=hi();return t instanceof ho&&(e=e.ot(t.key,t)),e})},t.prototype.qr=function(t,e,n){var r=this,i=e.collectionGroup,s=hi();return this.Dr.Kr(t,i).next(function(o){return Zo.forEach(o,function(o){var a=function(t,e){return new mo(e,null,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(e,o.child(i));return r.Ur(t,a,n).next(function(t){t.forEach(function(t,e){s=s.ot(t,e)})})}).next(function(){return s})})},t.prototype.Ur=function(t,e,n){var r,i,s=this;return this.vr.Lr(t,e,n).next(function(n){return r=n,s.Sr.Qr(t,e)}).next(function(e){return s.Wr(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],l=u.key,c=r.get(l),h=Ys(u,c,c,s.ar);r=h instanceof ho?r.ot(l,h):r.remove(l)}})}).next(function(){return r.forEach(function(t,n){Do(e,n)||(r=r.remove(t))}),r})},t.prototype.Wr=function(t,e,n){for(var r=pi(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof to&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.vr.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof ho&&(l=l.ot(t,e))}),l})},t}(),Ma=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.jr=n,this.Gr=r}return t.zr=function(e,n){for(var r=pi(),i=pi(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}();function Va(t,e){var n=t[1],r=e[1],i=wr(t[0],e[0]);return 0===i?wr(n,r):i}var Ua=function(){function t(t){this.Hr=t,this.buffer=new si(Va),this.Jr=0}return t.prototype.Yr=function(){return++this.Jr},t.prototype.Xr=function(t){var e=[t,this.Yr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Va(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Ba={Zr:!1,eo:0,no:0,so:0},za=function(){function t(t,e,n){this.io=t,this.ro=e,this.oo=n}return t.ao=function(e){return new t(e,t.ho,t.co)},t}();za.uo=-1,za.lo=1048576,za._o=41943040,za.ho=10,za.co=1e3,za.fo=new za(za._o,za.ho,za.co),za.do=new za(za.uo,0,0);var qa=function(){function t(t,e){this.wo=t,this.hs=e,this.Eo=!1,this.To=null}return t.prototype.start=function(t){this.wo.params.io!==za.uo&&this.Io(t)},t.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(t.prototype,"Ii",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),t.prototype.Io=function(t){var e=this,n=this.Eo?3e5:6e4;dr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.To=this.hs.Vn("lru_garbage_collection",n,function(){return Object(r.b)(e,void 0,void 0,function(){var e;return Object(r.d)(this,function(n){switch(n.label){case 0:this.To=null,this.Eo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mo(this.wo)];case 2:return n.sent(),[3,7];case 3:return ea(e=n.sent())?(dr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ul(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Io(t)];case 8:return n.sent(),[2]}})})})},t}(),Ha=function(){function t(t,e){this.Ao=t,this.params=e}return t.prototype.Ro=function(t,e){return this.Ao.Po(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Vo=function(t,e){var n=this;if(0===e)return Zo.resolve(wa.ai);var r=new Ua(e);return this.Ao.Ce(t,function(t){return r.Xr(t.sequenceNumber)}).next(function(){return n.Ao.yo(t,function(t){return r.Xr(t)})}).next(function(){return r.maxValue})},t.prototype.po=function(t,e,n){return this.Ao.po(t,e,n)},t.prototype.bo=function(t,e){return this.Ao.bo(t,e)},t.prototype.vo=function(t,e){var n=this;return this.params.io===za.uo?(dr("LruGarbageCollector","Garbage collection skipped; disabled"),Zo.resolve(Ba)):this.So(t).next(function(r){return r<n.params.io?(dr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.io),Ba):n.Do(t,e)})},t.prototype.So=function(t){return this.Ao.So(t)},t.prototype.Do=function(t,e){var n,r,i,o,a,u,l,c=this,h=Date.now();return this.Ro(t,this.params.ro).next(function(e){return e>c.params.oo?(dr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.oo+" from "+e),r=c.params.oo):r=e,o=Date.now(),c.Vo(t,r)}).next(function(r){return n=r,a=Date.now(),c.po(t,n,e)}).next(function(e){return i=e,u=Date.now(),c.bo(t,n)}).next(function(t){return l=Date.now(),hr()<=s.a.DEBUG&&dr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(l-u)+"ms\nTotal Duration: "+(l-h)+"ms"),Zo.resolve({Zr:!0,eo:r,no:i,so:t})})},t}();function Ga(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Wa(e)),e=$a(t.get(n),e);return Wa(e)}function $a(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Wa(t){return t+"\x01\x01"}function Ka(t){var e=t.length;if(yr(e>=2),2===e)return yr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Mr.U();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&gr(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:gr()}s=o+2}return new Mr(r)}var Ya=function(t){this.Co=t};function Qa(t,e){if(e.document)return function(t,e,n){var r=us(t,e.name),i=is(e.updateTime),s=new ao({mapValue:{fields:e.fields}});return new ho(r,i,s,{hasCommittedMutations:!!n})}(t.Co,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Br.Z(e.noDocument.path),r=eu(e.noDocument.readTime);return new fo(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Br.Z(e.unknownDocument.path),s=eu(e.unknownDocument.version);return new po(i,s)}return gr()}function Za(t,e,n){var r=Xa(n),i=e.key.path.F().L();if(e instanceof ho){var s=function(t,e){return{name:as(t,e.key),fields:e.rn().mapValue.fields,updateTime:es(t,e.version.v())}}(t.Co,e);return new Tu(null,null,s,e.hasCommittedMutations,r,i)}if(e instanceof fo){var o=e.key.path.L(),a=tu(e.version),u=e.hasCommittedMutations;return new Tu(null,new xu(o,a),null,u,r,i)}if(e instanceof po){var l=e.key.path.L(),c=tu(e.version);return new Tu(new ku(l,c),null,null,!0,r,i)}return gr()}function Xa(t){var e=t.v();return[e.seconds,e.nanoseconds]}function Ja(t){var e=new Lr(t[0],t[1]);return Fr.V(e)}function tu(t){var e=t.v();return new bu(e.seconds,e.nanoseconds)}function eu(t){var e=new Lr(t.seconds,t.nanoseconds);return Fr.V(e)}function nu(t,e){var n=(e.baseMutations||[]).map(function(e){return ms(t.Co,e)}),r=e.mutations.map(function(e){return ms(t.Co,e)}),i=Lr.fromMillis(e.localWriteTimeMs);return new Ra(e.batchId,i,n,r)}function ru(t){var e,n,r=eu(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?eu(t.lastLimboFreeSnapshotVersion):Fr.min();return void 0!==t.query.documents?(yr(1===(n=t.query).documents.length),e=Co(yo(cs(n.documents[0])))):e=_s(t.query),new Xr(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Cr.fromBase64String(t.resumeToken))}function iu(t,e){var n,r=tu(e.nt),i=tu(e.lastLimboFreeSnapshotVersion);n=Yr(e.target)?gs(t.Co,e.target):ys(t.Co,e.target);var s=e.resumeToken.toBase64();return new Ou(e.targetId,Wr(e.target),r,s,e.sequenceNumber,i,n)}var su=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Dr=n,this.No=r,this.xo={}}return t.Fo=function(e,n,r,i){return yr(""!==e.uid),new t(e.Zs()?e.uid:"",n,r,i)},t.prototype.ko=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uu(t).rs({index:Eu.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Oo=function(t,e,n,r){var i=this,s=lu(t),o=uu(t);return o.add({}).next(function(a){yr("number"==typeof a);for(var u=new Ra(a,e,n,r),l=function(t,e,n){var r=n.baseMutations.map(function(e){return ps(t.Co,e)}),i=n.mutations.map(function(e){return ps(t.Co,e)});return new Eu(e,n.batchId,n.ar.toMillis(),r,i)}(i.serializer,i.userId,u),c=[],h=new si(function(t,e){return wr(t.B(),e.B())}),d=0,f=r;d<f.length;d++){var p=f[d],m=Cu.key(i.userId,p.key.path,a);h=h.add(p.key.path.F()),c.push(o.put(l)),c.push(s.put(m,Cu.PLACEHOLDER))}return h.forEach(function(e){c.push(i.Dr.Mo(t,e))}),t.pr(function(){i.xo[a]=u.keys()}),Zo.kn(c).next(function(){return u})})},t.prototype.$o=function(t,e){var n=this;return uu(t).get(e).next(function(t){return t?(yr(t.userId===n.userId),nu(n.serializer,t)):null})},t.prototype.Lo=function(t,e){var n=this;return this.xo[e]?Zo.resolve(this.xo[e]):this.$o(t,e).next(function(t){if(t){var r=t.keys();return n.xo[e]=r,r}return null})},t.prototype.Bo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return uu(t).rs({index:Eu.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(yr(e.batchId>=r),s=nu(n.serializer,e)),i.done()}).next(function(){return s})},t.prototype.qo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return uu(t).rs({index:Eu.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.Uo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uu(t).ts(Eu.userMutationsIndex,n).next(function(t){return t.map(function(t){return nu(e.serializer,t)})})},t.prototype.Nr=function(t,e){var n=this,r=Cu.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return lu(t).rs({range:i},function(r,i,o){var a=r[0],u=r[2],l=Ka(r[1]);if(a===n.userId&&e.path.isEqual(l))return uu(t).get(u).next(function(t){if(!t)throw gr();yr(t.userId===n.userId),s.push(nu(n.serializer,t))});o.done()}).next(function(){return s})},t.prototype.$r=function(t,e){var n=this,r=new si(wr),i=[];return e.forEach(function(e){var s=Cu.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=lu(t).rs({range:o},function(t,i,s){var o=t[0],a=t[2],u=Ka(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),Zo.kn(i).next(function(){return n.Ko(t,r)})},t.prototype.Qr=function(t,e){var n=this,r=e.path,i=r.length+1,s=Cu.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new si(wr);return lu(t).rs({range:o},function(t,e,s){var o=t[0],u=t[2],l=Ka(t[1]);o===n.userId&&r.M(l)?l.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Ko(t,a)})},t.prototype.Ko=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(uu(t).get(e).next(function(t){if(null===t)throw gr();yr(t.userId===n.userId),r.push(nu(n.serializer,t))}))}),Zo.kn(i).next(function(){return r})},t.prototype.Qo=function(t,e){var n=this;return au(t.Wo,this.userId,e).next(function(r){return t.pr(function(){n.jo(e.batchId)}),Zo.forEach(r,function(e){return n.No.Go(t,e)})})},t.prototype.jo=function(t){delete this.xo[t]},t.prototype.zo=function(t){var e=this;return this.ko(t).next(function(n){if(!n)return Zo.resolve();var r=IDBKeyRange.lowerBound(Cu.prefixForUser(e.userId)),i=[];return lu(t).rs({range:r},function(t,n,r){if(t[0]===e.userId){var s=Ka(t[1]);i.push(s)}else r.done()}).next(function(){yr(0===i.length)})})},t.prototype.Ho=function(t,e){return ou(t,this.userId,e)},t.prototype.Jo=function(t){var e=this;return cu(t).get(this.userId).next(function(t){return t||new Su(e.userId,-1,"")})},t}();function ou(t,e,n){var r=Cu.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return lu(t).rs({range:s,ss:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function au(t,e,n){var r=t.store(Eu.store),i=t.store(Cu.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.rs({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){yr(1===a)}));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],f=Cu.key(e,d.key.path,n.batchId);s.push(i.delete(f)),l.push(d.key)}return Zo.kn(s).next(function(){return l})}function uu(t){return Gu.Kn(t,Eu.store)}function lu(t){return Gu.Kn(t,Cu.store)}function cu(t){return Gu.Kn(t,Su.store)}var hu=function(){function t(t,e){this.serializer=t,this.Dr=e}return t.prototype.Ir=function(t,e,n){return pu(t).put(mu(e),n)},t.prototype.Ar=function(t,e){var n=pu(t),r=mu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Yo(t,r)})},t.prototype.Rr=function(t,e){var n=this;return pu(t).get(mu(e)).next(function(t){return n.Xo(t)})},t.prototype.Zo=function(t,e){var n=this;return pu(t).get(mu(e)).next(function(t){var e=n.Xo(t);return e?{ta:e,size:gu(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=li();return this.ea(t,e,function(t,e){var i=n.Xo(e);r=r.ot(t,i)}).next(function(){return r})},t.prototype.na=function(t,e){var n=this,r=li(),i=new ni(Br.D);return this.ea(t,e,function(t,e){var s=n.Xo(e);s?(r=r.ot(t,s),i=i.ot(t,gu(e))):(r=r.ot(t,null),i=i.ot(t,0))}).next(function(){return{sa:r,ia:i}})},t.prototype.ea=function(t,e,n){if(e.P())return Zo.resolve();var r=IDBKeyRange.bound(e.first().path.L(),e.last().path.L()),i=e._t(),s=i.It();return pu(t).rs({range:r},function(t,e,r){for(var o=Br.Z(t);s&&Br.D(s,o)<0;)n(s,null),s=i.It();s&&s.isEqual(o)&&(n(s,e),s=i.At()?i.It():null),s?r.Xn(s.path.L()):r.done()}).next(function(){for(;s;)n(s,null),s=i.At()?i.It():null})},t.prototype.Lr=function(t,e,n){var r=this,i=hi(),s=e.path.length+1,o={};if(n.isEqual(Fr.min())){var a=e.path.L();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.L(),l=Xa(n);o.range=IDBKeyRange.lowerBound([u,l],!0),o.index=Tu.collectionReadTimeIndex}return pu(t).rs(o,function(t,n,o){if(t.length===s){var a=Qa(r.serializer,n);e.path.M(a.key.path)?a instanceof ho&&Do(e,a)&&(i=i.ot(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.ra=function(t){return new du(this,!!t&&t.oa)},t.prototype.aa=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return fu(t).get(Iu.key).next(function(t){return yr(!!t),t})},t.prototype.Yo=function(t,e){return fu(t).put(Iu.key,e)},t.prototype.Xo=function(t){if(t){var e=Qa(this.serializer,t);return e instanceof fo&&e.version.isEqual(Fr.min())?null:e}return null},t}(),du=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ha=e,r.oa=n,r.ca=new Pr(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(r.c)(e,t),e.prototype.Vr=function(t){var e=this,n=[],r=0,i=new si(function(t,e){return wr(t.B(),e.B())});return this.wr.forEach(function(s,o){var a=e.ca.get(s);if(o){var u=Za(e.ha.serializer,o,e.readTime);i=i.add(s.path.F());var l=gu(u);r+=l-a,n.push(e.ha.Ir(t,s,u))}else if(r-=a,e.oa){var c=Za(e.ha.serializer,new fo(s,Fr.min()),e.readTime);n.push(e.ha.Ir(t,s,c))}else n.push(e.ha.Ar(t,s))}),i.forEach(function(r){n.push(e.ha.Dr.Mo(t,r))}),n.push(this.ha.updateMetadata(t,r)),Zo.kn(n)},e.prototype.Pr=function(t,e){var n=this;return this.ha.Zo(t,e).next(function(t){return null===t?(n.ca.set(e,0),null):(n.ca.set(e,t.size),t.ta)})},e.prototype.gr=function(t,e){var n=this;return this.ha.na(t,e).next(function(t){var e=t.sa;return t.ia.forEach(function(t,e){n.ca.set(t,e)}),e})},e}(Pa);function fu(t){return Gu.Kn(t,Iu.store)}function pu(t){return Gu.Kn(t,Tu.store)}function mu(t){return t.path.L()}function gu(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw gr();e=t.noDocument}return JSON.stringify(e).length}var yu=function(){function t(){this.ua=new _u}return t.prototype.Mo=function(t,e){return this.ua.add(e),Zo.resolve()},t.prototype.Kr=function(t,e){return Zo.resolve(this.ua.getEntries(e))},t}(),_u=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.O(),n=t.F(),r=this.index[e]||new si(Mr.D),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.O(),n=t.F(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new si(Mr.D)).L()},t}(),vu=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;yr(n<r&&n>=0&&r<=10);var s=new na("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(wu.store)}(t),function(t){t.createObjectStore(Su.store,{keyPath:Su.keyPath}),t.createObjectStore(Eu.store,{keyPath:Eu.keyPath,autoIncrement:!0}).createIndex(Eu.userMutationsIndex,Eu.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Cu.store)}(t),Nu(t),function(t){t.createObjectStore(Tu.store)}(t));var o=Zo.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Au.store),t.deleteObjectStore(Ou.store),t.deleteObjectStore(Du.store)}(t),Nu(t)),o=o.next(function(){return function(t){var e=t.store(Du.store),n=new Du(0,0,Fr.min().v(),0);return e.put(Du.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Eu.store).ts().next(function(n){t.deleteObjectStore(Eu.store),t.createObjectStore(Eu.store,{keyPath:Eu.keyPath,autoIncrement:!0}).createIndex(Eu.userMutationsIndex,Eu.userMutationsKeyPath,{unique:!0});var r=e.store(Eu.store),i=n.map(function(t){return r.put(t)});return Zo.kn(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Pu.store,{keyPath:Pu.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.removeAcknowledgedMutations(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(Iu.store)}(t),i.addDocumentGlobal(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ensureSequenceNumbers(s)})),n<8&&r>=8&&(o=o.next(function(){return i.createCollectionParentIndex(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Tu.store);e.createIndex(Tu.readTimeIndex,Tu.readTimeIndexPath,{unique:!1}),e.createIndex(Tu.collectionReadTimeIndex,Tu.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.rewriteCanonicalIds(s)})),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Tu.store).rs(function(t,n){e+=gu(n)}).next(function(){var n=new Iu(e);return t.store(Iu.store).put(Iu.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Su.store),r=t.store(Eu.store);return n.ts().next(function(n){return Zo.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ts(Eu.userMutationsIndex,i).next(function(r){return Zo.forEach(r,function(r){yr(r.userId===n.userId);var i=nu(e.serializer,r);return au(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Au.store),n=t.store(Tu.store);return t.store(Du.store).get(Du.key).next(function(t){var r=[];return n.rs(function(n,i){var s=new Mr(n),o=function(t){return[0,Ga(t)]}(s);r.push(e.get(o).next(function(n){return n?Zo.resolve():function(n){return e.put(new Au(0,Ga(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return Zo.kn(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Ru.store,{keyPath:Ru.keyPath});var n=e.store(Ru.store),r=new _u,i=function(t){if(r.add(t)){var e=t.O(),i=t.F();return n.put({collectionId:e,parent:Ga(i)})}};return e.store(Tu.store).rs({ss:!0},function(t,e){var n=new Mr(t);return i(n.F())}).next(function(){return e.store(Cu.store).rs({ss:!0},function(t,e){var n=Ka(t[1]);return i(n.F())})})},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Ou.store);return n.rs(function(t,r){var i=ru(r),s=iu(e.serializer,i);return n.put(s)})},t}(),bu=function(t,e){this.seconds=t,this.nanoseconds=e},wu=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};wu.store="owner",wu.key="owner";var Su=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Su.store="mutationQueues",Su.keyPath="userId";var Eu=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Eu.store="mutations",Eu.keyPath="batchId",Eu.userMutationsIndex="userMutationsIndex",Eu.userMutationsKeyPath=["userId","batchId"];var Cu=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ga(e)]},t.key=function(t,e,n){return[t,Ga(e),n]},t}();Cu.store="documentMutations",Cu.PLACEHOLDER=new Cu;var xu=function(t,e){this.path=t,this.readTime=e},ku=function(t,e){this.path=t,this.version=e},Tu=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Tu.store="remoteDocuments",Tu.readTimeIndex="readTimeIndex",Tu.readTimeIndexPath="readTime",Tu.collectionReadTimeIndex="collectionReadTimeIndex",Tu.collectionReadTimeIndexPath=["parentPath","readTime"];var Iu=function(t){this.byteSize=t};Iu.store="remoteDocumentGlobal",Iu.key="remoteDocumentGlobalKey";var Ou=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Ou.store="targets",Ou.keyPath="targetId",Ou.queryTargetsIndexName="queryTargetsIndex",Ou.queryTargetsKeyPath=["canonicalId","targetId"];var Au=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Au.store="targetDocuments",Au.keyPath=["targetId","path"],Au.documentTargetsIndex="documentTargetsIndex",Au.documentTargetsKeyPath=["path","targetId"];var Du=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Du.key="targetGlobalKey",Du.store="targetGlobal";var Ru=function(t,e){this.collectionId=t,this.parent=e};function Nu(t){t.createObjectStore(Au.store,{keyPath:Au.keyPath}).createIndex(Au.documentTargetsIndex,Au.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Ou.store,{keyPath:Ou.keyPath}).createIndex(Ou.queryTargetsIndexName,Ou.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Du.store)}Ru.store="collectionParents",Ru.keyPath=["collectionId","parent"];var Pu=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Pu.store="clientMetadata",Pu.keyPath="clientId";var Lu=Object(r.g)(Object(r.g)(Object(r.g)([Su.store,Eu.store,Cu.store,Tu.store,Ou.store,wu.store,Du.store,Au.store],[Pu.store]),[Iu.store]),[Ru.store]),Fu=function(){function t(){this.la=new _u}return t.prototype.Mo=function(t,e){var n=this;if(!this.la.has(e)){var r=e.O(),i=e.F();t.pr(function(){n.la.add(e)});var s={collectionId:r,parent:Ga(i)};return ju(t).put(s)}return Zo.resolve()},t.prototype.Kr=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Er(e),""],!1,!0);return ju(t).ts(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Ka(s.parent))}return n})},t}();function ju(t){return Gu.Kn(t,Ru.store)}var Mu=function(){function t(t){this._a=t}return t.prototype.next=function(){return this._a+=2,this._a},t.fa=function(){return new t(0)},t.da=function(){return new t(-1)},t}(),Vu=function(){function t(t,e){this.No=t,this.serializer=e}return t.prototype.wa=function(t){var e=this;return this.Ea(t).next(function(n){var r=new Mu(n.highestTargetId);return n.highestTargetId=r.next(),e.Ta(t,n).next(function(){return n.highestTargetId})})},t.prototype.Ia=function(t){return this.Ea(t).next(function(t){return Fr.V(new Lr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.ma=function(t){return this.Ea(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Aa=function(t,e,n){var r=this;return this.Ea(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.v()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ta(t,i)})},t.prototype.Ra=function(t,e){var n=this;return this.Pa(t,e).next(function(){return n.Ea(t).next(function(r){return r.targetCount+=1,n.ga(e,r),n.Ta(t,r)})})},t.prototype.Va=function(t,e){return this.Pa(t,e)},t.prototype.ya=function(t,e){var n=this;return this.pa(t,e.targetId).next(function(){return Uu(t).delete(e.targetId)}).next(function(){return n.Ea(t)}).next(function(e){return yr(e.targetCount>0),e.targetCount-=1,n.Ta(t,e)})},t.prototype.po=function(t,e,n){var r=this,i=0,s=[];return Uu(t).rs(function(o,a){var u=ru(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.ya(t,u)))}).next(function(){return Zo.kn(s)}).next(function(){return i})},t.prototype.Ce=function(t,e){return Uu(t).rs(function(t,n){var r=ru(n);e(r)})},t.prototype.Ea=function(t){return Bu(t).get(Du.key).next(function(t){return yr(null!==t),t})},t.prototype.Ta=function(t,e){return Bu(t).put(Du.key,e)},t.prototype.Pa=function(t,e){return Uu(t).put(iu(this.serializer,e))},t.prototype.ga=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.ba=function(t){return this.Ea(t).next(function(t){return t.targetCount})},t.prototype.va=function(t,e){var n=Wr(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Uu(t).rs({range:r,index:Ou.queryTargetsIndexName},function(t,n,r){var s=ru(n);Kr(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.Sa=function(t,e,n){var r=this,i=[],s=zu(t);return e.forEach(function(e){var o=Ga(e.path);i.push(s.put(new Au(n,o))),i.push(r.No.Da(t,n,e))}),Zo.kn(i)},t.prototype.Ca=function(t,e,n){var r=this,i=zu(t);return Zo.forEach(e,function(e){var s=Ga(e.path);return Zo.kn([i.delete([n,s]),r.No.Na(t,n,e)])})},t.prototype.pa=function(t,e){var n=zu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.xa=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=zu(t),i=pi();return r.rs({range:n,ss:!0},function(t,e,n){var r=Ka(t[1]),s=new Br(r);i=i.add(s)}).next(function(){return i})},t.prototype.Ho=function(t,e){var n=Ga(e.path),r=IDBKeyRange.bound([n],[Er(n)],!1,!0),i=0;return zu(t).rs({index:Au.documentTargetsIndex,ss:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Ue=function(t,e){return Uu(t).get(e).next(function(t){return t?ru(t):null})},t}();function Uu(t){return Gu.Kn(t,Ou.store)}function Bu(t){return Gu.Kn(t,Du.store)}function zu(t){return Gu.Kn(t,Au.store)}var qu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Hu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wo=e,r.Fa=n,r}return Object(r.c)(e,t),e}(Fa),Gu=function(){function t(e,n,r,i,s,o,a,u,l,c){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.fn=s,this.window=o,this.document=a,this.ka=l,this.Oa=c,this.Ma=null,this.$a=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Ka=function(t){return Promise.resolve()},!t.Ln())throw new lr(ur.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new Ku(this,i),this.Qa=n+"main",this.serializer=new Ya(u),this.Wa=new Xo(this.Qa,10,new vu(this.serializer)),this.ja=new Vu(this.No,this.serializer),this.Dr=new Fu,this.vr=function(t,e){return new hu(t,e)}(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===c&&fr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Kn=function(t,e){if(t instanceof Hu)return Xo.Kn(t.Wo,e);throw gr()},t.prototype.start=function(){var t=this;return this.za().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new lr(ur.FAILED_PRECONDITION,qu);return t.Ha(),t.Ja(),t.Ya(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.ja.ma(e)})}).then(function(e){t.Ma=new wa(e,t.ka)}).then(function(){t.$a=!0}).catch(function(e){return t.Wa&&t.Wa.close(),Promise.reject(e)})},t.prototype.Xa=function(t){var e=this;return this.Ka=function(n){return Object(r.b)(e,void 0,void 0,function(){return Object(r.d)(this,function(e){return this.Ii?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Za=function(t){var e=this;this.Wa.jn(function(n){return Object(r.b)(e,void 0,void 0,function(){return Object(r.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.th=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.fn.ws(function(){return Object(r.b)(e,void 0,void 0,function(){return Object(r.d)(this,function(t){switch(t.label){case 0:return this.Ii?[4,this.za()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.za=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Wu(e).put(new Pu(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.eh(e).next(function(e){e||(t.isPrimary=!1,t.fn.Cs(function(){return t.Ka(!1)}))})}).next(function(){return t.nh(e)}).next(function(n){return t.isPrimary&&!n?t.sh(e).next(function(){return!1}):!!n&&t.ih(e).next(function(){return!0})})}).catch(function(e){if(ea(e))return dr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return dr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.fn.Cs(function(){return t.Ka(e)}),t.isPrimary=e})},t.prototype.eh=function(t){var e=this;return $u(t).get(wu.key).next(function(t){return Zo.resolve(e.rh(t))})},t.prototype.oh=function(t){return Wu(t).delete(this.clientId)},t.prototype.ah=function(){return Object(r.b)(this,void 0,void 0,function(){var e,n,i,s=this;return Object(r.d)(this,function(r){switch(r.label){case 0:return!this.isPrimary||this.hh(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var n=t.Kn(e,Pu.store);return n.ts().next(function(t){var e=s.uh(t,18e5),r=t.filter(function(t){return-1===e.indexOf(t)});return Zo.forEach(r,function(t){return n.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(e=r.sent(),this.Ga)for(n=0,i=e;n<i.length;n++)this.Ga.removeItem(this.lh(i[n].clientId));r.label=2;case 2:return[2]}})})},t.prototype.Ya=function(){var t=this;this.qa=this.fn.Vn("client_metadata_refresh",4e3,function(){return t.za().then(function(){return t.ah()}).then(function(){return t.Ya()})})},t.prototype.rh=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.nh=function(t){var e=this;return this.Oa?Zo.resolve(!0):$u(t).get(wu.key).next(function(n){if(null!==n&&e.hh(n.leaseTimestampMs,5e3)&&!e._h(n.ownerId)){if(e.rh(n)&&e.networkEnabled)return!0;if(!e.rh(n)){if(!n.allowTabSynchronization)throw new lr(ur.FAILED_PRECONDITION,qu);return!1}}return!(!e.networkEnabled||!e.inForeground)||Wu(t).ts().next(function(t){return void 0===e.uh(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&dr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Di=function(){return Object(r.b)(this,void 0,void 0,function(){var t=this;return Object(r.d)(this,function(e){switch(e.label){case 0:return this.$a=!1,this.fh(),this.qa&&(this.qa.cancel(),this.qa=null),this.dh(),this.wh(),[4,this.Wa.runTransaction("shutdown","readwrite",[wu.store,Pu.store],function(e){var n=new Hu(e,wa.ai);return t.sh(n).next(function(){return t.oh(n)})})];case 1:return e.sent(),this.Wa.close(),this.Eh(),[2]}})})},t.prototype.uh=function(t,e){var n=this;return t.filter(function(t){return n.hh(t.updateTimeMs,e)&&!n._h(t.clientId)})},t.prototype.pi=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Wu(e).ts().next(function(e){return t.uh(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Ii",{get:function(){return this.$a},enumerable:!1,configurable:!0}),t.prototype.Th=function(t){return su.Fo(t,this.serializer,this.Dr,this.No)},t.prototype.Ih=function(){return this.ja},t.prototype.mh=function(){return this.vr},t.prototype.Ah=function(){return this.Dr},t.prototype.runTransaction=function(t,e,n){var r,i=this;return dr("IndexedDbPersistence","Starting transaction:",t),this.Wa.runTransaction(t,"readonly"===e?"readonly":"readwrite",Lu,function(s){return r=new Hu(s,i.Ma?i.Ma.next():wa.ai),"readwrite-primary"===e?i.eh(r).next(function(t){return!!t||i.nh(r)}).next(function(e){if(!e)throw fr("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.fn.Cs(function(){return i.Ka(!1)}),new lr(ur.FAILED_PRECONDITION,La);return n(r)}).next(function(t){return i.ih(r).next(function(){return t})}):i.Rh(r).next(function(){return n(r)})}).then(function(t){return r.br(),t})},t.prototype.Rh=function(t){var e=this;return $u(t).get(wu.key).next(function(t){if(null!==t&&e.hh(t.leaseTimestampMs,5e3)&&!e._h(t.ownerId)&&!e.rh(t)&&!(e.Oa||e.allowTabSynchronization&&t.allowTabSynchronization))throw new lr(ur.FAILED_PRECONDITION,qu)})},t.prototype.ih=function(t){var e=new wu(this.clientId,this.allowTabSynchronization,Date.now());return $u(t).put(wu.key,e)},t.Ln=function(){return Xo.Ln()},t.prototype.sh=function(t){var e=this,n=$u(t);return n.get(wu.key).next(function(t){return e.rh(t)?(dr("IndexedDbPersistence","Releasing primary lease."),n.delete(wu.key)):Zo.resolve()})},t.prototype.hh=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(fr("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ha=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){t.fn.ws(function(){return t.inForeground="visible"===t.document.visibilityState,t.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},t.prototype.dh=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},t.prototype.Ja=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.La=function(){e.fh(),e.fn.ws(function(){return e.Di()})},this.window.addEventListener("unload",this.La))},t.prototype.wh=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},t.prototype._h=function(t){var e;try{var n=null!==(null===(e=this.Ga)||void 0===e?void 0:e.getItem(this.lh(t)));return dr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return fr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.fh=function(){if(this.Ga)try{this.Ga.setItem(this.lh(this.clientId),String(Date.now()))}catch(t){fr("Failed to set zombie client id.",t)}},t.prototype.Eh=function(){if(this.Ga)try{this.Ga.removeItem(this.lh(this.clientId))}catch(t){}},t.prototype.lh=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function $u(t){return Gu.Kn(t,wu.store)}function Wu(t){return Gu.Kn(t,Pu.store)}var Ku=function(){function t(t,e){this.db=t,this.wo=new Ha(this,e)}return t.prototype.Po=function(t){var e=this.Ph(t);return this.db.Ih().ba(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Ph=function(t){var e=0;return this.yo(t,function(t){e++}).next(function(){return e})},t.prototype.Ce=function(t,e){return this.db.Ih().Ce(t,e)},t.prototype.yo=function(t,e){return this.gh(t,function(t,n){return e(n)})},t.prototype.Da=function(t,e,n){return Yu(t,n)},t.prototype.Na=function(t,e,n){return Yu(t,n)},t.prototype.po=function(t,e,n){return this.db.Ih().po(t,e,n)},t.prototype.Go=function(t,e){return Yu(t,e)},t.prototype.Vh=function(t,e){return function(t,e){var n=!1;return cu(t).os(function(r){return ou(t,r,e).next(function(t){return t&&(n=!0),Zo.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.bo=function(t,e){var n=this,r=this.db.mh().ra(),i=[],s=0;return this.gh(t,function(o,a){if(a<=e){var u=n.Vh(t,o).next(function(e){if(!e)return s++,r.Rr(t,o).next(function(){return r.Ar(o),zu(t).delete([0,Ga(o.path)])})});i.push(u)}}).next(function(){return Zo.kn(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.st(t.Fa);return this.db.Ih().Va(t,n)},t.prototype.yh=function(t,e){return Yu(t,e)},t.prototype.gh=function(t,e){var n,r=zu(t),i=wa.ai;return r.rs({index:Au.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==wa.ai&&e(new Br(Ka(n)),i),i=o,n=s):i=wa.ai}).next(function(){i!==wa.ai&&e(new Br(Ka(n)),i)})},t.prototype.So=function(t){return this.db.mh().aa(t)},t}();function Yu(t,e){return zu(t).put(function(t,e){return new Au(0,Ga(t.path),e)}(e,t.Fa))}function Qu(t,e){var n=t.projectId;return t.I||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Zu=function(){function t(t,e,n){this.persistence=t,this.ph=e,this.bh=new ni(wr),this.Sh=new Pr(function(t){return Wr(t)},Kr),this.Dh=Fr.min(),this.Sr=t.Th(n),this.Ch=t.mh(),this.ja=t.Ih(),this.Nh=new ja(this.Ch,this.Sr,this.persistence.Ah()),this.ph.xh(this.Nh)}return t.prototype.mo=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.vo(n,e.bh)})},t}();function Xu(t,e){var n=_r(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Ch.ra({oa:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Zo.resolve();return s.forEach(function(t){o=o.next(function(){return r.Rr(e,t)}).next(function(e){var s=e,o=n.dr.get(t);yr(null!==o),(!s||s.version.h(o)<0)&&(s=i.hr(t,s,n))&&r.Ir(s,n._r)})}),o.next(function(){return t.Sr.Qo(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Sr.zo(t)}).next(function(){return n.Nh.Or(t,r)})})}function Ju(t){var e=_r(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.ja.Ia(t)})}function tl(t,e){var n=_r(t),r=e.nt,i=n.bh;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.Ch.ra({oa:!0});i=n.bh;var o=[];e.zt.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.ja.Ca(t,e.se,s).next(function(){return n.ja.Sa(t,e.ee,s)}));var u=e.resumeToken;if(u.o()>0){var l=a.it(u,r).st(t.Fa);i=i.ot(s,l),function(t,e,n){return yr(e.resumeToken.o()>0),0===t.resumeToken.o()||e.nt.p()-t.nt.p()>=3e8||n.ee.size+n.ne.size+n.se.size>0}(a,l,e)&&o.push(n.ja.Va(t,l))}}});var a=ui(),u=pi();if(e.Jt.forEach(function(t,e){u=u.add(t)}),o.push(s.getEntries(t,u).next(function(i){e.Jt.forEach(function(u,l){var c=i.get(u);l instanceof fo&&l.version.isEqual(Fr.min())?(s.Ar(u,r),a=a.ot(u,l)):null==c||l.version.h(c.version)>0||0===l.version.h(c.version)&&c.hasPendingWrites?(s.Ir(l,r),a=a.ot(u,l)):dr("LocalStore","Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",l.version),e.Yt.has(u)&&o.push(n.persistence.No.yh(t,u))})})),!r.isEqual(Fr.min())){var l=n.ja.Ia(t).next(function(e){return n.ja.Aa(t,t.Fa,r)});o.push(l)}return Zo.kn(o).next(function(){return s.apply(t)}).next(function(){return n.Nh.Mr(t,a)})}).then(function(t){return n.bh=i,t})}function el(t,e){var n=_r(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Sr.Bo(t,e)})}function nl(t,e){var n=_r(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.ja.va(t,e).next(function(i){return i?Zo.resolve(r=i):n.ja.wa(t).next(function(i){return r=new Xr(e,i,0,t.Fa),n.ja.Ra(t,r).next(function(){return r})})})}).then(function(t){var r=n.bh.get(t.targetId);return(null===r||t.nt.h(r.nt)>0)&&(n.bh=n.bh.ot(t.targetId,t),n.Sh.set(e,t.targetId)),t})}function rl(t,e,n){return Object(r.b)(this,void 0,void 0,function(){var i,s,o,a;return Object(r.d)(this,function(r){switch(r.label){case 0:i=_r(t),s=i.bh.get(e),o=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",o,function(t){return i.persistence.No.removeTarget(t,s)})];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!ea(a=r.sent()))throw a;return dr("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.bh=i.bh.remove(e),i.Sh.delete(s.target),[2]}})})}function il(t,e,n){var r=_r(t),i=Fr.min(),s=pi();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=_r(t),i=r.Sh.get(n);return void 0!==i?Zo.resolve(r.bh.get(i)):r.ja.va(e,n)}(r,t,Co(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.ja.xa(t,e.targetId).next(function(t){s=t})}).next(function(){return r.ph.Lr(t,e,n?i:Fr.min(),n?s:pi())}).next(function(t){return{documents:t,Fh:s}})})}function sl(t,e){var n=_r(t),r=_r(n.ja),i=n.bh.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Ue(t,e).next(function(t){return t?t.target:null})})}function ol(t){var e=_r(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=_r(t),i=ui(),s=Xa(n),o=pu(e),a=IDBKeyRange.lowerBound(s,!0);return o.rs({index:Tu.readTimeIndex,range:a},function(t,e){var n=Qa(r.serializer,e);i=i.ot(n.key,n),s=e.readTime}).next(function(){return{kh:i,readTime:Ja(s)}})}(e.Ch,t,e.Dh)}).then(function(t){var n=t.kh;return e.Dh=t.readTime,n})}function al(t){return Object(r.b)(this,void 0,void 0,function(){var e;return Object(r.d)(this,function(n){return[2,(e=_r(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=pu(t),n=Fr.min();return e.rs({index:Tu.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Ja(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Dh=t})]})})}function ul(t){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(e){if(t.code!==ur.FAILED_PRECONDITION||t.message!==La)throw t;return dr("LocalStore","Unexpectedly lost primary lease"),[2]})})}var ll=function(){function t(){this.Oh=new si(cl.Mh),this.$h=new si(cl.Lh)}return t.prototype.P=function(){return this.Oh.P()},t.prototype.Da=function(t,e){var n=new cl(t,e);this.Oh=this.Oh.add(n),this.$h=this.$h.add(n)},t.prototype.Bh=function(t,e){var n=this;t.forEach(function(t){return n.Da(t,e)})},t.prototype.Na=function(t,e){this.qh(new cl(t,e))},t.prototype.Uh=function(t,e){var n=this;t.forEach(function(t){return n.Na(t,e)})},t.prototype.Kh=function(t){var e=this,n=new Br(new Mr([])),r=new cl(n,t),i=new cl(n,t+1),s=[];return this.$h.xt([r,i],function(t){e.qh(t),s.push(t.key)}),s},t.prototype.Qh=function(){var t=this;this.Oh.forEach(function(e){return t.qh(e)})},t.prototype.qh=function(t){this.Oh=this.Oh.delete(t),this.$h=this.$h.delete(t)},t.prototype.Wh=function(t){var e=new Br(new Mr([])),n=new cl(e,t),r=new cl(e,t+1),i=pi();return this.$h.xt([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Ho=function(t){var e=new cl(t,0),n=this.Oh.kt(e);return null!==n&&t.isEqual(n.key)},t}(),cl=function(){function t(t,e){this.key=t,this.jh=e}return t.Mh=function(t,e){return Br.D(t.key,e.key)||wr(t.jh,e.jh)},t.Lh=function(t,e){return wr(t.jh,e.jh)||Br.D(t.key,e.key)},t}(),hl=function(t,e){this.user=e,this.type="OAuth",this.Gh={},this.Gh.Authorization="Bearer "+t},dl=function(){function t(){this.zh=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.Hh=function(){},t.prototype.Jh=function(t){this.zh=t,t(ba.UNAUTHENTICATED)},t.prototype.Yh=function(){this.zh=null},t}(),fl=function(){function t(t){var e=this;this.Xh=null,this.currentUser=ba.UNAUTHENTICATED,this.Zh=!1,this.tc=0,this.zh=null,this.forceRefresh=!1,this.Xh=function(){e.tc++,e.currentUser=e.ec(),e.Zh=!0,e.zh&&e.zh(e.currentUser)},this.tc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Xh):(this.Xh(null),t.get().then(function(t){e.auth=t,e.Xh&&e.auth.addAuthTokenListener(e.Xh)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.tc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.tc!==e?(dr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(yr("string"==typeof n.accessToken),new hl(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.Hh=function(){this.forceRefresh=!0},t.prototype.Jh=function(t){this.zh=t,this.Zh&&t(this.currentUser)},t.prototype.Yh=function(){this.auth&&this.auth.removeAuthTokenListener(this.Xh),this.Xh=null,this.zh=null},t.prototype.ec=function(){var t=this.auth&&this.auth.getUid();return yr(null===t||"string"==typeof t),new ba(t)},t}(),pl=function(){function t(t,e){this.nc=t,this.sc=e,this.type="FirstParty",this.user=ba.ni}return Object.defineProperty(t.prototype,"Gh",{get:function(){var t={"X-Goog-AuthUser":this.sc},e=this.nc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),ml=function(){function t(t,e){this.nc=t,this.sc=e}return t.prototype.getToken=function(){return Promise.resolve(new pl(this.nc,this.sc))},t.prototype.Jh=function(t){t(ba.ni)},t.prototype.Yh=function(){},t.prototype.Hh=function(){},t}(),gl=function(){function t(t,e,n,r,i,s){this.fn=t,this.ic=n,this.rc=r,this.oc=i,this.listener=s,this.state=0,this.ac=0,this.hc=null,this.stream=null,this.Vs=new Qo(t,e)}return t.prototype.cc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.uc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.lc()},t.prototype.stop=function(){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(t){switch(t.label){case 0:return this.cc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype._c=function(){this.state=0,this.Vs.reset()},t.prototype.fc=function(){var t=this;this.uc()&&null===this.hc&&(this.hc=this.fn.Vn(this.ic,6e4,function(){return t.dc()}))},t.prototype.wc=function(t){this.Ec(),this.stream.send(t)},t.prototype.dc=function(){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(t){return this.uc()?[2,this.close(0)]:[2]})})},t.prototype.Ec=function(){this.hc&&(this.hc.cancel(),this.hc=null)},t.prototype.close=function(t,e){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(n){switch(n.label){case 0:return this.Ec(),this.Vs.cancel(),this.ac++,3!==t?this.Vs.reset():e&&e.code===ur.RESOURCE_EXHAUSTED?(fr(e.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.Vs.Rn()):e&&e.code===ur.UNAUTHENTICATED&&this.oc.Hh(),null!==this.stream&&(this.Tc(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ic(e)];case 1:return n.sent(),[2]}})})},t.prototype.Tc=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.mc(this.ac),n=this.ac;this.oc.getToken().then(function(e){t.ac===n&&t.Ac(e)},function(n){e(function(){var e=new lr(ur.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Rc(e)})})},t.prototype.Ac=function(t){var e=this,n=this.mc(this.ac);this.stream=this.Pc(t),this.stream.gc(function(){n(function(){return e.state=2,e.listener.gc()})}),this.stream.Ic(function(t){n(function(){return e.Rc(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.lc=function(){var t=this;this.state=4,this.Vs.Pn(function(){return Object(r.b)(t,void 0,void 0,function(){return Object(r.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.Rc=function(t){return dr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.mc=function(t){var e=this;return function(n){e.fn.ws(function(){return e.ac===t?n():(dr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),yl=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).serializer=i,o}return Object(r.c)(e,t),e.prototype.Pc=function(t){return this.rc.Vc("Listen",t)},e.prototype.onMessage=function(t){this.Vs.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:gr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.Ke?(yr(void 0===e||"string"==typeof e),Cr.fromBase64String(e||"")):(yr(void 0===e||e instanceof Uint8Array),Cr.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){var e=void 0===t.code?ur.UNKNOWN:ei(t.code);return new lr(e,t.message||"")}(o);n=new Ci(r,i,s,a||null)}else if("documentChange"in e){var u=e.documentChange,l=us(t,u.document.name),c=is(u.document.updateTime),h=new ao({mapValue:{fields:u.document.fields}}),d=new ho(l,c,h,{});n=new Si(u.targetIds||[],u.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){var f=e.documentDelete,p=us(t,f.document),m=f.readTime?is(f.readTime):Fr.min(),g=new fo(p,m);n=new Si([],f.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){var y=e.documentRemove,_=us(t,y.document);n=new Si([],y.removedTargetIds||[],_,null)}else{if(!("filter"in e))return gr();var v=e.filter,b=new Jr(v.count||0);n=new Ei(v.targetId,b)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Fr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Fr.min():e.readTime?is(e.readTime):Fr.min()}(t);return this.listener.yc(e,n)},e.prototype.bc=function(t){var e={};e.database=hs(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=Yr(r)?{documents:gs(t,r)}:{query:ys(t,r)}).targetId=e.targetId,e.resumeToken.o()>0&&(n.resumeToken=ns(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gr()}}(0,e.et);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.wc(e)},e.prototype.vc=function(t){var e={};e.database=hs(this.serializer),e.removeTarget=t,this.wc(e)},e}(gl),_l=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).serializer=i,o.Sc=!1,o}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"Dc",{get:function(){return this.Sc},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Sc=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.Tc=function(){this.Sc&&this.Cc([])},e.prototype.Pc=function(t){return this.rc.Vc("Write",t)},e.prototype.onMessage=function(t){if(yr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Sc){this.Vs.reset();var e=function(t,e){return t&&t.length>0?(yr(void 0!==e),t.map(function(t){return function(t,e){var n=is(t.updateTime?t.updateTime:e);n.isEqual(Fr.min())&&(n=is(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Hs(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=is(t.commitTime);return this.listener.Nc(n,e)}return yr(!t.writeResults||0===t.writeResults.length),this.Sc=!0,this.listener.xc()},e.prototype.Fc=function(){var t={};t.database=hs(this.serializer),this.wc(t)},e.prototype.Cc=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return ps(e.serializer,t)})};this.wc(n)},e}(gl),vl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.rc=n,i.serializer=r,i.kc=!1,i}return Object(r.c)(e,t),e.prototype.Oc=function(){if(this.kc)throw new lr(ur.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mc=function(t,e,n){var r=this;return this.Oc(),this.credentials.getToken().then(function(i){return r.rc.Mc(t,e,n,i)}).catch(function(t){throw t.code===ur.UNAUTHENTICATED&&r.credentials.Hh(),t})},e.prototype.$c=function(t,e,n){var r=this;return this.Oc(),this.credentials.getToken().then(function(i){return r.rc.$c(t,e,n,i)}).catch(function(t){throw t.code===ur.UNAUTHENTICATED&&r.credentials.Hh(),t})},e.prototype.terminate=function(){this.kc=!1},e}(function(){}),bl=function(){function t(t,e){this.hs=t,this.di=e,this.state="Unknown",this.Lc=0,this.Bc=null,this.qc=!0}return t.prototype.Uc=function(){var t=this;0===this.Lc&&(this.Kc("Unknown"),this.Bc=this.hs.Vn("online_state_timeout",1e4,function(){return t.Bc=null,t.Qc("Backend didn't respond within 10 seconds."),t.Kc("Offline"),Promise.resolve()}))},t.prototype.Wc=function(t){"Online"===this.state?this.Kc("Unknown"):(this.Lc++,this.Lc>=1&&(this.jc(),this.Qc("Connection failed 1 times. Most recent error: "+t.toString()),this.Kc("Offline")))},t.prototype.set=function(t){this.jc(),this.Lc=0,"Online"===t&&(this.qc=!1),this.Kc(t)},t.prototype.Kc=function(t){t!==this.state&&(this.state=t,this.di(t))},t.prototype.Qc=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.qc?(fr(e),this.qc=!1):dr("OnlineStateTracker",e)},t.prototype.jc=function(){null!==this.Bc&&(this.Bc.cancel(),this.Bc=null)},t}(),wl=function(t,e,n,i,s){var o=this;this.Gc=t,this.zc=e,this.hs=n,this.Hc={},this.Jc=[],this.Yc=new Map,this.Xc=new Set,this.Zc=[],this.tu=s,this.tu.eu(function(t){n.ws(function(){return Object(r.b)(o,void 0,void 0,function(){return Object(r.d)(this,function(t){switch(t.label){case 0:return Dl(this)?(dr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(r.b)(this,void 0,void 0,function(){var e;return Object(r.d)(this,function(n){switch(n.label){case 0:return(e=_r(t)).Xc.add(4),[4,El(e)];case 1:return n.sent(),e.nu.set("Unknown"),e.Xc.delete(4),[4,Sl(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.nu=new bl(n,i)};function Sl(t){return Object(r.b)(this,void 0,void 0,function(){var e,n;return Object(r.d)(this,function(r){switch(r.label){case 0:if(!Dl(t))return[3,4];e=0,n=t.Zc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function El(t){return Object(r.b)(this,void 0,void 0,function(){var e,n;return Object(r.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Zc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Cl(t){return Object(r.b)(this,void 0,void 0,function(){var e;return Object(r.d)(this,function(n){switch(n.label){case 0:return e=_r(t),dr("RemoteStore","RemoteStore shutting down."),e.Xc.add(5),[4,El(e)];case 1:return n.sent(),e.tu.Di(),e.nu.set("Unknown"),[2]}})})}function xl(t,e){var n=_r(t);n.Yc.has(e.targetId)||(n.Yc.set(e.targetId,e),Al(n)?Ol(n):$l(n).uc()&&Tl(n,e))}function kl(t,e){var n=_r(t),r=$l(n);n.Yc.delete(e),r.uc()&&Il(n,e),0===n.Yc.size&&(r.uc()?r.fc():Dl(n)&&n.nu.set("Unknown"))}function Tl(t,e){t.su.me(e.targetId),$l(t).bc(e)}function Il(t,e){t.su.me(e),$l(t).vc(e)}function Ol(t){t.su=new ki({qe:function(e){return t.Hc.qe(e)},Ue:function(e){return t.Yc.get(e)||null}}),$l(t).start(),t.nu.Uc()}function Al(t){return Dl(t)&&!$l(t).cc()&&t.Yc.size>0}function Dl(t){return 0===_r(t).Xc.size}function Rl(t){t.su=void 0}function Nl(t){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(e){return t.Yc.forEach(function(e,n){Tl(t,e)}),[2]})})}function Pl(t,e){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(n){return Rl(t),Al(t)?(t.nu.Wc(e),Ol(t)):t.nu.set("Unknown"),[2]})})}function Ll(t,e,n){return Object(r.b)(this,void 0,void 0,function(){var i,s,o;return Object(r.d)(this,function(a){switch(a.label){case 0:if(t.nu.set("Online"),!(e instanceof Ci&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,s,o;return Object(r.d)(this,function(r){switch(r.label){case 0:n=e.cause,i=0,s=e.targetIds,r.label=1;case 1:return i<s.length?t.Yc.has(o=s[i])?[4,t.Hc.iu(o,n)]:[3,3]:[3,5];case 2:r.sent(),t.Yc.delete(o),t.su.removeTarget(o),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),dr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,Fl(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Si?t.su.be(e):e instanceof Ei?t.su.ke(e):t.su.De(e),n.isEqual(Fr.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Ju(t.Gc)];case 8:return s=a.sent(),n.h(s)>=0?[4,function(t,e){var n=t.su.$e(e);return n.zt.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.Yc.get(r);i&&t.Yc.set(r,i.it(n.resumeToken,e))}}),n.Ht.forEach(function(e){var n=t.Yc.get(e);if(n){t.Yc.set(e,n.it(Cr.u,n.nt)),Il(t,e);var r=new Xr(n.target,e,1,n.sequenceNumber);Tl(t,r)}}),t.Hc.ru(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return dr("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Fl(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Fl(t,e,n){return Object(r.b)(this,void 0,void 0,function(){var i=this;return Object(r.d)(this,function(s){switch(s.label){case 0:if(!ea(e))throw e;return t.Xc.add(1),[4,El(t)];case 1:return s.sent(),t.nu.set("Offline"),n||(n=function(){return Ju(t.Gc)}),t.hs.Cs(function(){return Object(r.b)(i,void 0,void 0,function(){return Object(r.d)(this,function(e){switch(e.label){case 0:return dr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Xc.delete(1),[4,Sl(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function jl(t,e){return e().catch(function(n){return Fl(t,n,e)})}function Ml(t){return Object(r.b)(this,void 0,void 0,function(){var e,n,i,s,o;return Object(r.d)(this,function(r){switch(r.label){case 0:e=_r(t),n=Wl(e),i=e.Jc.length>0?e.Jc[e.Jc.length-1].batchId:-1,r.label=1;case 1:if(!function(t){return Dl(t)&&t.Jc.length<10}(e))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,el(e.Gc,i)];case 3:return null===(s=r.sent())?(0===e.Jc.length&&n.fc(),[3,7]):(i=s.batchId,function(t,e){t.Jc.push(e);var n=Wl(t);n.uc()&&n.Dc&&n.Cc(e.mutations)}(e,s),[3,6]);case 4:return o=r.sent(),[4,Fl(e,o)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return Vl(e)&&Ul(e),[2]}})})}function Vl(t){return Dl(t)&&!Wl(t).cc()&&t.Jc.length>0}function Ul(t){Wl(t).start()}function Bl(t){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(e){return Wl(t).Fc(),[2]})})}function zl(t){return Object(r.b)(this,void 0,void 0,function(){var e,n,i;return Object(r.d)(this,function(r){for(e=Wl(t),n=0,i=t.Jc;n<i.length;n++)e.Cc(i[n].mutations);return[2]})})}function ql(t,e,n){return Object(r.b)(this,void 0,void 0,function(){var i,s;return Object(r.d)(this,function(r){switch(r.label){case 0:return i=t.Jc.shift(),s=Na.from(i,e,n),[4,jl(t,function(){return t.Hc.ou(s)})];case 1:return r.sent(),[4,Ml(t)];case 2:return r.sent(),[2]}})})}function Hl(t,e){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(n){switch(n.label){case 0:return e&&Wl(t).Dc?[4,function(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i;return Object(r.d)(this,function(r){switch(r.label){case 0:return ti(i=e.code)&&i!==ur.ABORTED?(n=t.Jc.shift(),Wl(t)._c(),[4,jl(t,function(){return t.Hc.au(n.batchId,e)})]):[3,3];case 1:return r.sent(),[4,Ml(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Vl(t)&&Ul(t),[2]}})})}function Gl(t,e){return Object(r.b)(this,void 0,void 0,function(){var n;return Object(r.d)(this,function(r){switch(r.label){case 0:return n=_r(t),e?(n.Xc.delete(2),[4,Sl(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Xc.add(2),[4,El(n)]);case 3:r.sent(),n.nu.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function $l(t){var e=this;return t.hu||(t.hu=function(t,e,n){var r=_r(t);return r.Oc(),new yl(e,r.rc,r.credentials,r.serializer,n)}(t.zc,t.hs,{gc:Nl.bind(null,t),Ic:Pl.bind(null,t),yc:Ll.bind(null,t)}),t.Zc.push(function(n){return Object(r.b)(e,void 0,void 0,function(){return Object(r.d)(this,function(e){switch(e.label){case 0:return n?(t.hu._c(),Al(t)?Ol(t):t.nu.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.hu.stop()];case 2:e.sent(),Rl(t),e.label=3;case 3:return[2]}})})})),t.hu}function Wl(t){var e=this;return t.cu||(t.cu=function(t,e,n){var r=_r(t);return r.Oc(),new _l(e,r.rc,r.credentials,r.serializer,n)}(t.zc,t.hs,{gc:Bl.bind(null,t),Ic:Hl.bind(null,t),xc:zl.bind(null,t),Nc:ql.bind(null,t)}),t.Zc.push(function(n){return Object(r.b)(e,void 0,void 0,function(){return Object(r.d)(this,function(e){switch(e.label){case 0:return n?(t.cu._c(),[4,Ml(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.cu.stop()];case 3:e.sent(),t.Jc.length>0&&(dr("RemoteStore","Stopping write stream with "+t.Jc.length+" pending writes"),t.Jc=[]),e.label=4;case 4:return[2]}})})})),t.cu}var Kl=function(t){this.key=t},Yl=function(t){this.key=t},Ql=function(){function t(t,e){this.query=t,this.uu=e,this.lu=null,this.te=!1,this._u=pi(),this.Qt=pi(),this.fu=Ro(t),this.du=new yi(this.fu)}return Object.defineProperty(t.prototype,"wu",{get:function(){return this.uu},enumerable:!1,configurable:!0}),t.prototype.Eu=function(t,e){var n=this,r=e?e.Tu:new _i,i=e?e.du:this.du,s=e?e.Qt:this.Qt,o=i,a=!1,u=_o(this.query)&&i.size===this.query.limit?i.last():null,l=vo(this.query)&&i.size===this.query.limit?i.first():null;if(t.ut(function(t,e){var c=i.get(t),h=e instanceof ho?e:null;h&&(h=Do(n.query,h)?h:null);var d=!!c&&n.Qt.has(c.key),f=!!h&&(h.Ye||n.Qt.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.Iu(c,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.fu(h,u)>0||l&&n.fu(h,l)<0)&&(a=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),_o(this.query)||vo(this.query))for(;o.size>this.query.limit;){var c=_o(this.query)?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{du:o,Tu:r,mu:a,Qt:s}},t.prototype.Iu=function(t,e){return t.Ye&&e.hasCommittedMutations&&!e.Ye},t.prototype.Vr=function(t,e,n){var r=this,i=this.du;this.du=t.du,this.Qt=t.Qt;var s=t.Tu.Ut();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gr()}};return n(t)-n(e)}(t.type,e.type)||r.fu(t.doc,e.doc)}),this.Au(n);var o=e?this.Ru():[],a=0===this._u.size&&this.te?1:0,u=a!==this.lu;return this.lu=a,0!==s.length||u?{snapshot:new vi(this.query,t.du,i,s,t.Qt,0===a,u,!1),Pu:o}:{Pu:o}},t.prototype.Ks=function(t){return this.te&&"Offline"===t?(this.te=!1,this.Vr({du:this.du,Tu:new _i,Qt:this.Qt,mu:!1},!1)):{Pu:[]}},t.prototype.gu=function(t){return!this.uu.has(t)&&!!this.du.has(t)&&!this.du.get(t).Ye},t.prototype.Au=function(t){var e=this;t&&(t.ee.forEach(function(t){return e.uu=e.uu.add(t)}),t.ne.forEach(function(t){}),t.se.forEach(function(t){return e.uu=e.uu.delete(t)}),this.te=t.te)},t.prototype.Ru=function(){var t=this;if(!this.te)return[];var e=this._u;this._u=pi(),this.du.forEach(function(e){t.gu(e.key)&&(t._u=t._u.add(e.key))});var n=[];return e.forEach(function(e){t._u.has(e)||n.push(new Yl(e))}),this._u.forEach(function(t){e.has(t)||n.push(new Kl(t))}),n},t.prototype.Vu=function(t){this.uu=t.Fh,this._u=pi();var e=this.Eu(t.documents);return this.Vr(e,!0)},t.prototype.yu=function(){return vi.Gt(this.query,this.du,this.Qt,0===this.lu)},t}(),Zl=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Xl=function(t){this.key=t,this.pu=!1},Jl=function(){function t(t,e,n,r,i,s){this.Gc=t,this.bu=e,this.vu=n,this.Su=r,this.currentUser=i,this.Du=s,this.Cu={},this.Nu=new Pr(function(t){return Oo(t)},Io),this.xu=new Map,this.Fu=[],this.ku=new ni(Br.D),this.Ou=new Map,this.Mu=new ll,this.$u={},this.Lu=new Map,this.Bu=Mu.da(),this.onlineState="Unknown",this.qu=void 0}return Object.defineProperty(t.prototype,"Uu",{get:function(){return!0===this.qu},enumerable:!1,configurable:!0}),t}();function tc(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,s,o,a;return Object(r.d)(this,function(r){switch(r.label){case 0:return n=kc(t),(s=n.Nu.get(e))?(n.Su.$i(s.targetId),i=s.view.yu(),[3,4]):[3,1];case 1:return[4,nl(n.Gc,Co(e))];case 2:return o=r.sent(),a=n.Su.$i(o.targetId),[4,ec(n,e,o.targetId,"current"===a)];case 3:i=r.sent(),n.Uu&&xl(n.bu,o),r.label=4;case 4:return[2,i]}})})}function ec(t,e,n,i){return Object(r.b)(this,void 0,void 0,function(){var s,o,a,u,l,c;return Object(r.d)(this,function(h){switch(h.label){case 0:return t.Ku=function(e,n,i){return function(t,e,n,i){return Object(r.b)(this,void 0,void 0,function(){var s,o,a;return Object(r.d)(this,function(r){switch(r.label){case 0:return(s=e.view.Eu(n)).mu?[4,il(t.Gc,e.query,!1).then(function(t){return e.view.Eu(t.documents,s)})]:[3,2];case 1:s=r.sent(),r.label=2;case 2:return o=i&&i.zt.get(e.targetId),a=e.view.Vr(s,t.Uu,o),[2,(dc(t,e.targetId,a.Pu),a.snapshot)]}})})}(t,e,n,i)},[4,il(t.Gc,e,!0)];case 1:return s=h.sent(),o=new Ql(e,s.Fh),a=o.Eu(s.documents),u=wi.Zt(n,i&&"Offline"!==t.onlineState),l=o.Vr(a,t.Uu,u),dc(t,n,l.Pu),c=new Zl(e,n,o),[2,(t.Nu.set(e,c),t.xu.has(n)?t.xu.get(n).push(e):t.xu.set(n,[e]),l.snapshot)]}})})}function nc(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,s;return Object(r.d)(this,function(r){switch(r.label){case 0:return n=_r(t),i=n.Nu.get(e),(s=n.xu.get(i.targetId)).length>1?[2,(n.xu.set(i.targetId,s.filter(function(t){return!Io(t,e)})),void n.Nu.delete(e))]:n.Uu?(n.Su.Bi(i.targetId),n.Su.xi(i.targetId)?[3,2]:[4,rl(n.Gc,i.targetId,!1).then(function(){n.Su.Ui(i.targetId),kl(n.bu,i.targetId),cc(n,i.targetId)}).catch(ul)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return cc(n,i.targetId),[4,rl(n.Gc,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})}function rc(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i;return Object(r.d)(this,function(r){switch(r.label){case 0:n=_r(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,tl(n.Gc,e)];case 2:return i=r.sent(),e.zt.forEach(function(t,e){var r=n.Ou.get(e);r&&(yr(t.ee.size+t.ne.size+t.se.size<=1),t.ee.size>0?r.pu=!0:t.ne.size>0?yr(r.pu):t.se.size>0&&(yr(r.pu),r.pu=!1))}),[4,mc(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,ul(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function ic(t,e,n){var r=_r(t);if(r.Uu&&0===n||!r.Uu&&1===n){var i=[];r.Nu.forEach(function(t,n){var r=n.view.Ks(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=_r(t);n.onlineState=e;var r=!1;n.Bs.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].Ks(e)&&(r=!0)}),r&&_a(n)}(r.vu,e),i.length&&r.Cu.yc(i),r.onlineState=e,r.Uu&&r.Su.ji(e)}}function sc(t,e,n){return Object(r.b)(this,void 0,void 0,function(){var i,s,o,a,u,l;return Object(r.d)(this,function(r){switch(r.label){case 0:return(i=_r(t)).Su.Ki(e,"rejected",n),s=i.Ou.get(e),(o=s&&s.key)?(a=(a=new ni(Br.D)).ot(o,new fo(o,Fr.min())),u=pi().add(o),l=new bi(Fr.min(),new Map,new si(wr),a,u),[4,rc(i,l)]):[3,2];case 1:return r.sent(),i.ku=i.ku.remove(o),i.Ou.delete(e),pc(i),[3,4];case 2:return[4,rl(i.Gc,e,!1).then(function(){return cc(i,e,n)}).catch(ul)];case 3:r.sent(),r.label=4;case 4:return[2]}})})}function oc(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,s;return Object(r.d)(this,function(r){switch(r.label){case 0:n=_r(t),i=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Xu(n.Gc,e)];case 2:return s=r.sent(),lc(n,i,null),uc(n,i),n.Su.Oi(i,"acknowledged"),[4,mc(n,s)];case 3:return r.sent(),[3,6];case 4:return[4,ul(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function ac(t,e,n){return Object(r.b)(this,void 0,void 0,function(){var i,s;return Object(r.d)(this,function(r){switch(r.label){case 0:i=_r(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=_r(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Sr.$o(t,e).next(function(e){return yr(null!==e),r=e.keys(),n.Sr.Qo(t,e)}).next(function(){return n.Sr.zo(t)}).next(function(){return n.Nh.Or(t,r)})})}(i.Gc,e)];case 2:return s=r.sent(),lc(i,e,n),uc(i,e),i.Su.Oi(e,"rejected",n),[4,mc(i,s)];case 3:return r.sent(),[3,6];case 4:return[4,ul(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function uc(t,e){(t.Lu.get(e)||[]).forEach(function(t){t.resolve()}),t.Lu.delete(e)}function lc(t,e,n){var r=_r(t),i=r.$u[r.currentUser.ti()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.$u[r.currentUser.ti()]=i}}function cc(t,e,n){void 0===n&&(n=null),t.Su.Bi(e);for(var r=0,i=t.xu.get(e);r<i.length;r++){var s=i[r];t.Nu.delete(s),n&&t.Cu.Qu(s,n)}t.xu.delete(e),t.Uu&&t.Mu.Kh(e).forEach(function(e){t.Mu.Ho(e)||hc(t,e)})}function hc(t,e){var n=t.ku.get(e);null!==n&&(kl(t.bu,n),t.ku=t.ku.remove(e),t.Ou.delete(n),pc(t))}function dc(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Kl?(t.Mu.Da(s.key,e),fc(t,s)):s instanceof Yl?(dr("SyncEngine","Document no longer in limbo: "+s.key),t.Mu.Na(s.key,e),t.Mu.Ho(s.key)||hc(t,s.key)):gr()}}function fc(t,e){var n=e.key;t.ku.get(n)||(dr("SyncEngine","New document in limbo: "+n),t.Fu.push(n),pc(t))}function pc(t){for(;t.Fu.length>0&&t.ku.size<t.Du;){var e=t.Fu.shift(),n=t.Bu.next();t.Ou.set(n,new Xl(e)),t.ku=t.ku.ot(e,n),xl(t.bu,new Xr(Co(yo(e.path)),n,2,wa.ai))}}function mc(t,e,n){return Object(r.b)(this,void 0,void 0,function(){var i,s,o,a;return Object(r.d)(this,function(u){switch(u.label){case 0:return i=_r(t),s=[],o=[],a=[],i.Nu.P()?[3,3]:(i.Nu.forEach(function(t,r){a.push(i.Ku(r,e,n).then(function(t){if(t){i.Uu&&i.Su.Ki(r.targetId,t.fromCache?"not-current":"current"),s.push(t);var e=Ma.zr(r.targetId,t);o.push(e)}}))}),[4,Promise.all(a)]);case 1:return u.sent(),i.Cu.yc(s),[4,function(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,s,o,a,u,l,c;return Object(r.d)(this,function(r){switch(r.label){case 0:n=_r(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Zo.forEach(e,function(e){return Zo.forEach(e.jr,function(r){return n.persistence.No.Da(t,e.targetId,r)}).next(function(){return Zo.forEach(e.Gr,function(r){return n.persistence.No.Na(t,e.targetId,r)})})})})];case 2:return r.sent(),[3,4];case 3:if(!ea(i=r.sent()))throw i;return dr("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(s=0,o=e;s<o.length;s++)u=(a=o[s]).targetId,a.fromCache||(l=n.bh.get(u),c=l.rt(l.nt),n.bh=n.bh.ot(u,c));return[2]}})})}(i.Gc,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function gc(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i;return Object(r.d)(this,function(s){switch(s.label){case 0:return(n=_r(t)).currentUser.isEqual(e)?[3,3]:(dr("SyncEngine","User change. New user:",e.ti()),[4,function(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,s,o;return Object(r.d)(this,function(r){switch(r.label){case 0:return n=_r(t),i=n.Sr,s=n.Nh,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var r;return n.Sr.Uo(t).next(function(o){return r=o,i=n.persistence.Th(e),s=new ja(n.Ch,i,n.persistence.Ah()),i.Uo(t)}).next(function(e){for(var n=[],i=[],o=pi(),a=0,u=r;a<u.length;a++){var l=u[a];n.push(l.batchId);for(var c=0,h=l.mutations;c<h.length;c++)o=o.add(h[c].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];i.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return s.Or(t,o).next(function(t){return{Wu:t,ju:n,Gu:i}})})})];case 1:return o=r.sent(),[2,(n.Sr=i,n.Nh=s,n.ph.xh(n.Nh),o)]}})})}(n.Gc,e)]);case 1:return i=s.sent(),n.currentUser=e,function(t,e){t.Lu.forEach(function(t){t.forEach(function(t){t.reject(new lr(ur.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Lu.clear()}(n),n.Su.Wi(e,i.ju,i.Gu),[4,mc(n,i.Wu)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function yc(t,e){var n=_r(t),r=n.Ou.get(e);if(r&&r.pu)return pi().add(r.key);var i=pi(),s=n.xu.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Nu.get(a[o]);i=i.Ot(u.view.wu)}return i}function _c(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,s;return Object(r.d)(this,function(r){switch(r.label){case 0:return[4,il((n=_r(t)).Gc,e.query,!0)];case 1:return i=r.sent(),s=e.view.Vu(i),[2,(n.Uu&&dc(n,e.targetId,s.Pu),s)]}})})}function vc(t,e,n,i){return Object(r.b)(this,void 0,void 0,function(){var s,o;return Object(r.d)(this,function(r){switch(r.label){case 0:return[4,function(t,e){var n=_r(t),r=_r(n.Sr);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Lo(t,e).next(function(e){return e?n.Nh.Or(t,e):Zo.resolve(null)})})}((s=_r(t)).Gc,e)];case 1:return null===(o=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ml(s.bu)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(lc(s,e,i||null),uc(s,e),function(t,e){_r(_r(t).Sr).jo(e)}(s.Gc,e)):gr(),r.label=4;case 4:return[4,mc(s,o)];case 5:return r.sent(),[3,7];case 6:dr("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}})})}function bc(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,s,o,a,u,l;return Object(r.d)(this,function(r){switch(r.label){case 0:return kc(n=_r(t)),Tc(n),!0!==e||!0===n.qu?[3,3]:(i=n.Su.Ci(),[4,wc(n,i.L())]);case 1:return s=r.sent(),n.qu=!0,[4,Gl(n.bu,!0)];case 2:for(r.sent(),o=0,a=s;o<a.length;o++)xl(n.bu,a[o]);return[3,7];case 3:return!1!==e||!1===n.qu?[3,7]:(u=[],l=Promise.resolve(),n.xu.forEach(function(t,e){n.Su.qi(e)?u.push(e):l=l.then(function(){return cc(n,e),rl(n.Gc,e,!0)}),kl(n.bu,e)}),[4,l]);case 4:return r.sent(),[4,wc(n,u)];case 5:return r.sent(),function(t){var e=_r(t);e.Ou.forEach(function(t,n){kl(e.bu,n)}),e.Mu.Qh(),e.Ou=new Map,e.ku=new ni(Br.D)}(n),n.qu=!1,[4,Gl(n.bu,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}})})}function wc(t,e,n){return Object(r.b)(this,void 0,void 0,function(){var n,i,s,o,a,u,l,c,h,d,f,p,m;return Object(r.d)(this,function(r){switch(r.label){case 0:n=_r(t),i=[],s=[],o=0,a=e,r.label=1;case 1:return o<a.length?(l=void 0,(c=n.xu.get(u=a[o]))&&0!==c.length?[4,nl(n.Gc,Co(c[0]))]:[3,7]):[3,13];case 2:l=r.sent(),h=0,d=c,r.label=3;case 3:return h<d.length?(f=n.Nu.get(d[h]),[4,_c(n,f)]):[3,6];case 4:(p=r.sent()).snapshot&&s.push(p.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,sl(n.Gc,u)];case 8:return m=r.sent(),[4,nl(n.Gc,m)];case 9:return l=r.sent(),[4,ec(n,Sc(m),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(l),r.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Cu.yc(s),i)]}})})}function Sc(t){return go(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Ec(t){var e=_r(t);return _r(_r(e.Gc).persistence).pi()}function Cc(t,e,n,i){return Object(r.b)(this,void 0,void 0,function(){var s,o,a;return Object(r.d)(this,function(r){switch(r.label){case 0:return(s=_r(t)).qu?(dr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!s.xu.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ol(s.Gc)];case 3:return o=r.sent(),a=bi.Xt(e,"current"===n),[4,mc(s,o,a)];case 4:return r.sent(),[3,8];case 5:return[4,rl(s.Gc,e,!0)];case 6:return r.sent(),cc(s,e,i),[3,8];case 7:gr(),r.label=8;case 8:return[2]}})})}function xc(t,e,n){return Object(r.b)(this,void 0,void 0,function(){var i,s,o,a,u,l,c,h,d;return Object(r.d)(this,function(f){switch(f.label){case 0:if(!(i=kc(t)).qu)return[3,10];s=0,o=e,f.label=1;case 1:return s<o.length?i.xu.has(a=o[s])?(dr("SyncEngine","Adding an already active target "+a),[3,5]):[4,sl(i.Gc,a)]:[3,6];case 2:return u=f.sent(),[4,nl(i.Gc,u)];case 3:return l=f.sent(),[4,ec(i,Sc(u),l.targetId,!1)];case 4:f.sent(),xl(i.bu,l),f.label=5;case 5:return s++,[3,1];case 6:c=function(t){return Object(r.d)(this,function(e){switch(e.label){case 0:return i.xu.has(t)?[4,rl(i.Gc,t,!1).then(function(){kl(i.bu,t),cc(i,t)}).catch(ul)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},h=0,d=n,f.label=7;case 7:return h<d.length?[5,c(d[h])]:[3,10];case 8:f.sent(),f.label=9;case 9:return h++,[3,7];case 10:return[2]}})})}function kc(t){var e=_r(t);return e.bu.Hc.ru=rc.bind(null,e),e.bu.Hc.qe=yc.bind(null,e),e.bu.Hc.iu=sc.bind(null,e),e.Cu.yc=ga.bind(null,e.vu),e.Cu.Qu=ya.bind(null,e.vu),e}function Tc(t){var e=_r(t);return e.bu.Hc.ou=oc.bind(null,e),e.bu.Hc.au=ac.bind(null,e),e}var Ic=function(){function t(){}return t.prototype.xh=function(t){this.zu=t},t.prototype.Lr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.on.length||1===t.on.length&&t.on[0].field.W())}(e)||n.isEqual(Fr.min())?this.Hu(t,e):this.zu.Or(t,r).next(function(o){var a=i.Ju(e,o);return(_o(e)||vo(e))&&i.mu(e.an,a,r,n)?i.Hu(t,e):(hr()<=s.a.DEBUG&&dr("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ao(e)),i.zu.Lr(t,e,n).next(function(t){return a.forEach(function(e){t=t.ot(e.key,e)}),t}))})},t.prototype.Ju=function(t,e){var n=new si(Ro(t));return e.forEach(function(e,r){r instanceof ho&&Do(t,r)&&(n=n.add(r))}),n},t.prototype.mu=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.h(r)>0)},t.prototype.Hu=function(t,e){return hr()<=s.a.DEBUG&&dr("IndexFreeQueryEngine","Using full collection scan to execute query:",Ao(e)),this.zu.Lr(t,e,Fr.min())},t}(),Oc=function(){function t(t,e){this.Dr=t,this.No=e,this.Sr=[],this.Yu=1,this.Xu=new si(cl.Mh)}return t.prototype.ko=function(t){return Zo.resolve(0===this.Sr.length)},t.prototype.Oo=function(t,e,n,r){var i=this.Yu;this.Yu++;var s=new Ra(i,e,n,r);this.Sr.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.Xu=this.Xu.add(new cl(u.key,i)),this.Dr.Mo(t,u.key.path.F())}return Zo.resolve(s)},t.prototype.$o=function(t,e){return Zo.resolve(this.Zu(e))},t.prototype.Bo=function(t,e){var n=this.tl(e+1),r=n<0?0:n;return Zo.resolve(this.Sr.length>r?this.Sr[r]:null)},t.prototype.qo=function(){return Zo.resolve(0===this.Sr.length?-1:this.Yu-1)},t.prototype.Uo=function(t){return Zo.resolve(this.Sr.slice())},t.prototype.Nr=function(t,e){var n=this,r=new cl(e,0),i=new cl(e,Number.POSITIVE_INFINITY),s=[];return this.Xu.xt([r,i],function(t){var e=n.Zu(t.jh);s.push(e)}),Zo.resolve(s)},t.prototype.$r=function(t,e){var n=this,r=new si(wr);return e.forEach(function(t){var e=new cl(t,0),i=new cl(t,Number.POSITIVE_INFINITY);n.Xu.xt([e,i],function(t){r=r.add(t.jh)})}),Zo.resolve(this.el(r))},t.prototype.Qr=function(t,e){var n=e.path,r=n.length+1,i=n;Br.X(i)||(i=i.child(""));var s=new cl(new Br(i),0),o=new si(wr);return this.Xu.Ft(function(t){var e=t.key.path;return!!n.M(e)&&(e.length===r&&(o=o.add(t.jh)),!0)},s),Zo.resolve(this.el(o))},t.prototype.el=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.Zu(t);null!==r&&n.push(r)}),n},t.prototype.Qo=function(t,e){var n=this;yr(0===this.nl(e.batchId,"removed")),this.Sr.shift();var r=this.Xu;return Zo.forEach(e.mutations,function(i){var s=new cl(i.key,e.batchId);return r=r.delete(s),n.No.Go(t,i.key)}).next(function(){n.Xu=r})},t.prototype.jo=function(t){},t.prototype.Ho=function(t,e){var n=new cl(e,0),r=this.Xu.kt(n);return Zo.resolve(e.isEqual(r&&r.key))},t.prototype.zo=function(t){return Zo.resolve()},t.prototype.nl=function(t,e){return this.tl(t)},t.prototype.tl=function(t){return 0===this.Sr.length?0:t-this.Sr[0].batchId},t.prototype.Zu=function(t){var e=this.tl(t);return e<0||e>=this.Sr.length?null:this.Sr[e]},t}(),Ac=function(){function t(t,e){this.Dr=t,this.sl=e,this.docs=new ni(Br.D),this.size=0}return t.prototype.Ir=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.sl(e);return this.docs=this.docs.ot(r,{ta:e,size:o,readTime:n}),this.size+=o-s,this.Dr.Mo(t,r.path.F())},t.prototype.Ar=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Rr=function(t,e){var n=this.docs.get(e);return Zo.resolve(n?n.ta:null)},t.prototype.getEntries=function(t,e){var n=this,r=li();return e.forEach(function(t){var e=n.docs.get(t);r=r.ot(t,e?e.ta:null)}),Zo.resolve(r)},t.prototype.Lr=function(t,e,n){for(var r=hi(),i=new Br(e.path.child("")),s=this.docs.ft(i);s.At();){var o=s.It(),a=o.value,u=a.ta,l=a.readTime;if(!e.path.M(o.key.path))break;l.h(n)<=0||u instanceof ho&&Do(e,u)&&(r=r.ot(u.key,u))}return Zo.resolve(r)},t.prototype.il=function(t,e){return Zo.forEach(this.docs,function(t){return e(t)})},t.prototype.ra=function(t){return new Dc(this)},t.prototype.aa=function(t){return Zo.resolve(this.size)},t}(),Dc=function(t){function e(e){var n=this;return(n=t.call(this)||this).ha=e,n}return Object(r.c)(e,t),e.prototype.Vr=function(t){var e=this,n=[];return this.wr.forEach(function(r,i){i?n.push(e.ha.Ir(t,i,e.readTime)):e.ha.Ar(r)}),Zo.kn(n)},e.prototype.Pr=function(t,e){return this.ha.Rr(t,e)},e.prototype.gr=function(t,e){return this.ha.getEntries(t,e)},e}(Pa),Rc=function(){function t(t){this.persistence=t,this.rl=new Pr(function(t){return Wr(t)},Kr),this.lastRemoteSnapshotVersion=Fr.min(),this.highestTargetId=0,this.ol=0,this.al=new ll,this.targetCount=0,this.hl=Mu.fa()}return t.prototype.Ce=function(t,e){return this.rl.forEach(function(t,n){return e(n)}),Zo.resolve()},t.prototype.Ia=function(t){return Zo.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ma=function(t){return Zo.resolve(this.ol)},t.prototype.wa=function(t){return this.highestTargetId=this.hl.next(),Zo.resolve(this.highestTargetId)},t.prototype.Aa=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ol&&(this.ol=e),Zo.resolve()},t.prototype.Pa=function(t){this.rl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.hl=new Mu(e),this.highestTargetId=e),t.sequenceNumber>this.ol&&(this.ol=t.sequenceNumber)},t.prototype.Ra=function(t,e){return this.Pa(e),this.targetCount+=1,Zo.resolve()},t.prototype.Va=function(t,e){return this.Pa(e),Zo.resolve()},t.prototype.ya=function(t,e){return this.rl.delete(e.target),this.al.Kh(e.targetId),this.targetCount-=1,Zo.resolve()},t.prototype.po=function(t,e,n){var r=this,i=0,s=[];return this.rl.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.rl.delete(o),s.push(r.pa(t,a.targetId)),i++)}),Zo.kn(s).next(function(){return i})},t.prototype.ba=function(t){return Zo.resolve(this.targetCount)},t.prototype.va=function(t,e){var n=this.rl.get(e)||null;return Zo.resolve(n)},t.prototype.Sa=function(t,e,n){return this.al.Bh(e,n),Zo.resolve()},t.prototype.Ca=function(t,e,n){this.al.Uh(e,n);var r=this.persistence.No,i=[];return r&&e.forEach(function(e){i.push(r.Go(t,e))}),Zo.kn(i)},t.prototype.pa=function(t,e){return this.al.Kh(e),Zo.resolve()},t.prototype.xa=function(t,e){var n=this.al.Wh(e);return Zo.resolve(n)},t.prototype.Ho=function(t,e){return Zo.resolve(this.al.Ho(e))},t}(),Nc=function(){function t(t){var e=this;this.cl={},this.Ma=new wa(0),this.$a=!1,this.$a=!0,this.No=t(this),this.ja=new Rc(this),this.Dr=new yu,this.vr=function(t,n){return new Ac(t,function(t){return e.No.ul(t)})}(this.Dr)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Di=function(){return this.$a=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ii",{get:function(){return this.$a},enumerable:!1,configurable:!0}),t.prototype.Za=function(){},t.prototype.th=function(){},t.prototype.Ah=function(){return this.Dr},t.prototype.Th=function(t){var e=this.cl[t.ti()];return e||(e=new Oc(this.Dr,this.No),this.cl[t.ti()]=e),e},t.prototype.Ih=function(){return this.ja},t.prototype.mh=function(){return this.vr},t.prototype.runTransaction=function(t,e,n){var r=this;dr("MemoryPersistence","Starting transaction:",t);var i=new Pc(this.Ma.next());return this.No.ll(),n(i).next(function(t){return r.No._l(i).next(function(){return t})}).xn().then(function(t){return i.br(),t})},t.prototype.fl=function(t,e){return Zo.On(Object.values(this.cl).map(function(n){return function(){return n.Ho(t,e)}}))},t}(),Pc=function(t){function e(e){var n=this;return(n=t.call(this)||this).Fa=e,n}return Object(r.c)(e,t),e}(Fa),Lc=function(){function t(t){this.persistence=t,this.dl=new ll,this.wl=null}return t.El=function(e){return new t(e)},Object.defineProperty(t.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw gr()},enumerable:!1,configurable:!0}),t.prototype.Da=function(t,e,n){return this.dl.Da(n,e),this.Tl.delete(n.toString()),Zo.resolve()},t.prototype.Na=function(t,e,n){return this.dl.Na(n,e),this.Tl.add(n.toString()),Zo.resolve()},t.prototype.Go=function(t,e){return this.Tl.add(e.toString()),Zo.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.dl.Kh(e.targetId).forEach(function(t){return n.Tl.add(t.toString())});var r=this.persistence.Ih();return r.xa(t,e.targetId).next(function(t){t.forEach(function(t){return n.Tl.add(t.toString())})}).next(function(){return r.ya(t,e)})},t.prototype.ll=function(){this.wl=new Set},t.prototype._l=function(t){var e=this,n=this.persistence.mh().ra();return Zo.forEach(this.Tl,function(r){var i=Br.H(r);return e.Il(t,i).next(function(t){t||n.Ar(i)})}).next(function(){return e.wl=null,n.apply(t)})},t.prototype.yh=function(t,e){var n=this;return this.Il(t,e).next(function(t){t?n.Tl.delete(e.toString()):n.Tl.add(e.toString())})},t.prototype.ul=function(t){return 0},t.prototype.Il=function(t,e){var n=this;return Zo.On([function(){return Zo.resolve(n.dl.Ho(e))},function(){return n.persistence.Ih().Ho(t,e)},function(){return n.persistence.fl(t,e)}])},t}(),Fc=function(){function t(t){this.ml=t.ml,this.Al=t.Al}return t.prototype.gc=function(t){this.Rl=t},t.prototype.Ic=function(t){this.Pl=t},t.prototype.onMessage=function(t){this.gl=t},t.prototype.close=function(){this.Al()},t.prototype.send=function(t){this.ml(t)},t.prototype.Vl=function(){this.Rl()},t.prototype.yl=function(t){this.Pl(t)},t.prototype.pl=function(t){this.gl(t)},t}(),jc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Mc=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.T=e.T,n}return Object(r.c)(e,t),e.prototype.Nl=function(t,e,n,r){return new Promise(function(i,s){var o=new or;o.listenOnce(ir.COMPLETE,function(){try{switch(o.getLastErrorCode()){case rr.NO_ERROR:var e=o.getResponseJson();dr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case rr.TIMEOUT:dr("Connection",'RPC "'+t+'" timed out'),s(new lr(ur.DEADLINE_EXCEEDED,"Request time out"));break;case rr.HTTP_ERROR:var n=o.getStatus();if(dr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(ur).indexOf(e)>=0?e:ur.UNKNOWN}(r.status);s(new lr(a,r.message))}else s(new lr(ur.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new lr(ur.UNAVAILABLE,"Connection failed."));break;default:gr()}}finally{dr("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.Vc=function(t,e){var n=[this.vl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Xn,i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this._.projectId+"/databases/"+this._.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.T};this.Cl(i.initMessageHeaders,e),Object(o.l)()||Object(o.n)()||Object(o.j)()||Object(o.k)()||Object(o.o)()||Object(o.i)()||(i.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");dr("Connection","Creating WebChannel: "+s,i);var a=r.createWebChannel(s,i),u=!1,l=!1,c=new Fc({ml:function(t){l?dr("Connection","Not sending because WebChannel is closed:",t):(u||(dr("Connection","Opening WebChannel transport."),a.open(),u=!0),dr("Connection","WebChannel sending:",t),a.send(t))},Al:function(){return a.close()}}),h=function(t,e){a.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(sr.EventType.OPEN,function(){l||dr("Connection","WebChannel transport opened.")}),h(sr.EventType.CLOSE,function(){l||(l=!0,dr("Connection","WebChannel transport closed"),c.yl())}),h(sr.EventType.ERROR,function(t){l||(l=!0,pr("Connection","WebChannel transport errored:",t),c.yl(new lr(ur.UNAVAILABLE,"The operation could not be completed")))}),h(sr.EventType.MESSAGE,function(t){var e;if(!l){var n=t.data[0];yr(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){dr("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Qr[t];if(void 0!==e)return ei(e)}(i),o=r.message;void 0===s&&(s=ur.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),l=!0,c.yl(new lr(s,o)),a.close()}else dr("Connection","WebChannel received:",n),c.pl(n)}}),setTimeout(function(){c.Vl()},0),c},e}(function(){function t(t){this.bl=t,this._=t._,this.vl=(t.ssl?"https":"http")+"://"+t.host,this.Sl="projects/"+this._.projectId+"/databases/"+this._.database+"/documents"}return t.prototype.Mc=function(t,e,n,r){var i=this.Dl(t,e);dr("RestConnection","Sending: ",i,n);var s={};return this.Cl(s,r),this.Nl(t,i,s,n).then(function(t){return dr("RestConnection","Received: ",t),t},function(e){throw pr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$c=function(t,e,n,r){return this.Mc(t,e,n,r)},t.prototype.Cl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.0.0",t["Content-Type"]="text/plain",e)for(var n in e.Gh)e.Gh.hasOwnProperty(n)&&(t[n]=e.Gh[n])},t.prototype.Dl=function(t,e){return this.vl+"/v1/"+e+":"+jc[t]},t}()),Vc=function(){function t(){var t=this;this.xl=function(){return t.Fl()},this.kl=function(){return t.Ol()},this.Ml=[],this.$l()}return t.prototype.eu=function(t){this.Ml.push(t)},t.prototype.Di=function(){window.removeEventListener("online",this.xl),window.removeEventListener("offline",this.kl)},t.prototype.$l=function(){window.addEventListener("online",this.xl),window.addEventListener("offline",this.kl)},t.prototype.Fl=function(){dr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(0)},t.prototype.Ol=function(){dr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(1)},t.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Uc=function(){function t(){}return t.prototype.eu=function(t){},t.prototype.Di=function(){},t}();function Bc(t){return new Zi(t,!0)}var zc=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(e){switch(e.label){case 0:return this.Su=this.Ll(t),this.persistence=this.Bl(t),[4,this.persistence.start()];case 1:return e.sent(),this.ql=this.Ul(t),this.Gc=this.Kl(t),[2]}})})},t.prototype.Ul=function(t){return null},t.prototype.Kl=function(t){return e=this.persistence,n=new Ic,new Zu(e,n,t.Ql);var e,n},t.prototype.Bl=function(t){return new Nc(Lc.El)},t.prototype.Ll=function(t){return new Da},t.prototype.terminate=function(){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(t){switch(t.label){case 0:return this.ql&&this.ql.stop(),[4,this.Su.Di()];case 1:return t.sent(),[4,this.persistence.Di()];case 2:return t.sent(),[2]}})})},t}(),qc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Wl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(r.c)(e,t),e.prototype.initialize=function(e){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,al(this.Gc)];case 2:return n.sent(),[4,this.Wl.initialize(this,e)];case 3:return n.sent(),[4,Tc(this.Wl.fi)];case 4:return n.sent(),[4,Ml(this.Wl.bu)];case 5:return n.sent(),[2]}})})},e.prototype.Ul=function(t){return new qa(this.persistence.No.wo,t.hs)},e.prototype.Bl=function(t){var e=Qu(t.bl._,t.bl.persistenceKey),n=void 0!==this.cacheSizeBytes?za.ao(this.cacheSizeBytes):za.fo,r=Bc(t.bl._);return new Gu(this.synchronizeTabs,e,t.clientId,n,t.hs,aa(),ua(),r,this.Su,!!this.forceOwnership)},e.prototype.Ll=function(t){return new Da},e}(zc),Hc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Wl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(r.c)(e,t),e.prototype.initialize=function(e){return Object(r.b)(this,void 0,void 0,function(){var n,i=this;return Object(r.d)(this,function(s){switch(s.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return s.sent(),n=this.Wl.fi,this.Su instanceof Aa?(this.Su.fi={er:vc.bind(null,n),nr:Cc.bind(null,n),sr:xc.bind(null,n),pi:Ec.bind(null,n)},[4,this.Su.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.Xa(function(t){return Object(r.b)(i,void 0,void 0,function(){return Object(r.d)(this,function(e){switch(e.label){case 0:return[4,bc(this.Wl.fi,t)];case 1:return e.sent(),this.ql&&(t&&!this.ql.Ii?this.ql.start(this.Gc):t||this.ql.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},e.prototype.Ll=function(t){var e=aa();if(!Aa.Ln(e))throw new lr(ur.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Qu(t.bl._,t.bl.persistenceKey);return new Aa(e,t.hs,n,t.clientId,t.Ql)},e}(qc),Gc=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(r.b)(this,void 0,void 0,function(){var n=this;return Object(r.d)(this,function(r){switch(r.label){case 0:return this.Gc?[3,2]:(this.Gc=t.Gc,this.Su=t.Su,this.zc=this.jl(e),this.bu=this.Gl(e),this.vu=this.zl(e),this.fi=this.Hl(e,!t.synchronizeTabs),this.Su.di=function(t){return ic(n.fi,t,1)},this.bu.Hc.Jl=gc.bind(null,this.fi),[4,Gl(this.bu,this.fi.Uu)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.zl=function(t){return new fa},t.prototype.jl=function(t){var e=Bc(t.bl._),n=new Mc(t.bl);return function(t,e,n){return new vl(t,e,n)}(t.credentials,n,e)},t.prototype.Gl=function(t){var e,n,r,i,s,o=this;return e=this.Gc,n=this.zc,r=t.hs,i=function(t){return ic(o.fi,t,0)},s=Vc.Ln()?new Vc:new Uc,new wl(e,n,r,i,s)},t.prototype.Hl=function(t,e){return function(t,e,n,r,i,s,o){var a=new Jl(t,e,n,r,i,s);return o&&(a.qu=!0),a}(this.Gc,this.bu,this.vu,this.Su,t.Ql,t.Du,e)},t.prototype.terminate=function(){return Cl(this.bu)},t}(),$c=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Yl(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Yl(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Xl=function(){this.muted=!0},t.prototype.Yl=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}();function Wc(t,e,n){if(!n)throw new lr(ur.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Kc(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new lr(ur.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Yc(t,e,n,r){if(!0===e&&!0===r)throw new lr(ur.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Qc(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":gr()}function Zc(t,e){if(e<=0)throw new lr(ur.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Xc=function(t){for(var e=0;e<t.length;++e)if(0===t[e].length)throw new lr(ur.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Zl=new Ur(t)},Jc=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return Object(r.c)(e,t),e.documentId=function(){return new e(Ur.j().B())},e.prototype.isEqual=function(t){return t instanceof e&&this.Zl.isEqual(t.Zl)},e}(Xc),th=new RegExp("[~\\*/\\[\\]]"),eh=function(t){this.t_=t},nh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.e_=function(t){if(2!==t.n_)throw t.s_(1===t.n_?this.t_+"() can only appear at the top level of your update data":this.t_+"() cannot be used with set() unless you pass {merge:true}");return t.Qe.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(eh);function rh(t,e,n){return new mh({n_:3,i_:e.settings.i_,methodName:t.t_,r_:n},e._,e.serializer,e.ignoreUndefinedProperties)}var ih=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.e_=function(t){return new qs(t.path,new Ps)},e.prototype.isEqual=function(t){return t instanceof e},e}(eh),sh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).o_=n,r}return Object(r.c)(e,t),e.prototype.e_=function(t){var e=rh(this,t,!0),n=this.o_.map(function(t){return wh(t,e)}),r=new Ls(n);return new qs(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(eh),oh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).o_=n,r}return Object(r.c)(e,t),e.prototype.e_=function(t){var e=rh(this,t,!0),n=this.o_.map(function(t){return wh(t,e)}),r=new js(n);return new qs(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(eh),ah=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).a_=n,r}return Object(r.c)(e,t),e.prototype.e_=function(t){var e=new Vs(t.serializer,ts(t.serializer,this.a_));return new qs(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(eh),uh=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new lr(ur.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new lr(ur.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.h_=t,this.c_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.c_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.h_===t.h_&&this.c_===t.c_},t.prototype.toJSON=function(){return{latitude:this.h_,longitude:this.c_}},t.prototype.g=function(t){return wr(this.h_,t.h_)||wr(this.c_,t.c_)},t}(),lh=function(t){this.u_=t},ch=/^__.*__$/,hh=function(t,e,n){this.l_=t,this.__=e,this.f_=n},dh=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.d_=function(t,e){var n=[];return n.push(null!==this.Qe?new to(t,this.data,this.Qe,e):new Js(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new no(t,this.fieldTransforms)),n},t}(),fh=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.d_=function(t,e){var n=[new to(t,this.data,this.Qe,e)];return this.fieldTransforms.length>0&&n.push(new no(t,this.fieldTransforms)),n},t}();function ph(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gr()}}var mh=function(){function t(t,e,n,r,i,s){this.settings=t,this._=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.w_(),this.fieldTransforms=i||[],this.Qe=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"n_",{get:function(){return this.settings.n_},enumerable:!1,configurable:!0}),t.prototype.E_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this._,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},t.prototype.T_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.E_({path:n,r_:!1});return r.I_(t),r},t.prototype.m_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.E_({path:n,r_:!1});return r.w_(),r},t.prototype.A_=function(t){return this.E_({path:void 0,r_:!0})},t.prototype.s_=function(t){return Th(t,this.settings.methodName,this.settings.R_||!1,this.path,this.settings.i_)},t.prototype.contains=function(t){return void 0!==this.Qe.find(function(e){return t.M(e)})||void 0!==this.fieldTransforms.find(function(e){return t.M(e.field)})},t.prototype.w_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.I_(this.path.get(t))},t.prototype.I_=function(t){if(0===t.length)throw this.s_("Document fields must not be empty");if(ph(this.n_)&&ch.test(t))throw this.s_('Document fields cannot begin and end with "__"')},t}(),gh=function(){function t(t,e,n){this._=t,this.ignoreUndefinedProperties=e,this.serializer=n||Bc(t)}return t.prototype.P_=function(t,e,n,r){return void 0===r&&(r=!1),new mh({n_:t,methodName:e,i_:n,path:Ur.U(),r_:!1,R_:r},this._,this.serializer,this.ignoreUndefinedProperties)},t}();function yh(t,e,n,r,i,s){void 0===s&&(s={});var o=t.P_(s.merge||s.mergeFields?2:0,e,n,i);Ch("Data must be an object, but it was:",o,r);var a,u,l=Sh(r,o);if(s.merge)a=new zs(o.Qe),u=o.fieldTransforms;else if(s.mergeFields){for(var c=[],h=0,d=s.mergeFields;h<d.length;h++){var f=d[h],p=void 0;if(f instanceof Xc)p=f.Zl;else{if("string"!=typeof f)throw gr();p=kh(e,f,n)}if(!o.contains(p))throw new lr(ur.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Ih(c,p)||c.push(p)}a=new zs(c),u=o.fieldTransforms.filter(function(t){return a.Je(t.field)})}else a=null,u=o.fieldTransforms;return new dh(new ao(l),a,u)}function _h(t,e,n,r){var i=t.P_(1,e,n);Ch("Data must be an object, but it was:",i,r);var s=[],o=new uo;Rr(r,function(t,r){var a=kh(e,t,n),u=i.m_(a);if(r instanceof nh||r instanceof lh&&r.u_ instanceof nh)s.push(a);else{var l=wh(r,u);null!=l&&(s.push(a),o.set(a,l))}});var a=new zs(s);return new fh(o.Xe(),a,i.fieldTransforms)}function vh(t,e,n,r,i,s){var o=t.P_(1,e,n),a=[xh(e,r,n)],u=[i];if(s.length%2!=0)throw new lr(ur.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<s.length;l+=2)a.push(xh(e,s[l])),u.push(s[l+1]);for(var c=[],h=new uo,d=a.length-1;d>=0;--d)if(!Ih(c,a[d])){var f=a[d],p=u[d],m=o.m_(f);if(p instanceof nh||p instanceof lh&&p.u_ instanceof nh)c.push(f);else{var g=wh(p,m);null!=g&&(c.push(f),h.set(f,g))}}var y=new zs(c);return new fh(h.Xe(),y,o.fieldTransforms)}function bh(t,e,n,r){return void 0===r&&(r=!1),wh(n,t.P_(r?4:3,e))}function wh(t,e){if(t instanceof lh&&(t=t.u_),Eh(t))return Ch("Unsupported field value:",e,t),Sh(t,e);if(t instanceof eh)return function(t,e){if(!ph(e.n_))throw e.s_(t.t_+"() can only be used with update() and set()");if(!e.path)throw e.s_(t.t_+"() is not currently supported inside arrays");var n=t.e_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Qe.push(e.path),t instanceof Array){if(e.settings.r_&&4!==e.n_)throw e.s_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=wh(s[i],e.A_(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ts(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Lr.fromDate(t);return{timestampValue:es(e.serializer,n)}}if(t instanceof Lr){var r=new Lr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:es(e.serializer,r)}}if(t instanceof uh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof xr)return{bytesValue:ns(e.serializer,t.l)};if(t instanceof hh){var i=e._,s=t.l_;if(!s.isEqual(i))throw e.s_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:ss(t.l_||e._,t.__.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.s_("Unsupported field value: "+Qc(t))}(t,e)}function Sh(t,e){var n={};return Nr(t)?e.path&&e.path.length>0&&e.Qe.push(e.path):Rr(t,function(t,r){var i=wh(r,e.T_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Eh(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Lr||t instanceof uh||t instanceof xr||t instanceof hh||t instanceof eh)}function Ch(t,e,n){if(!Eh(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Qc(n);throw e.s_("an object"===r?t+" a custom object":t+" "+r)}}function xh(t,e,n){if(e instanceof Xc)return e.Zl;if("string"==typeof e)return kh(t,e);throw Th("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function kh(t,e,n){try{return function(t){if(t.search(th)>=0)throw new lr(ur.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Jc.bind.apply(Jc,Object(r.g)([void 0],t.split("."))))}catch(e){throw new lr(ur.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).Zl}catch(e){throw Th((i=e)instanceof Error?i.message:i.toString(),t,!1,void 0,n)}var i}function Th(t,e,n,r,i){var s=r&&!r.P(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new lr(ur.INVALID_ARGUMENT,(a+=". ")+t+u)}function Ih(t,e){return t.some(function(t){return t.isEqual(e)})}var Oh=function(){function t(t){this.zc=t,this.g_=new Map,this.mutations=[],this.V_=!1,this.y_=null,this.p_=new Set}return t.prototype.b_=function(t){return Object(r.b)(this,void 0,void 0,function(){var e,n=this;return Object(r.d)(this,function(i){switch(i.label){case 0:if(this.v_(),this.mutations.length>0)throw new lr(ur.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,s,o,a,u;return Object(r.d)(this,function(r){switch(r.label){case 0:return n=_r(t),i=hs(n.serializer)+"/documents",s={documents:e.map(function(t){return as(n.serializer,t)})},[4,n.$c("BatchGetDocuments",i,s)];case 1:return o=r.sent(),a=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){yr(!!e.found);var n=us(t,e.found.name),r=is(e.found.updateTime),i=new ao({mapValue:{fields:e.found.fields}});return new ho(n,r,i,{})}(t,e):"missing"in e?function(t,e){yr(!!e.missing),yr(!!e.readTime);var n=us(t,e.missing),r=is(e.readTime);return new fo(n,r)}(t,e):gr()}(n.serializer,t);a.set(e.key.toString(),e)}),u=[],[2,(e.forEach(function(t){var e=a.get(t.toString());yr(!!e),u.push(e)}),u)]}})})}(this.zc,t)];case 1:return[2,((e=i.sent()).forEach(function(t){t instanceof fo||t instanceof ho?n.S_(t):gr()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.d_(t,this.Ge(t))),this.p_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.d_(t,this.D_(t)))}catch(t){this.y_=t}this.p_.add(t.toString())},t.prototype.delete=function(t){this.write([new so(t,this.Ge(t))]),this.p_.add(t.toString())},t.prototype.commit=function(){return Object(r.b)(this,void 0,void 0,function(){var t,e=this;return Object(r.d)(this,function(n){switch(n.label){case 0:if(this.v_(),this.y_)throw this.y_;return t=this.g_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Br.H(n);e.mutations.push(new oo(r,e.Ge(r)))}),[4,function(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,s;return Object(r.d)(this,function(r){switch(r.label){case 0:return n=_r(t),i=hs(n.serializer)+"/documents",s={writes:e.map(function(t){return ps(n.serializer,t)})},[4,n.Mc("Commit",i,s)];case 1:return r.sent(),[2]}})})}(this.zc,this.mutations)];case 1:return n.sent(),this.V_=!0,[2]}})})},t.prototype.S_=function(t){var e;if(t instanceof ho)e=t.version;else{if(!(t instanceof fo))throw gr();e=Fr.min()}var n=this.g_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new lr(ur.ABORTED,"Document version changed between two reads.")}else this.g_.set(t.key.toString(),e)},t.prototype.Ge=function(t){var e=this.g_.get(t.toString());return!this.p_.has(t.toString())&&e?Gs.updateTime(e):Gs.ze()},t.prototype.D_=function(t){var e=this.g_.get(t.toString());if(!this.p_.has(t.toString())&&e){if(e.isEqual(Fr.min()))throw new lr(ur.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gs.updateTime(e)}return Gs.exists(!0)},t.prototype.write=function(t){this.v_(),this.mutations=this.mutations.concat(t)},t.prototype.v_=function(){},t}(),Ah=function(){function t(t,e,n,r){this.hs=t,this.zc=e,this.updateFunction=n,this.ls=r,this.C_=5,this.Vs=new Qo(this.hs,"transaction_retry")}return t.prototype.run=function(){this.N_()},t.prototype.N_=function(){var t=this;this.Vs.Pn(function(){return Object(r.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(r.d)(this,function(r){return t=new Oh(this.zc),(e=this.x_(t))&&e.then(function(e){n.hs.ws(function(){return t.commit().then(function(){n.ls.resolve(e)}).catch(function(t){n.F_(t)})})}).catch(function(t){n.F_(t)}),[2]})})})},t.prototype.x_=function(t){try{var e=this.updateFunction(t);return!zr(e)&&e.catch&&e.then?e:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ls.reject(t),null}},t.prototype.F_=function(t){var e=this;this.C_>0&&this.k_(t)?(this.C_-=1,this.hs.ws(function(){return e.N_(),Promise.resolve()})):this.ls.reject(t)},t.prototype.k_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ti(e)}return!1},t}(),Dh=function(){function t(t,e){this.credentials=t,this.hs=e,this.clientId=br.t(),this.O_=new Yo}return t.prototype.start=function(t,e,n){var i=this;this.M_(),this.bl=t;var s=new Yo,o=!1;return this.credentials.Jh(function(t){if(!o)return o=!0,dr("FirestoreClient","Initializing. user=",t.uid),i.L_(e,n,t,s).then(i.O_.resolve,i.O_.reject);i.hs.Cs(function(){return function(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i;return Object(r.d)(this,function(r){switch(r.label){case 0:return(n=_r(t)).hs.Fs(),dr("RemoteStore","RemoteStore received new credentials"),i=Dl(n),n.Xc.add(3),[4,El(n)];case 1:return r.sent(),i&&n.nu.set("Unknown"),[4,n.Hc.Jl(e)];case 2:return r.sent(),n.Xc.delete(3),[4,Sl(n)];case 3:return r.sent(),[2]}})})}(i.bu,t)})}),this.hs.ws(function(){return i.O_.promise}),s.promise},t.prototype.enableNetwork=function(){var t=this;return this.M_(),this.hs.enqueue(function(){return t.persistence.th(!0),function(t){var e=_r(t);return e.Xc.delete(0),Sl(e)}(t.bu)})},t.prototype.L_=function(t,e,n,i){return Object(r.b)(this,void 0,void 0,function(){var s,o,a=this;return Object(r.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,t.initialize(s={hs:this.hs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Ql:n,Du:100})];case 1:return u.sent(),[4,e.initialize(t,s)];case 2:return u.sent(),this.persistence=t.persistence,this.Su=t.Su,this.Gc=t.Gc,this.ql=t.ql,this.zc=e.zc,this.bu=e.bu,this.fi=e.fi,this.B_=e.vu,this.B_.Us=tc.bind(null,this.fi),this.B_.Ws=nc.bind(null,this.fi),this.persistence.Za(function(){return Object(r.b)(a,void 0,void 0,function(){return Object(r.d)(this,function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}})})}),i.resolve(),[3,4];case 3:if(o=u.sent(),i.reject(o),!function(t){return"FirebaseError"===t.name?t.code===ur.FAILED_PRECONDITION||t.code===ur.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(o))throw o;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),this.L_(new zc,new Gc,n,i))];case 4:return[2]}})})},t.prototype.M_=function(){if(this.hs.ps)throw new lr(ur.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.M_(),this.hs.enqueue(function(){return t.persistence.th(!1),function(t){return Object(r.b)(this,void 0,void 0,function(){var e;return Object(r.d)(this,function(n){switch(n.label){case 0:return(e=_r(t)).Xc.add(0),[4,El(e)];case 1:return n.sent(),e.nu.set("Offline"),[2]}})})}(t.bu)})},t.prototype.terminate=function(){var t=this;this.hs.Ds();var e=new Yo;return this.hs.bs(function(){return Object(r.b)(t,void 0,void 0,function(){var t,n;return Object(r.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,Cl(this.bu)];case 1:return r.sent(),[4,this.Su.Di()];case 2:return r.sent(),[4,this.persistence.Di()];case 3:return r.sent(),this.credentials.Yh(),e.resolve(),[3,5];case 4:return t=r.sent(),n=ha(t,"Failed to shutdown persistence"),e.reject(n),[3,5];case 5:return[2]}})})}),e.promise},t.prototype.waitForPendingWrites=function(){var t=this;this.M_();var e=new Yo;return this.hs.ws(function(){return function(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,s,o,a;return Object(r.d)(this,function(r){switch(r.label){case 0:Dl((n=_r(t)).bu)||dr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=_r(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Sr.qo(t)})}(n.Gc)];case 2:return-1===(i=r.sent())?[2,void e.resolve()]:((s=n.Lu.get(i)||[]).push(e),n.Lu.set(i,s),[3,4]);case 3:return o=r.sent(),a=ha(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}(t.fi,e)}),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.M_();var i=new $c(n),s=new va(t,i,e);return this.hs.ws(function(){return pa(r.B_,s)}),function(){i.Xl(),r.hs.ws(function(){return ma(r.B_,s)})}},t.prototype.q_=function(t){return Object(r.b)(this,void 0,void 0,function(){var e,n=this;return Object(r.d)(this,function(i){switch(i.label){case 0:return this.M_(),[4,this.O_.promise];case 1:return i.sent(),e=new Yo,[2,(this.hs.ws(function(){return function(t,e,n){return Object(r.b)(this,void 0,void 0,function(){var i,s,o;return Object(r.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=_r(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Nh.Cr(t,e)})}(t,e)];case 1:return(i=r.sent())instanceof ho?n.resolve(i):i instanceof fo?n.resolve(null):n.reject(new lr(ur.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return s=r.sent(),o=ha(s,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}})})}(n.Gc,t,e)}),e.promise)]}})})},t.prototype.U_=function(t,e){return void 0===e&&(e={}),Object(r.b)(this,void 0,void 0,function(){var n,i=this;return Object(r.d)(this,function(r){switch(r.label){case 0:return this.M_(),[4,this.O_.promise];case 1:return r.sent(),n=new Yo,[2,(this.hs.ws(function(){return function(t,e,n,r,i){var s=new $c({next:function(s){e.ws(function(){return ma(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new lr(ur.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new lr(ur.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new va(yo(n.path),s,{includeMetadataChanges:!0,Xs:!0});return pa(t,o)}(i.B_,i.hs,t,e,n)}),n.promise)]}})})},t.prototype.K_=function(t){return Object(r.b)(this,void 0,void 0,function(){var e,n=this;return Object(r.d)(this,function(i){switch(i.label){case 0:return this.M_(),[4,this.O_.promise];case 1:return i.sent(),e=new Yo,[2,(this.hs.ws(function(){return function(t,e,n){return Object(r.b)(this,void 0,void 0,function(){var i,s,o,a,u,l;return Object(r.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,il(t,e,!0)];case 1:return i=r.sent(),s=new Ql(e,i.Fh),o=s.Eu(i.documents),a=s.Vr(o,!1),n.resolve(a.snapshot),[3,3];case 2:return u=r.sent(),l=ha(u,"Failed to execute query '"+e+" against cache"),n.reject(l),[3,3];case 3:return[2]}})})}(n.Gc,t,e)}),e.promise)]}})})},t.prototype.Q_=function(t,e){return void 0===e&&(e={}),Object(r.b)(this,void 0,void 0,function(){var n,i=this;return Object(r.d)(this,function(r){switch(r.label){case 0:return this.M_(),[4,this.O_.promise];case 1:return r.sent(),n=new Yo,[2,(this.hs.ws(function(){return function(t,e,n,r,i){var s=new $c({next:function(n){e.ws(function(){return ma(t,o)}),n.fromCache&&"server"===r.source?i.reject(new lr(ur.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new va(n,s,{includeMetadataChanges:!0,Xs:!0});return pa(t,o)}(i.B_,i.hs,t,e,n)}),n.promise)]}})})},t.prototype.write=function(t){var e=this;this.M_();var n=new Yo;return this.hs.ws(function(){return function(t,e,n){return Object(r.b)(this,void 0,void 0,function(){var i,s,o,a;return Object(r.d)(this,function(r){switch(r.label){case 0:i=Tc(t),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=_r(t),i=Lr.now(),s=e.reduce(function(t,e){return t.add(e.key)},pi());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Nh.Or(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var l=u[a],c=Qs(l,n.get(l.key));null!=c&&o.push(new to(l.key,c,lo(c.proto.mapValue),Gs.exists(!0)))}return r.Sr.Oo(t,i,o,e)})}).then(function(t){var e=t.lr(n);return{batchId:t.batchId,wr:e}})}(i.Gc,e)];case 2:return s=r.sent(),i.Su.Fi(s.batchId),function(t,e,n){var r=t.$u[t.currentUser.ti()];r||(r=new ni(wr)),r=r.ot(e,n),t.$u[t.currentUser.ti()]=r}(i,s.batchId,n),[4,mc(i,s.wr)];case 3:return r.sent(),[4,Ml(i.bu)];case 4:return r.sent(),[3,6];case 5:return o=r.sent(),a=ha(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}(e.fi,t,n)}),n.promise},t.prototype._=function(){return this.bl._},t.prototype.W_=function(t){var e=this;this.M_();var n=new $c(t);return this.hs.ws(function(){return Object(r.b)(e,void 0,void 0,function(){return Object(r.d)(this,function(t){return[2,function(t,e){_r(t).qs.add(e),e.next()}(this.B_,n)]})})}),function(){n.Xl(),e.hs.ws(function(){return Object(r.b)(e,void 0,void 0,function(){return Object(r.d)(this,function(t){return[2,function(t,e){_r(t).qs.delete(e)}(this.B_,n)]})})})}},Object.defineProperty(t.prototype,"j_",{get:function(){return this.hs.ps},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.M_();var n=new Yo;return this.hs.ws(function(){return new Ah(e.hs,e.zc,t,n).run(),Promise.resolve()}),n.promise},t}();function Rh(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var Nh=function(){function t(t,e,n,r){this._=t,this.G_=e,this.z_=n,this.H_=r}return t.prototype.J_=function(t){switch(Ni(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Bi(t.integerValue||t.doubleValue);case 3:return this.Y_(t.timestampValue);case 4:return this.X_(t);case 5:return t.stringValue;case 6:return this.H_(zi(t.bytesValue));case 7:return this.Z_(t.referenceValue);case 8:return this.tf(t.geoPointValue);case 9:return this.ef(t.arrayValue);case 10:return this.nf(t.mapValue);default:throw gr()}},t.prototype.nf=function(t){var e=this,n={};return Rr(t.fields||{},function(t,r){n[t]=e.J_(r)}),n},t.prototype.tf=function(t){return new uh(Bi(t.latitude),Bi(t.longitude))},t.prototype.ef=function(t){var e=this;return(t.values||[]).map(function(t){return e.J_(t)})},t.prototype.X_=function(t){switch(this.G_){case"previous":var e=Ai(t);return null==e?null:this.J_(e);case"estimate":return this.Y_(Di(t));default:return null}},t.prototype.Y_=function(t){var e=Ui(t);return new Lr(e.seconds,e.nanos)},t.prototype.Z_=function(t){var e=Mr.q(t);yr(Os(e));var n=new Ar(e.get(1),e.get(3)),r=new Br(e.N(5));return n.isEqual(this._)||fr("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this._.projectId+"/"+this._.database+") instead."),this.z_(r)},t}(),Ph=za.uo,Lh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new lr(ur.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=za._o;else{if(t.cacheSizeBytes!==Ph&&t.cacheSizeBytes<za.lo)throw new lr(ur.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+za.lo);this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Yc("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Fh="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",jh=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){throw new lr(ur.FAILED_PRECONDITION,Fh)},t.prototype.enableMultiTabIndexedDbPersistence=function(t){throw new lr(ur.FAILED_PRECONDITION,Fh)},t.prototype.clearIndexedDbPersistence=function(t){throw new lr(ur.FAILED_PRECONDITION,Fh)},t}(),Mh=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){var n=new Gc,r=new qc(n,t.sf().cacheSizeBytes,e);return t.if(r,n)},t.prototype.enableMultiTabIndexedDbPersistence=function(t){var e=new Gc,n=new Hc(e,t.sf().cacheSizeBytes);return t.if(n,e)},t.prototype.clearIndexedDbPersistence=function(t){var e=this,n=new Yo;return t.rf.bs(function(){return Object(r.b)(e,void 0,void 0,function(){var e;return Object(r.d)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(e){switch(e.label){case 0:return Xo.Ln()?[4,Xo.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Qu(t.l_,t.af))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return e=i.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise},t}(),Vh=function(){function t(e,n,i){var s=this;if(void 0===i&&(i=new jh),this.hf=i,this.cf=null,this.rf=new ca,this.INTERNAL={delete:function(){return Object(r.b)(s,void 0,void 0,function(){return Object(r.d)(this,function(t){switch(t.label){case 0:return this.uf(),[4,this.lf.terminate()];case 1:return t.sent(),[2]}})})}},"object"==typeof e.options){var o=e;this.cf=o,this.l_=t._f(o),this.af=o.name,this.ff=new fl(n)}else{var a=e;if(!a.projectId)throw new lr(ur.INVALID_ARGUMENT,"Must provide projectId");this.l_=new Ar(a.projectId,a.database),this.af="[DEFAULT]",this.ff=new dl}this.df=new Lh({})}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.Ef||(this.Ef=new gh(this.l_,this.df.ignoreUndefinedProperties)),this.Ef},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.df),t)).merge;var e=new Lh(t);if(this.lf&&!this.df.isEqual(e))throw new lr(ur.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.df=e,void 0!==e.credentials&&(this.ff=function(t){if(!t)return new dl;switch(t.type){case"gapi":var e=t.client;return yr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ml(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new lr(ur.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.df.host&&pr("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},t.prototype.enableNetwork=function(){return this.uf(),this.lf.enableNetwork()},t.prototype.disableNetwork=function(){return this.uf(),this.lf.disableNetwork()},t.prototype.enablePersistence=function(t){if(this.lf)throw new lr(ur.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1,n=!1;return t&&Yc("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.hf.enableMultiTabIndexedDbPersistence(this):this.hf.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(t){if(void 0!==this.lf&&!this.lf.j_)throw new lr(ur.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return[2,this.hf.clearIndexedDbPersistence(this)]})})},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"Tf",{get:function(){return this.uf(),this.lf.j_},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.uf(),this.lf.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.uf(),Rh(t)?this.lf.W_(t):this.lf.W_({next:t})},t.prototype.uf=function(){return this.lf||this.if(new zc,new Gc),this.lf},t.prototype.If=function(){return new Or(this.l_,this.af,this.df.host,this.df.ssl,this.df.experimentalForceLongPolling,this.df.experimentalAutoDetectLongPolling)},t.prototype.if=function(t,e){var n=this.If();return this.lf=new Dh(this.ff,this.rf),this.lf.start(n,t,e)},t._f=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new lr(ur.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new lr(ur.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Ar(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.cf)throw new lr(ur.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return Wc("Firestore.collection","path",t),this.uf(),new Xh(Mr.q(t),this,null)},t.prototype.doc=function(t){return Wc("Firestore.doc","path",t),this.uf(),zh.mf(Mr.q(t),this,null)},t.prototype.collectionGroup=function(t){if(Wc("Firestore.collectionGroup","collectionId",t),t.indexOf("/")>=0)throw new lr(ur.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.uf(),new Qh(function(t){return new mo(Mr.U(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return this.uf().transaction(function(n){return t(new Uh(e,n))})},t.prototype.batch=function(){return this.uf(),new Bh(this)},t.prototype.sf=function(){return this.df},t}(),Uh=function(){function t(t,e){this.Af=t,this.Rf=e}return t.prototype.get=function(t){var e=this,n=Jh(0,t,this.Af);return this.Rf.b_([n.__]).then(function(t){if(!t||1!==t.length)return gr();var r=t[0];if(r instanceof fo)return new Hh(e.Af,n.__,null,!1,!1,n.f_);if(r instanceof ho)return new Hh(e.Af,n.__,r,!1,!1,n.f_);throw gr()})},t.prototype.set=function(t,e,n){var r=Jh(0,t,this.Af);n=Kc("Transaction.set",n);var i=ed(r.f_,e,n),s=yh(this.Af.wf,"Transaction.set",r.__,i,null!==r.f_,n);return this.Rf.set(r.__,s),this},t.prototype.update=function(t,e,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return"string"==typeof e||e instanceof Jc?(r=Jh(0,t,this.Af),i=vh(this.Af.wf,"Transaction.update",r.__,e,n,s)):(r=Jh(0,t,this.Af),i=_h(this.Af.wf,"Transaction.update",r.__,e)),this.Rf.update(r.__,i),this},t.prototype.delete=function(t){var e=Jh(0,t,this.Af);return this.Rf.delete(e.__),this},t}(),Bh=function(){function t(t){this.Af=t,this.Pf=[],this.gf=!1}return t.prototype.set=function(t,e,n){this.Vf();var r=Jh(0,t,this.Af);n=Kc("WriteBatch.set",n);var i=ed(r.f_,e,n),s=yh(this.Af.wf,"WriteBatch.set",r.__,i,null!==r.f_,n);return this.Pf=this.Pf.concat(s.d_(r.__,Gs.ze())),this},t.prototype.update=function(t,e,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return this.Vf(),"string"==typeof e||e instanceof Jc?(r=Jh(0,t,this.Af),i=vh(this.Af.wf,"WriteBatch.update",r.__,e,n,s)):(r=Jh(0,t,this.Af),i=_h(this.Af.wf,"WriteBatch.update",r.__,e)),this.Pf=this.Pf.concat(i.d_(r.__,Gs.exists(!0))),this},t.prototype.delete=function(t){this.Vf();var e=Jh(0,t,this.Af);return this.Pf=this.Pf.concat(new so(e.__,Gs.ze())),this},t.prototype.commit=function(){return this.Vf(),this.gf=!0,this.Pf.length>0?this.Af.uf().write(this.Pf):Promise.resolve()},t.prototype.Vf=function(){if(this.gf)throw new lr(ur.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),zh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.l_,e,r)||this).__=e,i.firestore=n,i.f_=r,i.lf=i.firestore.uf(),i}return Object(r.c)(e,t),e.mf=function(t,n,r){if(t.length%2!=0)throw new lr(ur.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.B()+" has "+t.length);return new e(new Br(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.__.path.O()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Xh(this.__.path.F(),this.firestore,this.f_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.__.path.B()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(Wc("DocumentReference.collection","path",t),!t)throw new lr(ur.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=Mr.q(t);return new Xh(this.__.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){return t instanceof e&&this.firestore===t.firestore&&this.__.isEqual(t.__)&&this.f_===t.f_},e.prototype.set=function(t,e){e=Kc("DocumentReference.set",e);var n=ed(this.f_,t,e),r=yh(this.firestore.wf,"DocumentReference.set",this.__,n,null!==this.f_,e);return this.lf.write(r.d_(this.__,Gs.ze()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return n="string"==typeof t||t instanceof Jc?vh(this.firestore.wf,"DocumentReference.update",this.__,t,e,r):_h(this.firestore.wf,"DocumentReference.update",this.__,t),this.lf.write(n.d_(this.__,Gs.exists(!0)))},e.prototype.delete=function(){return this.lf.write([new so(this.__,Gs.ze())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Rh(i[a])||(o=i[a],a++);var u={includeMetadataChanges:o.includeMetadataChanges};if(Rh(i[a])){var l=i[a];i[a]=null===(t=l.next)||void 0===t?void 0:t.bind(l),i[a+1]=null===(e=l.error)||void 0===e?void 0:e.bind(l),i[a+2]=null===(n=l.complete)||void 0===n?void 0:n.bind(l)}var c={next:function(t){i[a]&&i[a](r.yf(t))},error:i[a+1],complete:i[a+2]};return this.lf.listen(yo(this.__.path),u,c)},e.prototype.get=function(t){var e=this,n=this.firestore.uf();return t&&"cache"===t.source?n.q_(this.__).then(function(t){return new Hh(e.firestore,e.__,t,!0,t instanceof ho&&t.Ye,e.f_)}):n.U_(this.__,t).then(function(t){return e.yf(t)})},e.prototype.withConverter=function(t){return new e(this.__,this.firestore,t)},e.prototype.yf=function(t){var e=t.docs.get(this.__);return new Hh(this.firestore,this.__,e,t.fromCache,t.hasPendingWrites,this.f_)},e}(hh),qh=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Hh=function(){function t(t,e,n,r,i,s){this.Af=t,this.__=e,this.pf=n,this.bf=r,this.vf=i,this.f_=s}return t.prototype.data=function(t){var e=this;if(void 0===t&&(t={}),this.pf){if(this.f_){var n=new Gh(this.Af,this.__,this.pf,this.bf,this.vf,null);return this.f_.fromFirestore(n,t)}return new Nh(this.Af.l_,t.serverTimestamps||"none",function(t){return new zh(t,e.Af,null)},function(t){return new Ir(t)}).J_(this.pf.rn())}},t.prototype.get=function(t,e){var n=this;if(void 0===e&&(e={}),this.pf){var r=this.pf.data().field(xh("DocumentSnapshot.get",t,this.__));if(null!==r)return new Nh(this.Af.l_,e.serverTimestamps||"none",function(t){return new zh(t,n.Af,n.f_)},function(t){return new Ir(t)}).J_(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.__.path.O()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new zh(this.__,this.Af,this.f_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.pf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new qh(this.vf,this.bf)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&this.Af===e.Af&&this.bf===e.bf&&this.__.isEqual(e.__)&&(null===this.pf?null===e.pf:this.pf.isEqual(e.pf))&&this.f_===e.f_},t}(),Gh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Hh);function $h(t,e,n){if("string"==typeof n){if(""===n)throw new lr(ur.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!So(e)&&-1!==n.indexOf("/"))throw new lr(ur.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Mr.q(n));if(!Br.X(r))throw new lr(ur.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return qi(t,new Br(r))}if(n instanceof hh)return qi(t,n.__);throw new lr(ur.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Qc(n)+".")}function Wh(t,e){if(!Array.isArray(t)||0===t.length)throw new lr(ur.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new lr(ur.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Kh(t,e,n){if(!n.isEqual(e))throw new lr(ur.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Yh(t){if(vo(t)&&0===t.on.length)throw new lr(ur.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Qh=function(){function t(t,e,n){this.Sf=t,this.firestore=e,this.f_=n}return t.prototype.where=function(e,n,r){var i=xh("Query.where",e),s=function(t,e,n,r,i,s,o){var a;if(i.W()){if("array-contains"===s||"array-contains-any"===s)throw new lr(ur.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){Wh(o,s);for(var u=[],l=0,c=o;l<c.length;l++)u.push($h(r,t,c[l]));a={arrayValue:{values:u}}}else a=$h(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Wh(o,s),a=bh(n,"Query.where",o,"in"===s||"not-in"===s);var h=No.create(i,s,a);return function(t,e){if(e.un()){var n=wo(t);if(null!==n&&!n.isEqual(e.field))throw new lr(ur.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=bo(t);null!==r&&Kh(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new lr(ur.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(this.Sf,0,this.firestore.wf,this.firestore.l_,i,n,r);return new t(function(t,e){var n=t.filters.concat([e]);return new mo(t.path,t.collectionGroup,t.on.slice(),n,t.limit,t.an,t.startAt,t.endAt)}(this.Sf,s),this.firestore,this.f_)},t.prototype.orderBy=function(e,n){var r;if(void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new lr(ur.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=xh("Query.orderBy",e),s=function(t,e,n){if(null!==t.startAt)throw new lr(ur.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new lr(ur.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new $o(e,n);return function(t,e){if(null===bo(t)){var n=wo(t);null!==n&&Kh(0,n,e.field)}}(t,r),r}(this.Sf,i,r);return new t(function(t,e){var n=t.on.concat([e]);return new mo(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(this.Sf,s),this.firestore,this.f_)},t.prototype.limit=function(e){return Zc("Query.limit",e),new t(xo(this.Sf,e,"F"),this.firestore,this.f_)},t.prototype.limitToLast=function(e){return Zc("Query.limitToLast",e),new t(xo(this.Sf,e,"L"),this.firestore,this.f_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Df("Query.startAt",e,n,!0);return new t(ko(this.Sf,i),this.firestore,this.f_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Df("Query.startAfter",e,n,!1);return new t(ko(this.Sf,i),this.firestore,this.f_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Df("Query.endBefore",e,n,!0);return new t(To(this.Sf,i),this.firestore,this.f_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Df("Query.endAt",e,n,!1);return new t(To(this.Sf,i),this.firestore,this.f_)},t.prototype.isEqual=function(e){return e instanceof t&&this.firestore===e.firestore&&Io(this.Sf,e.Sf)&&this.f_===e.f_},t.prototype.withConverter=function(e){return new t(this.Sf,this.firestore,e)},t.prototype.Df=function(t,e,n,r){if(e instanceof Hh)return function(t,e,n,r,i){if(!r)throw new lr(ur.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Eo(t);o<a.length;o++){var u=a[o];if(u.field.W())s.push(qi(e,r.key));else{var l=r.field(u.field);if(Oi(l))throw new lr(ur.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var c=u.field.B();throw new lr(ur.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}s.push(l)}}return new zo(s,i)}(this.Sf,this.firestore.l_,t,e.pf,r);var i=[e].concat(n);return function(t,e,n,r,i,s){var o=t.on;if(i.length>o.length)throw new lr(ur.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var l=i[u];if(o[u].field.W()){if("string"!=typeof l)throw new lr(ur.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof l);if(!So(t)&&-1!==l.indexOf("/"))throw new lr(ur.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var c=t.path.child(Mr.q(l));if(!Br.X(c))throw new lr(ur.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+c+"' is not because it contains an odd number of segments.");var h=new Br(c);a.push(qi(e,h))}else{var d=bh(n,r,l);a.push(d)}}return new zo(a,s)}(this.Sf,this.firestore.l_,this.firestore.wf,t,i,r)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o={},a=0;if("object"!=typeof i[a]||Rh(i[a])||(o=i[a],a++),Rh(i[a])){var u=i[a];i[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}var l={next:function(t){i[a]&&i[a](new Zh(r.firestore,r.Sf,t,r.f_))},error:i[a+1],complete:i[a+2]};return Yh(this.Sf),this.firestore.uf().listen(this.Sf,o,l)},t.prototype.get=function(t){var e=this;Yh(this.Sf);var n=this.firestore.uf();return(t&&"cache"===t.source?n.K_(this.Sf):n.Q_(this.Sf,t)).then(function(t){return new Zh(e.firestore,e.Sf,t,e.f_)})},t}(),Zh=function(){function t(t,e,n,r){this.Af=t,this.Cf=e,this.Nf=n,this.f_=r,this.xf=null,this.Ff=null,this.metadata=new qh(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Nf.docs.P()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Nf.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.Nf.docs.forEach(function(r){t.call(e,n.kf(r,n.metadata.fromCache,n.Nf.Qt.has(r.key)))})},Object.defineProperty(t.prototype,"query",{get:function(){return new Qh(this.Cf,this.Af,this.f_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=!(!t||!t.includeMetadataChanges);if(e&&this.Nf.jt)throw new lr(ur.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.xf&&this.Ff===e||(this.xf=function(t,e,n){if(t.Kt.P()){var r=0;return t.docChanges.map(function(e){return{type:"added",doc:n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),oldIndex:-1,newIndex:r++}})}var i=t.Kt;return t.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var r=n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),s=-1,o=-1;return 0!==e.type&&(s=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(o=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:td(e.type),doc:r,oldIndex:s,newIndex:o}})}(this.Nf,e,this.kf.bind(this)),this.Ff=e),this.xf},t.prototype.isEqual=function(e){return e instanceof t&&this.Af===e.Af&&Io(this.Cf,e.Cf)&&this.Nf.isEqual(e.Nf)&&this.f_===e.f_},t.prototype.kf=function(t,e,n){return new Gh(this.Af,t.key,t,e,n,this.f_)},t}(),Xh=function(t){function e(e,n,r){var i=this;if((i=t.call(this,yo(e),n,r)||this).Of=e,e.length%2!=1)throw new lr(ur.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.B()+" has "+e.length);return i}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Sf.path.O()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Sf.path.F();return t.P()?null:new zh(new Br(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Sf.path.B()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){0===arguments.length&&(t=br.t()),Wc("CollectionReference.doc","path",t);var e=Mr.q(t);return zh.mf(this.Sf.path.child(e),this.firestore,this.f_)},e.prototype.add=function(t){var e=this.f_?this.f_.toFirestore(t):t,n=this.doc();return new zh(n.__,this.firestore,null).set(e).then(function(){return n})},e.prototype.withConverter=function(t){return new e(this.Of,this.firestore,t)},e}(Qh);function Jh(t,e,n){var r=function(t,e){if(!(t instanceof e)){if(e.name===t.constructor.name)throw new lr(ur.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Qc(t);throw new lr(ur.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}(e,zh);if(r.firestore!==n)throw new lr(ur.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function td(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gr()}}function ed(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var nd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.serverTimestamp=function(){var t=new ih("serverTimestamp");return t.t_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new nh("deleteField");return t.t_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sh("arrayUnion",t)}).apply(void 0,t);return r.t_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new oh("arrayRemove",t)}).apply(void 0,t);return r.t_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new ah("increment",t)}(t);return n.t_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.u_.isEqual(t.u_)},e}(lh),rd={Firestore:Vh,GeoPoint:uh,Timestamp:Lr,Blob:Ir,Transaction:Uh,WriteBatch:Bh,DocumentReference:zh,DocumentSnapshot:Hh,Query:Qh,QueryDocumentSnapshot:Gh,QuerySnapshot:Zh,CollectionReference:Xh,FieldPath:Jc,FieldValue:nd,setLogLevel:function(t){cr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:Ph};function id(t){!function(t,e){t.INTERNAL.registerComponent(new ar.a("firestore",function(t){return function(t,e){return new Vh(t,e,new Mh)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},rd)))}(t),t.registerVersion("@firebase/firestore","2.0.0")}id(i.a)},zIRd:function(t,e,n){"use strict";var r,i,s=n("os0x"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new o.b("app","Firebase",l),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),m=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var l=Object(s.h)(this.firebase_.INTERNAL.components.values()),c=l.next();!c.done;c=l.next())this._addComponent(c.value)}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw c.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw c.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}l(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw c.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.0",INTERNAL:{registerComponent:l,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(o.c)(e,t))throw c.create("no-app",{appName:t});return e[t]}function l(a){var u,l,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw c.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.f)(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var f=Object(s.h)(Object.keys(e)),m=f.next();!m.done;m=f.next())e[m.value]._addComponent(a)}catch(g){u={error:g}}finally{try{m&&!m.done&&(l=f.return)&&l.call(f)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var _=self.firebase.SDK_VERSION;_&&_.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var b=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.12",void 0),t.registerVersion("fire-js","")}(b),e.a=b},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function o(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},u=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function l(t){return null!==t&&"object"==typeof t}const c=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:i,_unsubscribe:s,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(a){e=a instanceof c?d(a.errors):[a]}}if(u(o)){let t=-1,n=o.length;for(;++t<n;){const n=o[t];if(l(n))try{n.unsubscribe()}catch(a){e=e||[],a instanceof c?e=e.concat(d(a.errors)):e.push(a)}}}if(e)throw new c(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof c?e.errors:e),[])}const f=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[f](){return this}static create(t,e,n){const r=new p(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class m extends p{constructor(t,e,n,i){let s;super(),this._parentSubscriber=t;let o=this;r(e)?s=e:e&&(s=e.next,n=e.error,i=e.complete,e!==a&&(o=Object.create(e),r(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(t,e,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(o(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(t){return t}function _(t){return 0===t.length?y:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}let v=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof p)return t;if(t[f])return t[f]()}return t||e||n?new p(t,e,n):new p(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),s.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=b(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[g](){return this}pipe(...t){return 0===t.length?this:_(t)(this)}toPromise(t){return new(t=b(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function b(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const w=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class S extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class E extends p{constructor(t){super(t),this.destination=t}}let C=(()=>{class t extends v{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new E(this)}lift(t){const e=new x(this,this);return e.operator=t,e}next(t){if(this.closed)throw new w;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new w;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new w;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new w;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new w;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new S(this,t))}asObservable(){const t=new v;return t.source=this,t}}return t.create=(t,e)=>new x(t,e),t})();class x extends C{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function k(t){return t&&"function"==typeof t.schedule}function T(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new I(t,e))}}class I{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new O(t,this.project,this.thisArg))}}class O extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const A=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function D(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const R=D(),N=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function P(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const L=t=>{if(t&&"function"==typeof t[g])return r=t,t=>{const e=r[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(N(t))return A(t);if(P(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o),t);if(t&&"function"==typeof t[R])return e=t,t=>{const n=e[R]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=l(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,r};function F(t,e){return new v(n=>{const r=new h;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function j(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new v(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[g]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(P(t))return function(t,e){return new v(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(N(t))return F(t,e);if(function(t){return t&&"function"==typeof t[R]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new v(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[R](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof v?t:new v(L(t))}class M extends p{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class V extends p{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function U(t,e){if(!e.closed)return t instanceof v?t.subscribe(e):L(t)(e)}function B(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(B((n,r)=>j(t(n,r)).pipe(T((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new z(t,n)))}class z{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new q(t,this.project,this.concurrent))}}class q extends V{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new M(this),n=this.destination;n.add(e);const r=U(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function H(t=Number.POSITIVE_INFINITY){return B(y,t)}function G(t,e){return e?F(t,e):new v(A(t))}function $(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return k(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof v?t[0]:H(e)(G(t,n))}function W(){return function(t){return t.lift(new K(t))}}class K{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new Y(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class Y extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class Q extends v{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new X(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return W()(this)}}const Z=(()=>{const t=Q.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class X extends E{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function J(){return new C}function tt(){return t=>{return W()((e=J,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,Z);return r.source=t,r.subjectFactory=n,r})(t));var e}}function et(t){for(let e in t)if(t[e]===et)return e;throw Error("Could not find renamed property on target object.")}function nt(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function rt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(rt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function it(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const st=et({__forward_ref__:et});function ot(t){return t.__forward_ref__=ot,t.toString=function(){return rt(this())},t}function at(t){return ut(t)?t():t}function ut(t){return"function"==typeof t&&t.hasOwnProperty(st)&&t.__forward_ref__===ot}class lt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function ct(t){return"string"==typeof t?t:null==t?"":String(t)}function ht(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ct(t)}function dt(t,e){const n=e?` in ${e}`:"";throw new lt("201",`No provider for ${ht(t)} found${n}`)}function ft(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function pt(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function mt(t){return gt(t,_t)||gt(t,bt)}function gt(t,e){return t.hasOwnProperty(e)?t[e]:null}function yt(t){return t&&(t.hasOwnProperty(vt)||t.hasOwnProperty(wt))?t[vt]:null}const _t=et({"\u0275prov":et}),vt=et({"\u0275inj":et}),bt=et({ngInjectableDef:et}),wt=et({ngInjectorDef:et});var St=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let Et;function Ct(t){const e=Et;return Et=t,e}function xt(t,e,n){const r=mt(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&St.Optional?null:void 0!==e?e:void dt(rt(t),"Injector")}function kt(t){return{toString:t}.toString()}var Tt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),It=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const Ot="undefined"!=typeof globalThis&&globalThis,At="undefined"!=typeof window&&window,Dt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Rt="undefined"!=typeof global&&global,Nt=Ot||Rt||At||Dt,Pt={},Lt=[],Ft=et({"\u0275cmp":et}),jt=et({"\u0275dir":et}),Mt=et({"\u0275pipe":et}),Vt=et({"\u0275mod":et}),Ut=et({"\u0275loc":et}),Bt=et({"\u0275fac":et}),zt=et({__NG_ELEMENT_ID__:et});let qt=0;function Ht(t){return kt(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Tt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Lt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||It.Emulated,id:"c",styles:t.styles||Lt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=qt++,n.inputs=Yt(t.inputs,e),n.outputs=Yt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Gt):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map($t):null,n})}function Gt(t){return Xt(t)||function(t){return t[jt]||null}(t)}function $t(t){return function(t){return t[Mt]||null}(t)}const Wt={};function Kt(t){const e={type:t.type,bootstrap:t.bootstrap||Lt,declarations:t.declarations||Lt,imports:t.imports||Lt,exports:t.exports||Lt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&kt(()=>{Wt[t.id]=t.type}),e}function Yt(t,e){if(null==t)return Pt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const Qt=Ht;function Zt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Xt(t){return t[Ft]||null}function Jt(t,e){const n=t[Vt]||null;if(!n&&!0===e)throw new Error(`Type ${rt(t)} does not have '\u0275mod' property.`);return n}const te=20,ee=10;function ne(t){return Array.isArray(t)&&"object"==typeof t[1]}function re(t){return Array.isArray(t)&&!0===t[1]}function ie(t){return 0!=(8&t.flags)}function se(t){return 2==(2&t.flags)}function oe(t){return 1==(1&t.flags)}function ae(t){return null!==t.template}function ue(t,e){return t.hasOwnProperty(Bt)?t[Bt]:null}class le{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ce(){return he}function he(t){return t.type.prototype.ngOnChanges&&(t.setInput=fe),de}function de(){const t=pe(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Pt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function fe(t,e,n,r){const i=pe(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Pt,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new le(u&&u.currentValue,e,o===Pt),t[r]=e}function pe(t){return t.__ngSimpleChanges__||null}let me;function ge(t){return!!t.listen}ce.ngInherit=!0;const ye={createRenderer:(t,e)=>void 0!==me?me:"undefined"!=typeof document?document:void 0};function _e(t){for(;Array.isArray(t);)t=t[0];return t}function ve(t,e){return _e(e[t])}function be(t,e){return _e(e[t.index])}function we(t,e){return t.data[e]}function Se(t,e){return t[e]}function Ee(t,e){const n=e[t];return ne(n)?n:n[0]}function Ce(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function xe(t){return 4==(4&t[2])}function ke(t){return 128==(128&t[2])}function Te(t,e){return null==e?null:t[e]}function Ie(t){t[18]=0}function Oe(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ae={lFrame:Je(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function De(){return Ae.bindingsEnabled}function Re(){return Ae.lFrame.lView}function Ne(){return Ae.lFrame.tView}function Pe(t){Ae.lFrame.contextLView=t}function Le(){let t=Fe();for(;null!==t&&64===t.type;)t=t.parent;return t}function Fe(){return Ae.lFrame.currentTNode}function je(t,e){const n=Ae.lFrame;n.currentTNode=t,n.isParent=e}function Me(){return Ae.lFrame.isParent}function Ve(){Ae.lFrame.isParent=!1}function Ue(){return Ae.isInCheckNoChangesMode}function Be(t){Ae.isInCheckNoChangesMode=t}function ze(){const t=Ae.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function qe(){return Ae.lFrame.bindingIndex++}function He(t,e){const n=Ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ge(e)}function Ge(t){Ae.lFrame.currentDirectiveIndex=t}function $e(t){const e=Ae.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function We(){return Ae.lFrame.currentQueryIndex}function Ke(t){Ae.lFrame.currentQueryIndex=t}function Ye(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Qe(t,e,n){if(n&St.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&St.Host||(r=Ye(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ae.lFrame=Xe();return r.currentTNode=e,r.lView=t,!0}function Ze(t){const e=Xe(),n=t[1];Ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Xe(){const t=Ae.lFrame,e=null===t?null:t.child;return null===e?Je(t):e}function Je(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function tn(){const t=Ae.lFrame;return Ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const en=tn;function nn(){const t=tn();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function rn(){return Ae.lFrame.selectedIndex}function sn(t){Ae.lFrame.selectedIndex=t}function on(){const t=Ae.lFrame;return we(t.tView,t.selectedIndex)}function an(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function un(t,e,n){hn(t,e,3,n)}function ln(t,e,n,r){(3&t[2])===n&&hn(t,e,n,r)}function cn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function hn(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(dn(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function dn(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const fn=-1;class pn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function mn(t,e,n){const r=ge(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];yn(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function gn(t){return 3===t||4===t||6===t}function yn(t){return 64===t.charCodeAt(0)}function _n(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||vn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function vn(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function bn(t){return t!==fn}function wn(t){return 32767&t}function Sn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let En=!0;function Cn(t){const e=En;return En=t,e}let xn=0;function kn(t,e){const n=In(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Tn(r.data,t),Tn(e,null),Tn(r.blueprint,null));const i=On(t,e),s=t.injectorIndex;if(bn(i)){const t=wn(i),n=Sn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Tn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function In(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function On(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return fn;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return fn}function An(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(zt)&&(r=n[zt]),null==r&&(r=n[zt]=xn++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Dn(t,e,n){if(n&St.Optional)return t;dt(e,"NodeInjector")}function Rn(t,e,n,r){if(n&St.Optional&&void 0===r&&(r=null),0==(n&(St.Self|St.Host))){const i=t[9],s=Ct(void 0);try{return i?i.get(e,r,n&St.Optional):xt(e,r,n&St.Optional)}finally{Ct(s)}}return Dn(r,e,n)}function Nn(t,e,n,r=St.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(zt)?t[zt]:void 0;return"number"==typeof e?e>=0?255&e:Ln:e}(n);if("function"==typeof s){if(!Qe(e,t,r))return r&St.Host?Dn(i,n,r):Rn(e,n,r,i);try{const t=s();if(null!=t||r&St.Optional)return t;dt(n)}finally{en()}}else if("number"==typeof s){let i=null,o=In(t,e),a=fn,u=r&St.Host?e[16][6]:null;for((-1===o||r&St.SkipSelf)&&(a=-1===o?On(t,e):e[o+8],a!==fn&&Un(r,!1)?(i=e[1],o=wn(a),e=Sn(a,e)):o=-1);-1!==o;){const t=e[1];if(Vn(s,o,t.data)){const t=Fn(o,e,n,i,r,u);if(t!==Pn)return t}a=e[o+8],a!==fn&&Un(r,e[1].data[o+8]===u)&&Vn(s,o,e)?(i=t,o=wn(a),e=Sn(a,e)):o=-1}}}return Rn(e,n,r,i)}const Pn={};function Ln(){return new Bn(Le(),Re())}function Fn(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=jn(a,o,n,null==r?se(a)&&En:r!=o&&0!=(3&a.type),i&St.Host&&s===a);return null!==u?Mn(e,o,u,a):Pn}function jn(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,c=i?a+l:t.directiveEnd;for(let h=r?a:a+l;h<c;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&ae(t)&&t.type===n)return u}return null}function Mn(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof pn){const o=i;o.resolving&&function(t,e){throw new lt("200",`Circular dependency in DI detected for ${t}`)}(ht(s[n]));const a=Cn(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Ct(o.injectImpl):null;Qe(t,r,St.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=he(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Ct(u),Cn(a),o.resolving=!1,en()}}return i}function Vn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Un(t,e){return!(t&St.Self||t&St.Host&&e)}class Bn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Nn(this._tNode,this._lView,t,void 0,e)}}function zn(t){const e=t;if(ut(t))return()=>{const t=zn(at(e));return t?t():null};let n=ue(e);if(null===n){const t=yt(e);n=t&&t.factory}return n||null}function qn(t){return kt(()=>{const e=t.prototype.constructor,n=e[Bt]||zn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Bt]||zn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Hn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(gn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Le(),t)}const Gn="__parameters__";function $n(t,e,n){return kt(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Gn)?t[Gn]:Object.defineProperty(t,Gn,{value:[]})[Gn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Wn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ft({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Kn=new Wn("AnalyzeForEntryComponents"),Yn=Function;function Qn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),Qn(r,e)):e!==t&&e.push(r)}return e}function Zn(t,e){t.forEach(t=>Array.isArray(t)?Zn(t,e):e(t))}function Xn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Jn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function tr(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function er(t,e,n){let r=rr(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function nr(t,e){const n=rr(t,e);if(n>=0)return t[1|n]}function rr(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const ir={},sr=/\n/gm,or="__source",ar=et({provide:String,useValue:et});let ur;function lr(t){const e=ur;return ur=t,e}function cr(t,e=St.Default){if(void 0===ur)throw new Error("inject() must be called from an injection context");return null===ur?xt(t,void 0,e):ur.get(t,e&St.Optional?null:void 0,e)}function hr(t,e=St.Default){return(Et||cr)(at(t),e)}const dr=hr;function fr(t){const e=[];for(let n=0;n<t.length;n++){const r=at(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=St.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(hr(t,n))}else e.push(hr(r))}return e}function pr(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const mr=pr($n("Inject",t=>({token:t})),-1),gr=pr($n("Optional"),8),yr=pr($n("SkipSelf"),4);let _r;function vr(t){var e;return(null===(e=function(){if(void 0===_r&&(_r=null,Nt.trustedTypes))try{_r=Nt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return _r}())||void 0===e?void 0:e.createHTML(t))||t}class br{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class wr extends br{getTypeName(){return"HTML"}}class Sr extends br{getTypeName(){return"Style"}}class Er extends br{getTypeName(){return"Script"}}class Cr extends br{getTypeName(){return"URL"}}class xr extends br{getTypeName(){return"ResourceURL"}}function kr(t){return t instanceof br?t.changingThisBreaksApplicationSecurity:t}function Tr(t,e){const n=Ir(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Ir(t){return t instanceof br&&t.getTypeName()||null}class Or{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(vr(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Ar{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=vr(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=vr(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Dr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Rr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Nr(t){return(t=String(t)).match(Dr)||t.match(Rr)?t:"unsafe:"+t}function Pr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Lr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Fr=Pr("area,br,col,hr,img,wbr"),jr=Pr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Mr=Pr("rp,rt"),Vr=Lr(Mr,jr),Ur=Lr(Fr,Lr(jr,Pr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Lr(Mr,Pr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vr),Br=Pr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zr=Pr("srcset"),qr=Lr(Br,zr,Pr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Hr=Pr("script,style,template");class Gr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Ur.hasOwnProperty(e))return this.sanitizedSomething=!0,!Hr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!qr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;Br[s]&&(o=Nr(o)),zr[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Nr(t.trim())).join(", ")),this.buf.push(" ",e,'="',Kr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Ur.hasOwnProperty(e)&&!Fr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Kr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const $r=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wr=/([^\#-~ |!])/g;function Kr(t){return t.replace(/&/g,"&amp;").replace($r,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Wr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Yr;function Qr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Zr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Xr(t){const e=function(){const t=Re();return t&&t[12]}();return e?e.sanitize(Zr.URL,t)||"":Tr(t,"URL")?kr(t):Nr(ct(t))}function Jr(t){return t.ngDebugContext}function ti(t){return t.ngOriginalError}function ei(t,...e){t.error(...e)}class ni{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||ei}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Jr(t)?Jr(t):this._findContext(ti(t)):null}_findOriginalError(t){let e=ti(t);for(;e&&ti(e);)e=ti(e);return e}}function ri(t,e){t.__ngContext__=e}const ii=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Nt))();function si(t){return t instanceof Function?t():t}var oi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function ai(t,e){return(void 0)(t,e)}function ui(t){const e=t[3];return re(e)?e[3]:e}function li(t){return hi(t[13])}function ci(t){return hi(t[4])}function hi(t){for(;null!==t&&!re(t);)t=t[4];return t}function di(t,e,n,r,i){if(null!=r){let s,o=!1;re(r)?s=r:ne(r)&&(o=!0,r=r[0]);const a=_e(r);0===t&&null!==n?null==i?bi(e,n,a):vi(e,n,a,i||null,!0):1===t&&null!==n?vi(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Si(t,e);r&&function(t,e,n,r){ge(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==_e(n)&&di(e,t,r,s,i);for(let o=ee;o<n.length;o++){const i=n[o];Ai(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function fi(t,e,n){return ge(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function pi(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Oe(i,-1)),n.splice(r,1)}function mi(t,e){if(t.length<=ee)return;const n=ee+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&pi(s,r),e>0&&(t[n-1][4]=r[4]);const o=Jn(t,ee+e);Ai(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function gi(t,e){if(!(256&e[2])){const n=e[11];ge(n)&&n.destroyNode&&Ai(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return yi(t[1],t);for(;e;){let n=null;if(ne(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ne(e)&&yi(e[1],e),e=e[3];null===e&&(e=t),ne(e)&&yi(e[1],e),n=e&&e[4]}e=n}}(e)}}function yi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof pn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):_e(e[t]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&ge(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&re(e[3])){n!==e[3]&&pi(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function _i(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===It.None||e===It.Emulated)return null}return be(r,n)}(t,e.parent,n)}function vi(t,e,n,r,i){ge(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function bi(t,e,n){ge(t)?t.appendChild(e,n):e.appendChild(n)}function wi(t,e,n,r,i){null!==r?vi(t,e,n,r,i):bi(t,e,n)}function Si(t,e){return ge(t)?t.parentNode(e):e.parentNode}function Ei(t,e,n){return Ci(t,e,n)}let Ci=function(t,e,n){return 40&t.type?be(t,n):null};function xi(t,e,n,r){const i=_i(t,r,e),s=e[11],o=Ei(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)wi(s,i,n[a],o,!1);else wi(s,i,n,o,!1)}function ki(t,e){if(null!==e){const n=e.type;if(3&n)return be(e,t);if(4&n)return Ii(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return ki(t,n);{const n=t[e.index];return re(n)?Ii(-1,n):_e(n)}}if(32&n)return ai(e,t)()||_e(t[e.index]);{const n=Ti(t,e);return null!==n?Array.isArray(n)?n[0]:ki(ui(t[16]),n):ki(t,e.next)}}return null}function Ti(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Ii(t,e){const n=ee+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return ki(t,r)}return e[7]}function Oi(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&ri(_e(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Oi(t,e,n.child,r,i,s,!1),di(e,t,i,a,s);else if(32&u){const o=ai(n,r);let u;for(;u=o();)di(e,t,i,u,s);di(e,t,i,a,s)}else 16&u?Di(t,e,r,n,i,s):di(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Ai(t,e,n,r,i,s){Oi(n,r,t.firstChild,e,i,s,!1)}function Di(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)di(e,t,i,a[u],s);else Oi(t,e,a,o[3],i,s,!0)}function Ri(t,e,n){ge(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Ni(t,e,n){ge(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Pi(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Li="ng-template";function Fi(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Pi(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ji(t){return 4===t.type&&t.value!==Li}function Mi(t,e,n){return e===(4!==t.type||n?t.value:Li)}function Vi(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(gn(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Mi(t,u,n)||""===u&&1===e.length){if(Ui(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Fi(t.attrs,l,n)){if(Ui(r))return!1;o=!0}continue}const c=Bi(8&r?"class":u,i,ji(t),n);if(-1===c){if(Ui(r))return!1;o=!0;continue}if(""!==l){let t;t=c>s?"":i[c+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Pi(e,l,0)||2&r&&l!==t){if(Ui(r))return!1;o=!0}}}}else{if(!o&&!Ui(r)&&!Ui(u))return!1;if(o&&Ui(u))continue;o=!1,r=u|1&r}}return Ui(r)||o}function Ui(t){return 0==(1&t)}function Bi(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function zi(t,e,n=!1){for(let r=0;r<e.length;r++)if(Vi(t,e[r],n))return!0;return!1}function qi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Hi(t,e){return t?":not("+e.trim()+")":e}function Gi(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Ui(o)||(e+=Hi(s,i),i=""),r=o,s=s||!Ui(r);n++}return""!==i&&(e+=Hi(s,i)),e}const $i={};function Wi(t){Ki(Ne(),Re(),rn()+t,Ue())}function Ki(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&un(e,r,n)}else{const r=t.preOrderHooks;null!==r&&ln(e,r,0,n)}sn(n)}function Yi(t,e){return t<<17|e<<2}function Qi(t){return t>>17&32767}function Zi(t){return 2|t}function Xi(t){return(131068&t)>>2}function Ji(t,e){return-131069&t|e<<2}function ts(t){return 1|t}function es(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];Ke(i),n.contentQueries(2,e[s],s)}}}function ns(t,e,n,r,i,s,o,a,u,l){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,Ie(c),c[3]=c[15]=t,c[8]=n,c[10]=o||t&&t[10],c[11]=a||t&&t[11],c[12]=u||t&&t[12]||null,c[9]=l||t&&t[9]||null,c[6]=s,c[16]=2==e.type?t[16]:c,c}function rs(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Fe(),o=Me(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),Ae.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=Ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return je(s,!0),s}function is(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ss(t,e,n){Ze(e);try{const r=t.viewQuery;null!==r&&Ls(1,r,n);const i=t.template;null!==i&&us(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&es(t,e),t.staticViewQueries&&Ls(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)As(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,nn()}}function os(t,e,n,r){const i=e[2];if(256==(256&i))return;Ze(e);const s=Ue();try{Ie(e),Ae.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&us(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&un(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ln(e,n,0,null),cn(e,0)}if(function(t){for(let e=li(t);null!==e;e=ci(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Oe(r,1),n[2]|=1024}}}(e),function(t){for(let e=li(t);null!==e;e=ci(e))for(let t=ee;t<e.length;t++){const n=e[t],r=n[1];ke(n)&&os(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&es(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&un(e,n)}else{const n=t.contentHooks;null!==n&&ln(e,n,1),cn(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)sn(~r);else{const i=r,s=n[++t],o=n[++t];He(s,i),o(2,e[i])}}}finally{sn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Is(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Ls(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&un(e,n)}else{const n=t.viewHooks;null!==n&&ln(e,n,2),cn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Oe(e[3],-1))}finally{nn()}}function as(t,e,n,r){const i=e[10],s=!Ue(),o=xe(e);try{s&&!o&&i.begin&&i.begin(),o&&ss(t,e,r),os(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function us(t,e,n,r,i){const s=rn();try{sn(-1),2&r&&e.length>te&&Ki(t,e,te,Ue()),n(r,i)}finally{sn(s)}}function ls(t,e,n){if(ie(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function cs(t,e,n){De()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||kn(n,e),ri(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=ae(r);s&&Cs(e,n,r);const u=Mn(e,t,a,n);ri(u,e),null!==o&&xs(0,a-i,u,r,0,o),s&&(Ee(n.index,e)[8]=u)}}(t,e,n,be(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Ae.lFrame.currentDirectiveIndex;try{sn(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Ge(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||vs(r,i)}}finally{sn(-1),Ge(o)}}(t,e,n))}function hs(t,e,n=be){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function ds(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=fs(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function fs(t,e,n,r,i,s,o,a,u,l){const c=te+r,h=c+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:$i);return n}(c,h),f="function"==typeof l?l():l;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function ps(t,e,n,r){const i=js(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Ms(t).push(r,i.length-1))}function ms(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function gs(t,e,n,r,i,s,o,a){const u=be(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(Bs(t,n,l,r,i),se(e)&&function(t,e){const n=Ee(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,ge(s)?s.setProperty(u,r,i):yn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ys(t,e,n,r){let i=!1;if(De()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];zi(n,o.selectors,!1)&&(i||(i=[]),An(kn(n,e),t,o.type),ae(o)?(bs(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Ss(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=is(t,e,s.length,null);for(let i=0;i<s.length;i++){const l=s[i];n.mergedAttrs=_n(n.mergedAttrs,l.hostAttrs),Es(t,n,e,u,l),ws(u,l,o),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const c=l.type.prototype;!r&&(c.ngOnChanges||c.ngOnInit||c.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!c.ngOnChanges&&!c.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,l=null===i||ji(e)?null:ks(n,i);s.push(l),o=ms(n,u,o),a=ms(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new lt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=_n(n.mergedAttrs,n.attrs),i}function _s(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function vs(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function bs(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ws(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ae(e)&&(n[""]=t)}}function Ss(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Es(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ue(i.type)),o=new pn(s,ae(i),null);t.blueprint[r]=o,n[r]=o,_s(t,e,0,r,is(t,n,i.hostVars,$i),i)}function Cs(t,e,n){const r=be(e,t),i=ds(n),s=t[10],o=Ds(t,ns(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function xs(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function ks(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ts(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Is(t,e){const n=Ee(e,t);if(ke(n)){const t=n[1];80&n[2]?os(t,n,t.template,n[8]):n[5]>0&&Os(n)}}function Os(t){for(let n=li(t);null!==n;n=ci(n))for(let t=ee;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];os(t,e,t.template,e[8])}else e[5]>0&&Os(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Ee(e[n],t);ke(r)&&r[5]>0&&Os(r)}}function As(t,e){const n=Ee(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),ss(r,n,n[8])}function Ds(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Rs(t){for(;t;){t[2]|=64;const e=ui(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Ns(t,e,n){const r=e[10];r.begin&&r.begin();try{os(t,e,t.template,n)}catch(i){throw Us(e,i),i}finally{r.end&&r.end()}}function Ps(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ce(n),i=r[1];as(i,r,i.template,n)}}(t[8])}function Ls(t,e,n){Ke(0),e(t,n)}const Fs=(()=>Promise.resolve(null))();function js(t){return t[7]||(t[7]=[])}function Ms(t){return t.cleanup||(t.cleanup=[])}function Vs(t,e,n){return(null===t||ae(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Us(t,e){const n=t[9],r=n?n.get(ni,null):null;r&&r.handleError(e)}function Bs(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],l=t.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function zs(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=it(i,t):2==s&&(r=it(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const qs=new Wn("INJECTOR",-1);class Hs{get(t,e=ir){if(e===ir){const e=new Error(`NullInjectorError: No provider for ${rt(t)}!`);throw e.name="NullInjectorError",e}return e}}const Gs=new Wn("Set Injector scope."),$s={},Ws={},Ks=[];let Ys;function Qs(){return void 0===Ys&&(Ys=new Hs),Ys}function Zs(t,e=null,n=null,r){return new Xs(t,n,e||Qs(),r)}class Xs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Zn(e,n=>this.processProvider(n,t,e)),Zn([t],t=>this.processInjectorType(t,[],i)),this.records.set(qs,eo(void 0,this));const s=this.records.get(Gs);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:rt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=ir,n=St.Default){this.assertNotDestroyed();const r=lr(this);try{if(!(n&St.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Wn)&&mt(t);e=n&&this.injectableDefInScope(n)?eo(Js(t),$s):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&St.Self?Qs():this.parent).get(t,e=n&St.Optional&&e===ir?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(rt(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[or]&&i.unshift(e[or]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=rt(e);if(Array.isArray(e))i=e.map(rt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):rt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(sr,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{lr(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(rt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=at(t)))return!1;let r=yt(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=yt(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{Zn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Zn(r,t=>this.processProvider(t,n,r||Ks))}}this.injectorDefTypes.add(s),this.records.set(s,eo(r.factory,$s));const a=r.providers;if(null!=a&&!o){const e=t;Zn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=ro(t=at(t))?t:at(t&&t.provide);const i=function(t,e,n){return no(t)?eo(void 0,t.useValue):eo(to(t),$s)}(t);if(ro(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=eo(void 0,$s,!0),e.factory=()=>fr(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===$s&&(e.value=Ws,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Js(t){const e=mt(t),n=null!==e?e.factory:ue(t);if(null!==n)return n;const r=yt(t);if(null!==r)return r.factory;if(t instanceof Wn)throw new Error(`Token ${rt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=tr(e,"?");throw new Error(`Can't resolve all parameters for ${rt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[_t]||t[bt]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function to(t,e,n){let r;if(ro(t)){const e=at(t);return ue(e)||Js(e)}if(no(t))r=()=>at(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...fr(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>hr(at(t.useExisting));else{const e=at(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ue(e)||Js(e);r=()=>new e(...fr(t.deps))}var i;return r}function eo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function no(t){return null!==t&&"object"==typeof t&&ar in t}function ro(t){return"function"==typeof t}const io=function(t,e,n){return function(t,e=null,n=null,r){const i=Zs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let so=(()=>{class t{static create(t,e){return Array.isArray(t)?io(t,e,""):io(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=ir,t.NULL=new Hs,t.\u0275prov=ft({token:t,providedIn:"any",factory:()=>hr(qs)}),t.__NG_ELEMENT_ID__=-1,t})();function oo(t,e){an(Ce(t)[1],Le())}function ao(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(ae(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=uo(t.inputs),e.declaredInputs=uo(t.declaredInputs),e.outputs=uo(t.outputs);const n=i.hostBindings;n&&ho(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&lo(t,s),o&&co(t,o),nt(t.inputs,i.inputs),nt(t.declaredInputs,i.declaredInputs),nt(t.outputs,i.outputs),ae(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===ao&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=_n(i.hostAttrs,n=_n(n,i.hostAttrs))}}(r)}function uo(t){return t===Pt?{}:t===Lt?[]:t}function lo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function co(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function ho(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let fo=null;function po(){if(!fo){const t=Nt.Symbol;if(t&&t.iterator)fo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(fo=n)}}}return fo}class mo{constructor(t){this.wrapped=t}static wrap(t){return new mo(t)}static unwrap(t){return mo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof mo}}function go(t){return!!yo(t)&&(Array.isArray(t)||!(t instanceof Map)&&po()in t)}function yo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function _o(t,e,n){return t[e]=n}function vo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function bo(t,e,n,r){const i=Re();return vo(i,qe(),e)&&(Ne(),function(t,e,n,r,i,s){const o=be(t,e);!function(t,e,n,r,i,s,o){if(null==s)ge(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?ct(s):o(s,r||"",i);ge(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(on(),i,t,e,n,r)),bo}function wo(t,e,n,r,i,s,o,a){const u=Re(),l=Ne(),c=t+te,h=l.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const l=e.consts,c=rs(e,t,4,o||null,Te(l,a));ys(e,n,c,Te(l,u)),an(e,c);const h=c.tViews=fs(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),h.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,n,r,i,s,o):l.data[c];je(h,!1);const d=u[11].createComment("");xi(l,u,d,h),ri(d,u),Ds(u,u[c]=Ts(d,u,d,h)),oe(h)&&cs(l,u,h),null!=o&&hs(u,h,a)}function So(t,e=St.Default){const n=Re();return null===n?hr(t,e):Nn(Le(),n,at(t),e)}function Eo(t,e,n){const r=Re();return vo(r,qe(),e)&&gs(Ne(),on(),r,t,e,r[11],n,!1),Eo}function Co(t,e,n,r,i){const s=i?"class":"style";Bs(t,n,e.inputs[s],s,r)}function xo(t,e,n,r){const i=Re(),s=Ne(),o=te+t,a=i[11],u=i[o]=fi(a,e,Ae.lFrame.currentNamespace),l=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=rs(e,t,2,i,Te(a,s));return ys(e,n,u,Te(a,o)),null!==u.attrs&&zs(u,u.attrs,!1),null!==u.mergedAttrs&&zs(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];je(l,!0);const c=l.mergedAttrs;null!==c&&mn(a,u,c);const h=l.classes;null!==h&&Ni(a,u,h);const d=l.styles;null!==d&&Ri(a,u,d),64!=(64&l.flags)&&xi(s,i,u,l),0===Ae.lFrame.elementDepthCount&&ri(u,i),Ae.lFrame.elementDepthCount++,oe(l)&&(cs(s,i,l),ls(s,l,i)),null!==r&&hs(i,l)}function ko(){let t=Le();Me()?Ve():(t=t.parent,je(t,!1));const e=t;Ae.lFrame.elementDepthCount--;const n=Ne();n.firstCreatePass&&(an(n,t),ie(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Co(n,e,Re(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Co(n,e,Re(),e.stylesWithoutHost,!1)}function To(t,e,n,r){xo(t,e,n,r),ko()}function Io(t,e,n){const r=Re(),i=Ne(),s=t+te,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Te(s,r),a=rs(e,t,8,"ng-container",o);return null!==o&&zs(a,o,!0),ys(e,n,a,Te(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];je(o,!0);const a=r[s]=r[11].createComment("");xi(i,r,a,o),ri(a,r),oe(o)&&(cs(i,r,o),ls(i,o,r)),null!=n&&hs(r,o)}function Oo(){let t=Le();const e=Ne();Me()?Ve():(t=t.parent,je(t,!1)),e.firstCreatePass&&(an(e,t),ie(t)&&e.queries.elementEnd(t))}function Ao(t,e,n){Io(t,e,n),Oo()}function Do(){return Re()}function Ro(t){return!!t&&"function"==typeof t.then}function No(t){return!!t&&"function"==typeof t.subscribe}const Po=No;function Lo(t,e,n=!1,r){const i=Re(),s=Ne(),o=Le();return jo(s,i,i[11],o,t,e,n,r),Lo}function Fo(t,e,n=!1,r){const i=Le(),s=Re(),o=Ne();return jo(o,s,Vs($e(o.data),i,s),i,t,e,n,r),Fo}function jo(t,e,n,r,i,s,o=!1,a){const u=oe(r),l=t.firstCreatePass&&Ms(t),c=js(e);let h=!0;if(3&r.type){const d=be(r,e),f=a?a(d):Pt,p=f.target||d,m=c.length,g=a?t=>a(_e(t[r.index])).target:r.index;if(ge(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Vo(r,e,s,!1);const t=n.listen(f.name||p,i,s);c.push(s,t),l&&l.push(i,g,m,m+1)}}else s=Vo(r,e,s,!0),p.addEventListener(i,s,o),c.push(s),l&&l.push(i,g,m,o)}else s=Vo(r,e,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=c.length;c.push(s,t),l&&l.push(i,r.index,o,-(o+1))}}}function Mo(t,e,n){try{return!1!==e(n)}catch(r){return Us(t,r),!1}}function Vo(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?Ee(t.index,e):e;0==(32&e[2])&&Rs(o);let a=Mo(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=Mo(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Uo(t=1){return function(t){return(Ae.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ae.lFrame.contextLView))[8]}(t)}function Bo(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?zi(t,s,!0):qi(r,s))return i}else n=i}return n}function zo(t){const e=Re()[16][6];if(!e.projection){const n=e.projection=tr(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Bo(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function qo(t,e=0,n){const r=Re(),i=Ne(),s=rs(i,te+t,16,null,n||null);null===s.projection&&(s.projection=e),Ve(),64!=(64&s.flags)&&function(t,e,n){Di(e[11],0,e,n,_i(t,n,e),Ei(n.parent||e[6],n,e))}(i,r,s)}const Ho=[];function Go(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Qi(s):Xi(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];$o(t[a],e)&&(u=!0,t[a+1]=r?ts(n):Zi(n)),a=r?Qi(n):Xi(n)}u&&(t[n+1]=r?Zi(s):ts(s))}function $o(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&rr(t,e)>=0}function Wo(t,e){return function(t,e,n,r){const i=Re(),s=Ne(),o=function(t){const e=Ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[rn()],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(s)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=$e(t);let s=e.residualClasses;if(null===i)0===e.classBindings&&(n=Yo(n=Ko(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Ko(i,t,e,n,r),null===s){let n=function(t,e,n){const r=e.classBindings;if(0!==Xi(r))return t[Qi(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Ko(null,t,e,n[1],r),n=Yo(n,e.attrs,r),function(t,e,n,r){t[Qi(e.classBindings)]=r}(t,e,0,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Yo(r,t[s].hostAttrs,true);return Yo(r,e.attrs,true)}(t,e)}return void 0!==s&&(e.residualClasses=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=e.classBindings,a=Qi(o),u=Xi(o);t[r]=n;let l,c=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||rr(t,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const e=Qi(t[a+1]);t[r+1]=Yi(e,a),0!==e&&(t[e+1]=Ji(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Yi(a,0),0!==a&&(t[a+1]=Ji(t[a+1],r)),a=r;else t[r+1]=Yi(u,0),0===a?a=r:t[u+1]=Ji(t[u+1],r),u=r;c&&(t[r+1]=Zi(t[r+1])),Go(t,l,r,!0),Go(t,l,r,!1),function(t,e,n,r,i){const s=t.residualClasses;null!=s&&"string"==typeof e&&rr(s,e)>=0&&(n[r+1]=ts(n[r+1]))}(e,l,t,r),o=Yi(a,u),e.classBindings=o}(i,s,e,n,o)}}(s,t,o,true),e!==$i&&vo(i,o,e)&&function(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,l=u[a+1];Zo(1==(1&l)?Qo(u,e,n,i,Xi(l),o):void 0)||(Zo(s)||function(t){return 2==(2&t)}(l)&&(s=Qo(u,null,n,i,a,o)),function(t,e,n,r,i){const s=ge(t);i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r)}(r,0,ve(rn(),n),i,s))}(s,s.data[rn()],i,i[11],t,i[o+1]=function(t,e){return null==t||"object"==typeof t&&(t=rt(kr(t))),t}(e),true,o)}(t,e),Wo}function Ko(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Yo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Yo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),er(t,o,!!n||e[++s]))}return void 0===t?null:t}function Qo(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,l=null===u;let c=n[i+1];c===$i&&(c=l?Ho:void 0);let h=l?nr(c,r):u===r?c:void 0;if(s&&!Zo(h)&&(h=nr(e,r)),Zo(h)&&(a=h,o))return a;const d=t[i+1];i=o?Qi(d):Xi(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=nr(t,r))}return a}function Zo(t){return void 0!==t}function Xo(t,e=""){const n=Re(),r=Ne(),i=t+te,s=r.firstCreatePass?rs(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return ge(t)?t.createText(e):t.createTextNode(e)}(n[11],e);xi(r,n,o,s),je(s,!1)}function Jo(t){return ta("",t,""),Jo}function ta(t,e,n){const r=Re(),i=function(t,e,n,r){return vo(t,qe(),n)?e+ct(n)+r:$i}(r,t,e,n);return i!==$i&&function(t,e,n){const r=ve(e,t);!function(t,e,n){ge(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,rn(),i),ta}function ea(t,e,n){const r=Re();return vo(r,qe(),e)&&gs(Ne(),on(),r,t,e,r[11],n,!0),ea}function na(t,e,n){const r=Re();if(vo(r,qe(),e)){const i=Ne(),s=on();gs(i,s,r,t,e,Vs($e(i.data),s,r),n,!0)}return na}const ra=void 0;var ia=["en",[["a","p"],["AM","PM"],ra],[["AM","PM"],ra,ra],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ra,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ra,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ra,"{1} 'at' {0}",ra],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let sa={};function oa(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=aa(e);if(n)return n;const r=e.split("-")[0];if(n=aa(r),n)return n;if("en"===r)return ia;throw new Error(`Missing locale data for the locale "${t}".`)}function aa(t){return t in sa||(sa[t]=Nt.ng&&Nt.ng.common&&Nt.ng.common.locales&&Nt.ng.common.locales[t]),sa[t]}var ua=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const la="en-US";let ca=la;function ha(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ca=t.toLowerCase().replace(/_/g,"-"))}function da(t,e,n,r,i){if(t=at(t),Array.isArray(t))for(let s=0;s<t.length;s++)da(t[s],e,n,r,i);else{const s=Ne(),o=Re();let a=ro(t)?t:at(t.provide),u=to(t);const l=Le(),c=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(ro(t)||!t.multi){const r=new pn(u,i,So),f=ma(a,e,i?c:c+d,h);-1===f?(An(kn(l,o),s,a),fa(s,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=ma(a,e,c+d,h),p=ma(a,e,c,c+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){An(kn(l,o),s,a);const c=function(t,e,n,r,i){const s=new pn(t,n,So);return s.multi=[],s.index=e,s.componentProviders=0,pa(s,i,r&&!n),s}(i?ya:ga,n.length,i,r,u);!i&&g&&(n[p].providerFactory=c),fa(s,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(c),o.push(c)}else fa(s,t,f>-1?f:p,pa(n[i?p:f],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function fa(t,e,n,r){const i=ro(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function pa(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ma(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ga(t,e,n,r){return _a(this.multi,[])}function ya(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Mn(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),_a(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],_a(i,s);return s}function _a(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function va(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Ne();if(r.firstCreatePass){const i=ae(t);da(n,r.data,r.blueprint,i,!0),da(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ba{}class wa{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${rt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Sa=(()=>{class t{}return t.NULL=new wa,t})();function Ea(...t){}function Ca(t,e){return new ka(be(t,e))}const xa=function(){return Ca(Le(),Re())};let ka=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=xa,t})();function Ta(t){return t instanceof ka?t.nativeElement:t}class Ia{}let Oa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Aa(),t})();const Aa=function(){const t=Re(),e=Ee(Le().index,t);return function(t){return t[11]}(ne(e)?e:t)};let Da=(()=>{class t{}return t.\u0275prov=ft({token:t,providedIn:"root",factory:()=>null}),t})();class Ra{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Na=new Ra("11.2.4");class Pa{constructor(){}supports(t){return go(t)}create(t){return new Fa(t)}}const La=(t,e)=>e;class Fa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||La}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Ua(n,r,i)?e:n,o=Ua(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!go(t))throw new Error(`Error trying to diff '${rt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[po()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new ja(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Va),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Va),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ja{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ma{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Va{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ma,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ua(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ba{constructor(){}supports(t){return t instanceof Map||yo(t)}create(){return new za}}class za{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||yo(t)))throw new Error(`Error trying to diff '${rt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new qa(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class qa{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ha(){return new Ga([new Pa])}let Ga=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ha()),deps:[[t,new yr,new gr]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ft({token:t,providedIn:"root",factory:Ha}),t})();function $a(){return new Wa([new Ba])}let Wa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||$a()),deps:[[t,new yr,new gr]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ft({token:t,providedIn:"root",factory:$a}),t})();function Ka(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(_e(s)),re(s))for(let t=ee;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Ka(e[1],e,n,r)}const o=n.type;if(8&o)Ka(t,e,n.child,r);else if(32&o){const t=ai(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=Ti(e,n);if(Array.isArray(t))r.push(...t);else{const n=ui(e[16]);Ka(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ya{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Ka(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(re(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(mi(t,n),Jn(e,n))}this._attachedToViewContainer=!1}gi(this._lView[1],this._lView)}onDestroy(t){ps(this._lView[1],this._lView,null,t)}markForCheck(){Rs(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ns(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Be(!0);try{Ns(t,e,n)}finally{Be(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Ai(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Qa extends Ya{constructor(t){super(t),this._view=t}detectChanges(){Ps(this._view)}checkNoChanges(){!function(t){Be(!0);try{Ps(t)}finally{Be(!1)}}(this._view)}get context(){return null}}const Za=Ja;let Xa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Za,t.__ChangeDetectorRef__=!0,t})();function Ja(t=!1){return function(t,e,n){if(!n&&se(t)){const n=Ee(t.index,e);return new Ya(n,n)}return 47&t.type?new Ya(e[16],e):null}(Le(),Re(),t)}const tu=[new Ba],eu=new Ga([new Pa]),nu=new Wa(tu),ru=function(){return au(Le(),Re())};let iu=(()=>{class t{}return t.__NG_ELEMENT_ID__=ru,t})();const su=iu,ou=class extends su{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=ns(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),ss(e,n,t),new Ya(n)}};function au(t,e){return 4&t.type?new ou(e,t,Ca(t,e)):null}class uu{}class lu{}const cu=function(){return gu(Le(),Re())};let hu=(()=>{class t{}return t.__NG_ELEMENT_ID__=cu,t})();const du=hu,fu=class extends du{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ca(this._hostTNode,this._hostLView)}get injector(){return new Bn(this._hostTNode,this._hostLView)}get parentInjector(){const t=On(this._hostTNode,this._hostLView);if(bn(t)){const e=Sn(t,this._hostLView),n=wn(t);return new Bn(e[1].data[n+8],e)}return new Bn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=pu(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ee}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(uu,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(re(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new fu(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=ee+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-ee?(e[4]=n[i],Xn(n,ee+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Ii(i,s),a=n[11],u=Si(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Ai(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(),Xn(mu(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=pu(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=mi(this._lContainer,e);n&&(Jn(mu(this._lContainer),e),gi(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=mi(this._lContainer,e);return n&&null!=Jn(mu(this._lContainer),e)?new Ya(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function pu(t){return t[8]}function mu(t){return t[8]||(t[8]=[])}function gu(t,e){let n;const r=e[t.index];if(re(r))n=r;else{let i;if(8&t.type)i=_e(r);else{const n=e[11];i=n.createComment("");const r=be(t,e);vi(n,Si(n,r),i,function(t,e){return ge(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Ts(r,e,i,t),Ds(e,n)}return new fu(n,t,e)}const yu={};class _u extends Sa{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Xt(t);return new wu(e,this.ngModule)}}function vu(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const bu=new Wn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ii});class wu extends ba{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Gi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return vu(this.componentDef.inputs)}get outputs(){return vu(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,yu,i);return s!==yu||r===yu?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Ia,ye),o=i.get(Da,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",l=n?function(t,e,n){if(ge(t))return t.selectRootElement(e,n===It.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):fi(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),c=this.componentDef.onPush?576:528,h={components:[],scheduler:ii,clean:Fs,playerHandler:null,flags:0},d=fs(0,null,null,1,0,null,null,null,null,null),f=ns(null,d,h,c,null,null,s,a,o,i);let p,m;Ze(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=rs(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(zs(a,u,!0),null!==t&&(mn(i,t,u),null!==a.classes&&Ni(i,t,a.classes),null!==a.styles&&Ri(i,t,a.styles)));const l=r.createRenderer(t,e),c=ns(n,ds(e),null,e.onPush?64:16,n[20],a,r,l,null,null);return o.firstCreatePass&&(An(kn(a,n),o,e.type),bs(o,a),Ss(a,n.length,1)),Ds(n,c),n[20]=c}(l,this.componentDef,f,s,a);if(l)if(n)mn(a,l,["ng-version",Na.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Ui(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&mn(a,l,t),e&&e.length>0&&Ni(a,l,e.join(" "))}if(m=we(d,te),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Le();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Es(t,r,e,is(t,e,1,null),n));const i=Mn(e,t,r.directiveStart,r);ri(i,e);const s=be(r,e);return s&&ri(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Le();e.contentQueries(1,o,t.directiveStart)}const a=Le();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(sn(a.index),_s(n[1],a,0,a.directiveStart,a.directiveEnd,e),vs(e,o)),o}(t,this.componentDef,f,h,[oo]),ss(d,f,null)}finally{nn()}return new Su(this.componentType,p,Ca(m,f),f,m)}}class Su extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Qa(r),this.componentType=t}get injector(){return new Bn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Eu=new Map;class Cu extends uu{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new _u(this);const n=Jt(t),r=t[Ut]||null;r&&ha(r),this._bootstrapComponents=si(n.bootstrap),this._r3Injector=Zs(t,e,[{provide:uu,useValue:this},{provide:Sa,useValue:this.componentFactoryResolver}],rt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=so.THROW_IF_NOT_FOUND,n=St.Default){return t===so||t===uu||t===qs?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class xu extends lu{constructor(t){super(),this.moduleType=t,null!==Jt(t)&&function(t){const e=new Set;!function t(n){const r=Jt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${rt(e)} vs ${rt(e.name)}`)}(i,Eu.get(i),n),Eu.set(i,n));const s=si(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Cu(this.moduleType,t)}}function ku(t,e){const n=t[e];return n===$i?void 0:n}function Tu(t,e){const n=Ne();let r;const i=t+te;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new lt("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=ue(r.type)),o=Ct(So);try{const t=Cn(!1),e=s();return Cn(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Re(),i,e),e}finally{Ct(o)}}function Iu(t,e,n){const r=t+te,i=Re(),s=Se(i,r);return Du(i,Au(i,r)?function(t,e,n,r,i,s){const o=e+n;return vo(t,o,i)?_o(t,o+1,s?r.call(s,i):r(i)):ku(t,o+1)}(i,ze(),e,s.transform,n,s):s.transform(n))}function Ou(t,e,n,r){const i=t+te,s=Re(),o=Se(s,i);return Du(s,Au(s,i)?function(t,e,n,r,i,s,o){const a=e+n;return function(t,e,n,r){const i=vo(t,e,n);return vo(t,e+1,r)||i}(t,a,i,s)?_o(t,a+2,o?r.call(o,i,s):r(i,s)):ku(t,a+2)}(s,ze(),e,o.transform,n,r,o):o.transform(n,r))}function Au(t,e){return t[1].data[e].pure}function Du(t,e){return mo.isWrapped(e)&&(e=mo.unwrap(e),t[Ae.lFrame.bindingIndex]=$i),e}const Ru=class extends C{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(r,i,s);return t instanceof h&&t.add(o),o}};function Nu(){return this._results[po()]()}class Pu{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=po(),n=Pu.prototype;n[e]||(n[e]=Nu)}get changes(){return this._changes||(this._changes=new Ru)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=Qn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Lu{constructor(t){this.queryList=t,this.matches=null}clone(){return new Lu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Fu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Fu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Qu(t,e).matches&&this.queries[e].setDirty()}}class ju{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Mu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Mu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Vu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Vu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Uu(e,i)),this.matchTNodeWithReadOption(t,e,jn(e,t,i,!1,!1))}else n===iu?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,jn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ka||r===hu||r===iu&&4&e.type)this.addMatch(e.index,-2);else{const n=jn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Uu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Bu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ca(t,e):4&t.type?au(t,e):null}(e,t):-2===n?function(t,e,n){return n===ka?Ca(e,t):n===iu?au(e,t):n===hu?gu(e,t):void 0}(t,e,r):Mn(t,t[1],n,e)}function zu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Bu(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function qu(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=zu(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=ee;t<o.length;t++){const e=o[t];e[17]===e[3]&&qu(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];qu(n[1],n,i,r)}}}}}return r}function Hu(t){const e=Re(),n=Ne(),r=We();Ke(r+1);const i=Qu(n,r);if(t.dirty&&xe(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?qu(n,e,r,[]):zu(n,e,i,r);t.reset(s,Ta),t.notifyOnChanges()}return!0}return!1}function Gu(t,e,n){const r=Ne();r.firstCreatePass&&(Yu(r,new ju(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Ku(r,Re(),e)}function $u(t,e,n,r){const i=Ne();if(i.firstCreatePass){const s=Le();Yu(i,new ju(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Ku(i,Re(),n)}function Wu(){return t=Re(),e=We(),t[19].queries[e].queryList;var t,e}function Ku(t,e,n){const r=new Pu(4==(4&n));ps(t,e,r,r.destroy),null===e[19]&&(e[19]=new Fu),e[19].queries.push(new Lu(r))}function Yu(t,e,n){null===t.queries&&(t.queries=new Mu),t.queries.track(new Vu(e,n))}function Qu(t,e){return t.queries.getByIndex(e)}const Zu=new Wn("Application Initializer");let Xu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ea,this.reject=Ea,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ro(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(hr(Zu,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const Ju=new Wn("AppId"),tl={provide:Ju,useFactory:function(){return`${el()}${el()}${el()}`},deps:[]};function el(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nl=new Wn("Platform Initializer"),rl=new Wn("Platform ID"),il=new Wn("appBootstrapListener");let sl=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const ol=new Wn("LocaleId"),al=new Wn("DefaultCurrencyCode");class ul{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ll=function(t){return new xu(t)},cl=ll,hl=function(t){return Promise.resolve(ll(t))},dl=function(t){const e=ll(t),n=si(Jt(t).declarations).reduce((t,e)=>{const n=Xt(e);return n&&t.push(new wu(n)),t},[]);return new ul(e,n)},fl=dl,pl=function(t){return Promise.resolve(dl(t))};let ml=(()=>{class t{constructor(){this.compileModuleSync=cl,this.compileModuleAsync=hl,this.compileModuleAndAllComponentsSync=fl,this.compileModuleAndAllComponentsAsync=pl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const gl=(()=>Promise.resolve(0))();function yl(t){"undefined"==typeof Zone?gl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class _l{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ru(!1),this.onMicrotaskEmpty=new Ru(!1),this.onStable=new Ru(!1),this.onError=new Ru(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=Nt.requestAnimationFrame,e=Nt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Nt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,wl(t),bl(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),wl(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Sl(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),El(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Sl(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),El(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,wl(t),bl(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_l.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_l.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,vl,Ea,Ea);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const vl={};function bl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function wl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Sl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function El(t){t._nesting--,bl(t)}class Cl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ru,this.onMicrotaskEmpty=new Ru,this.onStable=new Ru,this.onError=new Ru}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let xl=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_l.assertNotInAngularZone(),yl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(hr(_l))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),kl=(()=>{class t{constructor(){this._applications=new Map,Ol.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ol.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class Tl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Il,Ol=new Tl,Al=!0,Dl=!1;function Rl(){return Dl=!0,Al}const Nl=new Wn("AllowMultipleToken");class Pl{constructor(t,e){this.name=t,this.token=e}}function Ll(t,e,n=[]){const r=`Platform: ${e}`,i=new Wn(r);return(e=[])=>{let s=Fl();if(!s||s.injector.get(Nl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Gs,useValue:"platform"});!function(t){if(Il&&!Il.destroyed&&!Il.injector.get(Nl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Il=t.get(jl);const e=t.get(nl,null);e&&e.forEach(t=>t())}(so.create({providers:t,name:r}))}return function(t){const e=Fl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Fl(){return Il&&!Il.destroyed?Il:null}let jl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Cl:("zone.js"===t?void 0:t)||new _l({enableLongStackTrace:Rl(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:_l,useValue:n}];return n.run(()=>{const e=so.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(ni,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{Ul(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Ro(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Xu);return t.runInitializers(),t.donePromise.then(()=>(ha(i.injector.get(ol,la)||la),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Ml({},e);return function(t,e,n){const r=new xu(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Vl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${rt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(hr(so))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function Ml(t,e){return Array.isArray(e)?e.reduce(Ml,t):Object.assign(Object.assign({},t),e)}let Vl=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new v(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),o=new v(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{_l.assertNotInAngularZone(),yl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{_l.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=$(s,o.pipe(tt()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ba?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(uu),i=n.create(so.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(xl,null),a=o&&i.injector.get(kl);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Ul(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Ul(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(il,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(hr(_l),hr(so),hr(ni),hr(Sa),hr(Xu))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function Ul(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Bl{}class zl{}const ql={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Hl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||ql}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Gl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Gl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(hr(ml),hr(zl,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function Gl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const $l=Ll(null,"core",[{provide:rl,useValue:"unknown"},{provide:jl,deps:[so]},{provide:kl,deps:[]},{provide:sl,deps:[]}]),Wl=[{provide:Vl,useClass:Vl,deps:[_l,so,ni,Sa,Xu]},{provide:bu,deps:[_l],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Xu,useClass:Xu,deps:[[new gr,Zu]]},{provide:ml,useClass:ml,deps:[]},tl,{provide:Ga,useFactory:function(){return eu},deps:[]},{provide:Wa,useFactory:function(){return nu},deps:[]},{provide:ol,useFactory:function(t){return ha(t=t||"undefined"!=typeof $localize&&$localize.locale||la),t},deps:[[new mr(ol),new gr,new yr]]},{provide:al,useValue:"USD"}];let Kl=(()=>{class t{constructor(t){}}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)(hr(Vl))},providers:Wl}),t})(),Yl=null;function Ql(){return Yl}const Zl=new Wn("DocumentToken");let Xl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:Jl,token:t,providedIn:"platform"}),t})();function Jl(){return hr(ec)}const tc=new Wn("Location Initialized");let ec=(()=>{class t extends Xl{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=Ql().getLocation(),this._history=Ql().getHistory()}getBaseHrefFromDOM(){return Ql().getBaseHref(this._doc)}onPopState(t){Ql().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){Ql().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){nc()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){nc()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(hr(Zl))},t.\u0275prov=ft({factory:rc,token:t,providedIn:"platform"}),t})();function nc(){return!!window.history.pushState}function rc(){return new ec(hr(Zl))}function ic(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function sc(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function oc(t){return t&&"?"!==t[0]?"?"+t:t}let ac=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:uc,token:t,providedIn:"root"}),t})();function uc(t){const e=hr(Zl).location;return new cc(hr(Xl),e&&e.origin||"")}const lc=new Wn("appBaseHref");let cc=(()=>{class t extends ac{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ic(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+oc(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+oc(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+oc(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(hr(Xl),hr(lc,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),hc=(()=>{class t extends ac{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=ic(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+oc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+oc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(hr(Xl),hr(lc,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),dc=(()=>{class t{constructor(t,e){this._subject=new Ru,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=sc(pc(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+oc(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,pc(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+oc(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+oc(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(hr(ac),hr(Xl))},t.normalizeQueryParams=oc,t.joinWithSlash=ic,t.stripTrailingSlash=sc,t.\u0275prov=ft({factory:fc,token:t,providedIn:"root"}),t})();function fc(){return new dc(hr(ac),hr(Xl))}function pc(t){return t.replace(/\/index.html$/,"")}var mc=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),gc=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),yc=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),_c=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),vc=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function bc(t,e){return xc(oa(t)[ua.DateFormat],e)}function wc(t,e){return xc(oa(t)[ua.TimeFormat],e)}function Sc(t,e){return xc(oa(t)[ua.DateTimeFormat],e)}function Ec(t,e){const n=oa(t),r=n[ua.NumberSymbols][e];if(void 0===r){if(e===vc.CurrencyDecimal)return n[ua.NumberSymbols][vc.Decimal];if(e===vc.CurrencyGroup)return n[ua.NumberSymbols][vc.Group]}return r}function Cc(t){if(!t[ua.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[ua.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function xc(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function kc(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const Tc=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ic={},Oc=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ac=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),Dc=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),Rc=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function Nc(t,e,n,r){let i=function(t){if($c(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[e,n=1,r=1]=t.split("-").map(t=>+t);return Pc(e,n-1,r)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let n;if(n=t.match(Tc))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,u,l),e}(n)}const e=new Date(t);if(!$c(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=Lc(n,e)||e;let s,o=[];for(;e;){if(s=Oc.exec(e),!s){o.push(e);break}{o=o.concat(s.slice(1));const t=o.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=Gc(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(Gc(e,r)-r))}(i,r));let u="";return o.forEach(t=>{const e=function(t){if(Hc[t])return Hc[t];let e;switch(t){case"G":case"GG":case"GGG":e=Vc(Rc.Eras,yc.Abbreviated);break;case"GGGG":e=Vc(Rc.Eras,yc.Wide);break;case"GGGGG":e=Vc(Rc.Eras,yc.Narrow);break;case"y":e=Mc(Dc.FullYear,1,0,!1,!0);break;case"yy":e=Mc(Dc.FullYear,2,0,!0,!0);break;case"yyy":e=Mc(Dc.FullYear,3,0,!1,!0);break;case"yyyy":e=Mc(Dc.FullYear,4,0,!1,!0);break;case"Y":e=qc(1);break;case"YY":e=qc(2,!0);break;case"YYY":e=qc(3);break;case"YYYY":e=qc(4);break;case"M":case"L":e=Mc(Dc.Month,1,1);break;case"MM":case"LL":e=Mc(Dc.Month,2,1);break;case"MMM":e=Vc(Rc.Months,yc.Abbreviated);break;case"MMMM":e=Vc(Rc.Months,yc.Wide);break;case"MMMMM":e=Vc(Rc.Months,yc.Narrow);break;case"LLL":e=Vc(Rc.Months,yc.Abbreviated,gc.Standalone);break;case"LLLL":e=Vc(Rc.Months,yc.Wide,gc.Standalone);break;case"LLLLL":e=Vc(Rc.Months,yc.Narrow,gc.Standalone);break;case"w":e=zc(1);break;case"ww":e=zc(2);break;case"W":e=zc(1,!0);break;case"d":e=Mc(Dc.Date,1);break;case"dd":e=Mc(Dc.Date,2);break;case"E":case"EE":case"EEE":e=Vc(Rc.Days,yc.Abbreviated);break;case"EEEE":e=Vc(Rc.Days,yc.Wide);break;case"EEEEE":e=Vc(Rc.Days,yc.Narrow);break;case"EEEEEE":e=Vc(Rc.Days,yc.Short);break;case"a":case"aa":case"aaa":e=Vc(Rc.DayPeriods,yc.Abbreviated);break;case"aaaa":e=Vc(Rc.DayPeriods,yc.Wide);break;case"aaaaa":e=Vc(Rc.DayPeriods,yc.Narrow);break;case"b":case"bb":case"bbb":e=Vc(Rc.DayPeriods,yc.Abbreviated,gc.Standalone,!0);break;case"bbbb":e=Vc(Rc.DayPeriods,yc.Wide,gc.Standalone,!0);break;case"bbbbb":e=Vc(Rc.DayPeriods,yc.Narrow,gc.Standalone,!0);break;case"B":case"BB":case"BBB":e=Vc(Rc.DayPeriods,yc.Abbreviated,gc.Format,!0);break;case"BBBB":e=Vc(Rc.DayPeriods,yc.Wide,gc.Format,!0);break;case"BBBBB":e=Vc(Rc.DayPeriods,yc.Narrow,gc.Format,!0);break;case"h":e=Mc(Dc.Hours,1,-12);break;case"hh":e=Mc(Dc.Hours,2,-12);break;case"H":e=Mc(Dc.Hours,1);break;case"HH":e=Mc(Dc.Hours,2);break;case"m":e=Mc(Dc.Minutes,1);break;case"mm":e=Mc(Dc.Minutes,2);break;case"s":e=Mc(Dc.Seconds,1);break;case"ss":e=Mc(Dc.Seconds,2);break;case"S":e=Mc(Dc.FractionalSeconds,1);break;case"SS":e=Mc(Dc.FractionalSeconds,2);break;case"SSS":e=Mc(Dc.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Uc(Ac.Short);break;case"ZZZZZ":e=Uc(Ac.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Uc(Ac.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Uc(Ac.Long);break;default:return null}return Hc[t]=e,e}(t);u+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Pc(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Lc(t,e){const n=function(t){return oa(t)[ua.LocaleId]}(t);if(Ic[n]=Ic[n]||{},Ic[n][e])return Ic[n][e];let r="";switch(e){case"shortDate":r=bc(t,_c.Short);break;case"mediumDate":r=bc(t,_c.Medium);break;case"longDate":r=bc(t,_c.Long);break;case"fullDate":r=bc(t,_c.Full);break;case"shortTime":r=wc(t,_c.Short);break;case"mediumTime":r=wc(t,_c.Medium);break;case"longTime":r=wc(t,_c.Long);break;case"fullTime":r=wc(t,_c.Full);break;case"short":const e=Lc(t,"shortTime"),n=Lc(t,"shortDate");r=Fc(Sc(t,_c.Short),[e,n]);break;case"medium":const i=Lc(t,"mediumTime"),s=Lc(t,"mediumDate");r=Fc(Sc(t,_c.Medium),[i,s]);break;case"long":const o=Lc(t,"longTime"),a=Lc(t,"longDate");r=Fc(Sc(t,_c.Long),[o,a]);break;case"full":const u=Lc(t,"fullTime"),l=Lc(t,"fullDate");r=Fc(Sc(t,_c.Full),[u,l])}return r&&(Ic[n][e]=r),r}function Fc(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function jc(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function Mc(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function(t,e){switch(t){case Dc.FullYear:return e.getFullYear();case Dc.Month:return e.getMonth();case Dc.Date:return e.getDate();case Dc.Hours:return e.getHours();case Dc.Minutes:return e.getMinutes();case Dc.Seconds:return e.getSeconds();case Dc.FractionalSeconds:return e.getMilliseconds();case Dc.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===Dc.Hours)0===a&&-12===n&&(a=12);else if(t===Dc.FractionalSeconds)return u=e,jc(a,3).substr(0,u);var u;const l=Ec(o,vc.MinusSign);return jc(a,e,l,r,i)}}function Vc(t,e,n=gc.Format,r=!1){return function(i,s){return function(t,e,n,r,i,s){switch(n){case Rc.Months:return function(t,e,n){const r=oa(t),i=xc([r[ua.MonthsFormat],r[ua.MonthsStandalone]],e);return xc(i,n)}(e,i,r)[t.getMonth()];case Rc.Days:return function(t,e,n){const r=oa(t),i=xc([r[ua.DaysFormat],r[ua.DaysStandalone]],e);return xc(i,n)}(e,i,r)[t.getDay()];case Rc.DayPeriods:const o=t.getHours(),a=t.getMinutes();if(s){const t=function(t){const e=oa(t);return Cc(e),(e[ua.ExtraData][2]||[]).map(t=>"string"==typeof t?kc(t):[kc(t[0]),kc(t[1])])}(e),n=function(t,e,n){const r=oa(t);Cc(r);const i=xc([r[ua.ExtraData][0],r[ua.ExtraData][1]],e)||[];return xc(i,n)||[]}(e,i,r),s=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=o>=e.hours&&a>=e.minutes,i=o<n.hours||o===n.hours&&a<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===o&&t.minutes===a)return!0;return!1});if(-1!==s)return n[s]}return function(t,e,n){const r=oa(t),i=xc([r[ua.DayPeriodsFormat],r[ua.DayPeriodsStandalone]],e);return xc(i,n)}(e,i,r)[o<12?0:1];case Rc.Eras:return function(t,e){return xc(oa(t)[ua.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,s,t,e,n,r)}}function Uc(t){return function(e,n,r){const i=-1*r,s=Ec(n,vc.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Ac.Short:return(i>=0?"+":"")+jc(o,2,s)+jc(Math.abs(i%60),2,s);case Ac.ShortGMT:return"GMT"+(i>=0?"+":"")+jc(o,1,s);case Ac.Long:return"GMT"+(i>=0?"+":"")+jc(o,2,s)+":"+jc(Math.abs(i%60),2,s);case Ac.Extended:return 0===r?"Z":(i>=0?"+":"")+jc(o,2,s)+":"+jc(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function Bc(t){return Pc(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function zc(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=Bc(n),e=function(t){const e=Pc(t,0,1).getDay();return Pc(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}return jc(i,t,Ec(r,vc.MinusSign))}}function qc(t,e=!1){return function(n,r){return jc(Bc(n).getFullYear(),t,Ec(r,vc.MinusSign),e)}}const Hc={};function Gc(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function $c(t){return t instanceof Date&&!isNaN(t.valueOf())}class Wc{}let Kc=(()=>{class t extends Wc{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return oa(t)[ua.PluralCase]}(e||this.locale)(t)){case mc.Zero:return"zero";case mc.One:return"one";case mc.Two:return"two";case mc.Few:return"few";case mc.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(hr(ol))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class Yc{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qc=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Yc(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Zc(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new Zc(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(So(hu),So(iu),So(Ga))},t.\u0275dir=Qt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Zc{constructor(t,e){this.record=t,this.view=e}}let Xc=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new Jc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){th("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){th("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(So(hu),So(iu))},t.\u0275dir=Qt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Jc{constructor(){this.$implicit=null,this.ngIf=null}}function th(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${rt(e)}'.`)}class eh{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let nh=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Qt({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),rh=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new eh(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(So(hu),So(iu),So(nh,1))},t.\u0275dir=Qt({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})();function ih(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${rt(t)}'`)}class sh{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class oh{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const ah=new oh,uh=new sh;let lh=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Ro(e))return ah;if(No(e))return uh;throw ih(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(function(t=St.Default){const e=Ja(!0);if(null!=e||t&St.Optional)return e;dt("ChangeDetectorRef")}())},t.\u0275pipe=Zt({name:"async",type:t,pure:!1}),t})(),ch=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,i){if(null==e||""===e||e!=e)return null;try{return Nc(e,n,i||this.locale,r)}catch(s){throw ih(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(So(ol))},t.\u0275pipe=Zt({name:"date",type:t,pure:!0}),t})(),hh=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[{provide:Wc,useClass:Kc}]}),t})();function dh(t){return"server"===t}let fh=(()=>{class t{}return t.\u0275prov=ft({token:t,providedIn:"root",factory:()=>new ph(hr(Zl),window)}),t})();class ph{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=mh(this.window.history)||mh(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function mh(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class gh extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new gh,Yl||(Yl=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=_h||(_h=document.querySelector("base"),_h)?_h.getAttribute("href"):null;return null==e?null:(n=e,yh||(yh=document.createElement("a")),yh.setAttribute("href",n),"/"===yh.pathname.charAt(0)?yh.pathname:"/"+yh.pathname);var n}resetBaseElement(){_h=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let yh,_h=null;const vh=new Wn("TRANSITION_ID"),bh=[{provide:Zu,useFactory:function(t,e,n){return()=>{n.get(Xu).donePromise.then(()=>{const n=Ql();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[vh,Zl,so],multi:!0}];class wh{static init(){var t;t=new wh,Ol=t}addToWindow(t){Nt.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Nt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Nt.getAllAngularRootElements=()=>t.getAllRootElements(),Nt.frameworkStabilizers||(Nt.frameworkStabilizers=[]),Nt.frameworkStabilizers.push(t=>{const e=Nt.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Ql().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Sh=new Wn("EventManagerPlugins");let Eh=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(hr(Sh),hr(_l))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class Ch{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Ql().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let xh=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),kh=(()=>{class t extends xh{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Ql().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(hr(Zl))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const Th={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ih=/%COMP%/g;function Oh(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Oh(t,i,n):(i=i.replace(Ih,t),n.push(i))}return n}function Ah(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Dh=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Rh(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case It.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Nh(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case It.ShadowDom:return new Ph(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Oh(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(hr(Eh),hr(kh),hr(Ju))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class Rh{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Th[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Th[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Th[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(oi.DashCase|oi.Important)?t.style.setProperty(e,n,r&oi.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&oi.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ah(n)):this.eventManager.addEventListener(t,e,Ah(n))}}class Nh extends Rh{constructor(t,e,n,r){super(t),this.component=n;const i=Oh(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Ih,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Ih,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Ph extends Rh{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Oh(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Lh=(()=>{class t extends Ch{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(hr(Zl))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const Fh=["alt","control","meta","shift"],jh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Vh={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Uh=(()=>{class t extends Ch{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ql().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(Fh.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Mh.hasOwnProperty(e)&&(e=Mh[e]))}return jh[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Fh.forEach(r=>{r!=n&&(0,Vh[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(hr(Zl))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),Bh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:function(){return hr(zh)},token:t,providedIn:"root"}),t})(),zh=(()=>{class t extends Bh{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Zr.NONE:return e;case Zr.HTML:return Tr(e,"HTML")?kr(e):function(t,e){let n=null;try{Yr=Yr||function(t){const e=new Ar(t);return function(){try{return!!(new window.DOMParser).parseFromString(vr(""),"text/html")}catch(t){return!1}}()?new Or(e):e}(t);let r=e?String(e):"";n=Yr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Yr.getInertBodyElement(r)}while(r!==s);return vr((new Gr).sanitizeChildren(Qr(n)||n))}finally{if(n){const t=Qr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)).toString();case Zr.STYLE:return Tr(e,"Style")?kr(e):e;case Zr.SCRIPT:if(Tr(e,"Script"))return kr(e);throw new Error("unsafe value used in a script context");case Zr.URL:return Ir(e),Tr(e,"URL")?kr(e):Nr(String(e));case Zr.RESOURCE_URL:if(Tr(e,"ResourceURL"))return kr(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new wr(t)}bypassSecurityTrustStyle(t){return new Sr(t)}bypassSecurityTrustScript(t){return new Er(t)}bypassSecurityTrustUrl(t){return new Cr(t)}bypassSecurityTrustResourceUrl(t){return new xr(t)}}return t.\u0275fac=function(e){return new(e||t)(hr(Zl))},t.\u0275prov=ft({factory:function(){return t=hr(qs),new zh(t.get(Zl));var t},token:t,providedIn:"root"}),t})();const qh=Ll($l,"browser",[{provide:rl,useValue:"browser"},{provide:nl,useValue:function(){gh.makeCurrent(),wh.init()},multi:!0},{provide:Zl,useFactory:function(){return function(t){me=t}(document),document},deps:[]}]),Hh=[[],{provide:Gs,useValue:"root"},{provide:ni,useFactory:function(){return new ni},deps:[]},{provide:Sh,useClass:Lh,multi:!0,deps:[Zl,_l,rl]},{provide:Sh,useClass:Uh,multi:!0,deps:[Zl]},[],{provide:Dh,useClass:Dh,deps:[Eh,kh,Ju]},{provide:Ia,useExisting:Dh},{provide:xh,useExisting:kh},{provide:kh,useClass:kh,deps:[Zl]},{provide:xl,useClass:xl,deps:[_l]},{provide:Eh,useClass:Eh,deps:[Sh,_l]},[]];let Gh=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Ju,useValue:e.appId},{provide:vh,useExisting:Ju},bh]}}}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)(hr(t,12))},providers:Hh,imports:[hh,Kl]}),t})();function $h(...t){let e=t[t.length-1];return k(e)?(t.pop(),F(t,e)):G(t)}"undefined"!=typeof window&&window;class Wh extends C{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new w;return this._value}next(t){super.next(this._value=t)}}class Kh extends p{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Yh extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function Qh(t,e,n,r,i=new Yh(t,n,r)){if(!i.closed)return e instanceof v?e.subscribe(i):L(e)(i)}const Zh={};function Xh(...t){let e,n;return k(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),G(t,n).lift(new Jh(e))}class Jh{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new td(t,this.resultSelector))}}class td extends Kh{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Zh),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Qh(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Zh?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const ed=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function nd(...t){return H(1)($h(...t))}const rd=new v(t=>t.complete());function id(t){return t?function(t){return new v(e=>t.schedule(()=>e.complete()))}(t):rd}function sd(t){return new v(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?j(n):id()).subscribe(e)})}function od(t,e){return"function"==typeof e?n=>n.pipe(od((n,r)=>j(t(n,r)).pipe(T((t,i)=>e(n,t,r,i))))):e=>e.lift(new ad(t))}class ad{constructor(t){this.project=t}call(t,e){return e.subscribe(new ud(t,this.project))}}class ud extends V{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new M(this),r=this.destination;r.add(n),this.innerSubscription=U(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const ld=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function cd(t){return e=>0===t?id():e.lift(new hd(t))}class hd{constructor(t){if(this.total=t,this.total<0)throw new ld}call(t,e){return e.subscribe(new dd(t,this.total))}}class dd extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function fd(...t){const e=t[t.length-1];return k(e)?(t.pop(),n=>nd(t,n,e)):e=>nd(t,e)}function pd(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new md(t,e,n))}}class md{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new gd(t,this.accumulator,this.seed,this.hasSeed))}}class gd extends p{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function yd(t,e){return function(n){return n.lift(new _d(t,e))}}class _d{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new vd(t,this.predicate,this.thisArg))}}class vd extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function bd(t){return function(e){const n=new wd(t),r=e.lift(n);return n.caught=r}}class wd{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Sd(t,this.selector,this.caught))}}class Sd extends V{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new M(this);this.add(r);const i=U(n,r);i!==r&&this.add(i)}}}function Ed(t,e){return B(t,e,1)}function Cd(t){return function(e){return 0===t?id():e.lift(new xd(t))}}class xd{constructor(t){if(this.total=t,this.total<0)throw new ld}call(t,e){return e.subscribe(new kd(t,this.total))}}class kd extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Td(t=Ad){return e=>e.lift(new Id(t))}class Id{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Od(t,this.errorFactory))}}class Od extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Ad(){return new ed}function Dd(t=null){return e=>e.lift(new Rd(t))}class Rd{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Nd(t,this.defaultValue))}}class Nd extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Pd(t,e){const n=arguments.length>=2;return r=>r.pipe(t?yd((e,n)=>t(e,n,r)):y,cd(1),n?Dd(e):Td(()=>new ed))}function Ld(){}function Fd(t,e,n){return function(r){return r.lift(new jd(t,e,n))}}class jd{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Md(t,this.nextOrObserver,this.error,this.complete))}}class Md extends p{constructor(t,e,n,i){super(t),this._tapNext=Ld,this._tapError=Ld,this._tapComplete=Ld,this._tapError=n||Ld,this._tapComplete=i||Ld,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Ld,this._tapError=e.error||Ld,this._tapComplete=e.complete||Ld)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function Vd(t){return e=>e.lift(new Ud(t))}class Ud{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Bd(t,this.callback))}}class Bd extends p{constructor(t,e){super(t),this.add(new h(e))}}class zd{constructor(t,e){this.id=t,this.url=e}}class qd extends zd{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hd extends zd{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gd extends zd{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $d extends zd{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wd extends zd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kd extends zd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yd extends zd{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qd extends zd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zd extends zd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xd{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Jd{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tf{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ef{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nf{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rf{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sf{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const of="primary";class af{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function uf(t){return new af(t)}function lf(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function cf(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function hf(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!df(t[i],e[i]))return!1;return!0}function df(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function ff(t){return Array.prototype.concat.apply([],t)}function pf(t){return t.length>0?t[t.length-1]:null}function mf(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function gf(t){return Po(t)?t:Ro(t)?j(Promise.resolve(t)):$h(t)}function yf(t,e,n){return n?function(t,e){return hf(t,e)}(t.queryParams,e.queryParams)&&_f(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>df(t[n],e[n]))}(t.queryParams,e.queryParams)&&vf(t.root,e.root)}function _f(t,e){if(!Cf(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!_f(t.children[n],e.children[n]))return!1}return!0}function vf(t,e){return bf(t,e,e.segments)}function bf(t,e,n){if(t.segments.length>n.length)return!!Cf(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Cf(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!vf(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Cf(t.segments,r)&&!!t.children.primary&&bf(t.children.primary,e,i)}}class wf{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uf(this.queryParams)),this._queryParamMap}toString(){return Tf.serialize(this)}}class Sf{constructor(t,e){this.segments=t,this.children=e,this.parent=null,mf(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return If(this)}}class Ef{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=uf(this.parameters)),this._parameterMap}toString(){return Lf(this)}}function Cf(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class xf{}class kf{parse(t){const e=new Uf(t);return new wf(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Of(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Df(e)}=${Df(t)}`).join("&"):`${Df(e)}=${Df(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Tf=new kf;function If(t){return t.segments.map(t=>Lf(t)).join("/")}function Of(t,e){if(!t.hasChildren())return If(t);if(e){const e=t.children.primary?Of(t.children.primary,!1):"",n=[];return mf(t.children,(t,e)=>{e!==of&&n.push(`${e}:${Of(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return mf(t.children,(t,r)=>{r===of&&(n=n.concat(e(t,r)))}),mf(t.children,(t,r)=>{r!==of&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===of?[Of(t.children.primary,!1)]:[`${n}:${Of(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${If(t)}/${e[0]}`:`${If(t)}/(${e.join("//")})`}}function Af(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Df(t){return Af(t).replace(/%3B/gi,";")}function Rf(t){return Af(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nf(t){return decodeURIComponent(t)}function Pf(t){return Nf(t.replace(/\+/g,"%20"))}function Lf(t){return`${Rf(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Rf(t)}=${Rf(e[t])}`).join("")}`;var e}const Ff=/^[^\/()?;=#]+/;function jf(t){const e=t.match(Ff);return e?e[0]:""}const Mf=/^[^=?&#]+/,Vf=/^[^?&#]+/;class Uf{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Sf([],{}):new Sf([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Sf(t,e)),n}parseSegment(){const t=jf(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ef(Nf(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=jf(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=jf(this.remaining);t&&(n=t,this.capture(n))}t[Nf(e)]=Nf(n)}parseQueryParam(t){const e=function(t){const e=t.match(Mf);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Vf);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Pf(e),i=Pf(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=jf(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=of);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Sf([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Bf{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=zf(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=zf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=qf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return qf(t,this._root).map(t=>t.value)}}function zf(t,e){if(t===e.value)return e;for(const n of e.children){const e=zf(t,n);if(e)return e}return null}function qf(t,e){if(t===e.value)return[e];for(const n of e.children){const r=qf(t,n);if(r.length)return r.unshift(e),r}return[]}class Hf{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Gf(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class $f extends Bf{constructor(t,e){super(t),this.snapshot=e,Xf(this,t)}toString(){return this.snapshot.toString()}}function Wf(t,e){const n=function(t,e){const n=new Qf([],{},{},"",{},of,e,null,t.root,-1,{});return new Zf("",new Hf(n,[]))}(t,e),r=new Wh([new Ef("",{})]),i=new Wh({}),s=new Wh({}),o=new Wh({}),a=new Wh(""),u=new Kf(r,i,o,a,s,of,e,n.root);return u.snapshot=n.root,new $f(new Hf(u,[]),n)}class Kf{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(T(t=>uf(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(T(t=>uf(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yf(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Qf{constructor(t,e,n,r,i,s,o,a,u,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=uf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Zf extends Bf{constructor(t,e){super(e),this.url=t,Xf(this,e)}toString(){return Jf(this._root)}}function Xf(t,e){e.value._routerState=t,e.children.forEach(e=>Xf(t,e))}function Jf(t){const e=t.children.length>0?` { ${t.children.map(Jf).join(", ")} } `:"";return`${t.value}${e}`}function tp(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,hf(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),hf(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!hf(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),hf(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ep(t,e){var n,r;return hf(t.params,e.params)&&Cf(n=t.url,r=e.url)&&n.every((t,e)=>hf(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||ep(t.parent,e.parent))}function np(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return np(t,e,r);return np(t,e)})}(t,e,n);return new Hf(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return rp(e,t),t}{const n=new Kf(new Wh((r=e.value).url),new Wh(r.params),new Wh(r.queryParams),new Wh(r.fragment),new Wh(r.data),r.outlet,r.component,r),i=e.children.map(e=>np(t,e));return new Hf(n,i)}}var r}function rp(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)rp(t.children[n],e.children[n])}function ip(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function sp(t){return"object"==typeof t&&null!=t&&t.outlets}function op(t,e,n,r,i){let s={};return r&&mf(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new wf(n.root===t?e:ap(n.root,t,e),s,i)}function ap(t,e,n){const r={};return mf(t.children,(t,i)=>{r[i]=t===e?n:ap(t,e,n)}),new Sf(t.segments,r)}class up{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ip(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(sp);if(r&&r!==pf(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class lp{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function cp(t,e,n){if(t||(t=new Sf([],{})),0===t.segments.length&&t.hasChildren())return hp(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(sp(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!mp(a,u,e))return s;r+=2}else{if(!mp(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Sf(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Sf(t.segments.slice(r.pathIndex),t.children),hp(e,0,i)}return r.match&&0===i.length?new Sf(t.segments,{}):r.match&&!t.hasChildren()?dp(t,e,n):r.match?hp(t,0,i):dp(t,e,n)}function hp(t,e,n){if(0===n.length)return new Sf(t.segments,{});{const r=function(t){return sp(t[0])?t[0].outlets:{[of]:t}}(n),i={};return mf(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=cp(t.children[r],e,n))}),mf(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Sf(t.segments,i)}}function dp(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(sp(s)){const t=fp(s.outlets);return new Sf(r,t)}if(0===i&&ip(n[0])){r.push(new Ef(t.segments[e].path,pp(n[0]))),i++;continue}const o=sp(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ip(a)?(r.push(new Ef(o,pp(a))),i+=2):(r.push(new Ef(o,{})),i++)}return new Sf(r,{})}function fp(t){const e={};return mf(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=dp(new Sf([],{}),0,t))}),e}function pp(t){const e={};return mf(t,(t,n)=>e[n]=`${t}`),e}function mp(t,e,n){return t==n.path&&hf(e,n.parameters)}class gp{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),tp(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Gf(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),mf(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Gf(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=Gf(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new rf(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ef(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(tp(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),yp(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function yp(t){tp(t.value),t.children.forEach(yp)}class _p{constructor(t,e){this.routes=t,this.module=e}}function vp(t){return"function"==typeof t}function bp(t){return t instanceof wf}const wp=Symbol("INITIAL_VALUE");function Sp(){return od(t=>Xh(t.map(t=>t.pipe(cd(1),fd(wp)))).pipe(pd((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==wp)return t;if(r===wp&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||bp(r))return r}return t},t)},wp),yd(t=>t!==wp),T(t=>bp(t)?t:!0===t),cd(1)))}let Ep=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&To(0,"router-outlet")},directives:function(){return[gm]},encapsulation:2}),t})();function Cp(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];xp(r,kp(e,r))}}function xp(t,e){t.children&&Cp(t.children,e)}function kp(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Tp(t){const e=t.children&&t.children.map(Tp),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==of&&(n.component=Ep),n}function Ip(t){return t.outlet||of}function Op(t,e){const n=t.filter(t=>Ip(t)===e);return n.push(...t.filter(t=>Ip(t)!==e)),n}const Ap={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Dp(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Ap):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||cf)(n,t,e);if(!i)return Object.assign({},Ap);const s={};mf(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Rp(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Np(t,e,n)&&Ip(n)!==of)}(t,n,r)){const i=new Sf(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Ip(s)!==of){const n=new Sf([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Ip(s)]=n}return i}(t,e,r,new Sf(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Np(t,e,n))}(t,n,r)){const s=new Sf(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Np(t,n,a)&&!i[Ip(a)]){const n=new Sf([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Ip(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Sf(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Np(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Pp(t,e,n,r){return!!(Ip(t)===r||r!==of&&Np(e,n,t))&&("**"===t.path||Dp(e,t,n).matched)}function Lp(t,e,n){return 0===e.length&&!t.children[n]}class Fp{constructor(t){this.segmentGroup=t||null}}class jp{constructor(t){this.urlTree=t}}function Mp(t){return new v(e=>e.error(new Fp(t)))}function Vp(t){return new v(e=>e.error(new jp(t)))}function Up(t){return new v(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Bp{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(uu)}apply(){const t=Rp(this.urlTree.root,[],[],this.config).segmentGroup,e=new Sf(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,of).pipe(T(t=>this.createUrlTree(zp(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(bd(t=>{if(t instanceof jp)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Fp)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,of).pipe(T(e=>this.createUrlTree(zp(e),t.queryParams,t.fragment))).pipe(bd(t=>{if(t instanceof Fp)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Sf([],{[of]:t}):t;return new wf(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(T(t=>new Sf([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return j(r).pipe(Ed(r=>{const i=n.children[r],s=Op(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(T(t=>({segment:t,outlet:r})))}),pd((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?yd((e,n)=>t(e,n,r)):y,Cd(1),n?Dd(e):Td(()=>new ed))}())}expandSegment(t,e,n,r,i,s){return j(n).pipe(Ed(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(bd(t=>{if(t instanceof Fp)return $h(null);throw t}))),Pd(t=>!!t),bd((t,n)=>{if(t instanceof ed||"EmptyError"===t.name){if(Lp(e,r,i))return $h(new Sf([],{}));throw new Fp(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Pp(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Mp(e):Mp(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Vp(i):this.lineralizeSegments(n,i).pipe(B(n=>{const i=new Sf(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:l}=Dp(e,r,i);if(!o)return Mp(e);const c=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?Vp(c):this.lineralizeSegments(r,c).pipe(B(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?$h(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(T(t=>(n._loadedConfig=t,new Sf(r,{})))):$h(new Sf(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=Dp(e,n,r);if(!s)return Mp(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(B(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:l}=Rp(e,o,u,s),c=new Sf(a.segments,a.children);if(0===l.length&&c.hasChildren())return this.expandChildren(r,s,c).pipe(T(t=>new Sf(o,t)));if(0===s.length&&0===l.length)return $h(new Sf(o,{}));const h=Ip(n)===i;return this.expandSegment(r,c,s,l,h?of:i,!0).pipe(T(t=>new Sf(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?$h(new _p(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?$h(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(B(n=>n?this.configLoader.load(t.injector,e).pipe(T(t=>(e._loadedConfig=t,t))):function(t){return new v(e=>e.error(lf(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):$h(new _p([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?$h(r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&vp(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!vp(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return gf(s)})).pipe(Sp(),Fd(t=>{if(!bp(t))return;const e=lf(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),T(t=>!0===t)):$h(!0)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return $h(n);if(r.numberOfChildren>1||!r.children.primary)return Up(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new wf(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return mf(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return mf(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Sf(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function zp(t){const e={};for(const n of Object.keys(t.children)){const r=zp(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Sf(t.segments.concat(e.segments),e.children)}return t}(new Sf(t.segments,e))}class qp{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Hp{constructor(t,e){this.component=t,this.route=e}}function Gp(t,e,n){const r=t._root;return Wp(r,e?e._root:null,n,[r.value])}function $p(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Wp(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Gf(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Cf(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Cf(t.url,e.url)||!hf(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ep(t,e)||!hf(t.queryParams,e.queryParams);case"paramsChange":default:return!ep(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new qp(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Wp(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Hp(a.outlet.component,o))}else o&&Kp(e,a,i),i.canActivateChecks.push(new qp(r)),Wp(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),mf(s,(t,e)=>Kp(t,n.getContext(e),i)),i}function Kp(t,e,n){const r=Gf(t),i=t.value;mf(r,(t,r)=>{Kp(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Hp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Yp{}function Qp(t){return new v(e=>e.error(t))}class Zp{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=Rp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,of);if(null===e)return null;const n=new Qf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},of,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Hf(n,e),i=new Zf(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Yf(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=Op(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=function(t){const e=[];for(const n of t){if(!Xp(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===of?-1:e.value.outlet===of?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Lp(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Pp(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?pf(n).parameters:{};i=new Qf(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,em(t),Ip(t),t.component,t,Jp(e),tm(e)+n.length,nm(t))}else{const r=Dp(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new Qf(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,em(t),Ip(t),t.component,t,Jp(e),tm(e)+s.length,nm(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:l}=Rp(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===l.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Hf(i,t)]}if(0===a.length&&0===l.length)return[new Hf(i,[])];const c=Ip(t)===r,h=this.processSegment(a,u,l,c?of:r);return null===h?null:[new Hf(i,h)]}}function Xp(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Jp(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function tm(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function em(t){return t.data||{}}function nm(t){return t.resolve||{}}function rm(t){return od(e=>{const n=t(e);return n?j(n).pipe(T(()=>e)):$h(e)})}class im extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const sm=new Wn("ROUTES");class om{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(T(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new _p(ff(r.injector.get(sm,void 0,St.Self|St.Optional)).map(Tp),r)}),bd(t=>{throw e._loader$=void 0,t}));return e._loader$=new Q(n,()=>new C).pipe(W()),e._loader$}loadModuleFactory(t){return"string"==typeof t?j(this.loader.load(t)):gf(t()).pipe(B(t=>t instanceof lu?$h(t):j(this.compiler.compileModuleAsync(t))))}}class am{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new um,this.attachRef=null}}class um{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new am,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class lm{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function cm(t){throw t}function hm(t,e,n){return e.parse("/")}function dm(t,e){return $h(null)}let fm=(()=>{class t{constructor(t,e,n,r,i,s,o,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new C,this.errorHandler=cm,this.malformedUriErrorHandler=hm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:dm,afterPreactivation:dm},this.urlHandlingStrategy=new lm,this.routeReuseStrategy=new im,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=i.get(uu),this.console=i.get(sl);const u=i.get(_l);this.isNgZoneEnabled=u instanceof _l&&_l.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new wf(new Sf([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new om(s,o,t=>this.triggerEvent(new Xd(t)),t=>this.triggerEvent(new Jd(t))),this.routerState=Wf(this.currentUrlTree,this.rootComponentType),this.transitions=new Wh({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(yd(t=>0!==t.id),T(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),od(t=>{let n=!1,r=!1;return $h(t).pipe(Fd(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),od(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return $h(t).pipe(od(t=>{const n=this.transitions.getValue();return e.next(new qd(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?rd:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,od(t=>function(t,e,n,r,i){return new Bp(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(T(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Fd(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return B(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new Zp(t,e,n,r,i,s).recognize();return null===o?Qp(new Yp):$h(o)}catch(o){return Qp(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(T(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Fd(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Wd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new qd(n,this.serializeUrl(r),i,s);e.next(a);const u=Wf(r,this.rootComponentType).snapshot;return $h(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),rd}),rm(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Fd(t=>{const e=new Kd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),T(t=>Object.assign(Object.assign({},t),{guards:Gp(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return B(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?$h(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return j(t).pipe(B(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?$h(s.map(s=>{const o=$p(s,e,i);let a;if(function(t){return t&&vp(t.canDeactivate)}(o))a=gf(o.canDeactivate(t,e,n,r));else{if(!vp(o))throw new Error("Invalid CanDeactivate guard");a=gf(o(t,e,n,r))}return a.pipe(Pd())})).pipe(Sp()):$h(!0)}(t.component,t.route,n,e,r)),Pd(t=>!0!==t,!0))}(o,r,i,t).pipe(B(n=>n&&"boolean"==typeof n?function(t,e,n,r){return j(e).pipe(Ed(e=>nd(function(t,e){return null!==t&&e&&e(new tf(t)),$h(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new nf(t)),$h(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>sd(()=>$h(e.guards.map(i=>{const s=$p(i,e.node,n);let o;if(function(t){return t&&vp(t.canActivateChild)}(s))o=gf(s.canActivateChild(r,t));else{if(!vp(s))throw new Error("Invalid CanActivateChild guard");o=gf(s(r,t))}return o.pipe(Pd())})).pipe(Sp())));return $h(i).pipe(Sp())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?$h(r.map(r=>sd(()=>{const i=$p(r,e,n);let s;if(function(t){return t&&vp(t.canActivate)}(i))s=gf(i.canActivate(e,t));else{if(!vp(i))throw new Error("Invalid CanActivate guard");s=gf(i(e,t))}return s.pipe(Pd())}))).pipe(Sp()):$h(!0)}(t,e.route,n))),Pd(t=>!0!==t,!0))}(r,s,t,e):$h(n)),T(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Fd(t=>{if(bp(t.guardsResult)){const e=lf(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Yd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),yd(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Gd(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),rm(t=>{if(t.guards.canActivateChecks.length)return $h(t).pipe(Fd(t=>{const e=new Qd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),od(t=>{let n=!1;return $h(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,B(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return $h(t);let s=0;return j(n).pipe(Ed(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return $h({});const s={};return j(i).pipe(B(i=>function(t,e,n,r){const i=$p(t,e,r);return gf(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Fd(t=>{s[i]=t}))),Cd(1),B(()=>Object.keys(s).length===i.length?$h(s):rd))}(t._resolve,t,e,r).pipe(T(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Yf(t,n).resolve),null)))}(t.route,e,r,i)),Fd(()=>s++),Cd(1),B(e=>s===n.length?$h(t):rd))})),Fd({next:()=>n=!0,complete:()=>{if(!n){const n=new Gd(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Fd(t=>{const e=new Zd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),rm(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),T(t=>{const e=function(t,e,n){const r=np(t,e._root,n?n._root:void 0);return new $f(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Fd(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),T(t=>(new gp(s,t.targetRouterState,t.currentRouterState,o).activate(i),t))),Fd({next(){n=!0},complete(){n=!0}}),Vd(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Gd(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),bd(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=bp(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Gd(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new $d(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var i;return rd}));var i,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Cp(t),this.config=t.map(Tp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let l=null;switch(s){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return op(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new up(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return mf(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new up(n,e,r)}(n);if(s.toRoot())return op(e.root,new Sf([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new lp(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new lp(t,t===e.root,0)}const r=ip(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new lp(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?hp(o.segmentGroup,o.index,s.commands):cp(o.segmentGroup,o.index,s.commands);return op(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,l,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=bp(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(bp(t))return yf(this.currentUrlTree,t,e);const n=this.parseUrl(t);return yf(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Hd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,l,c;i?(u=i.resolve,l=i.reject,c=i.promise):c=new Promise((t,e)=>{u=t,l=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(hr(Yn),hr(xf),hr(um),hr(dc),hr(so),hr(Bl),hr(ml),hr(void 0))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),pm=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new C,this.subscription=t.events.subscribe(t=>{t instanceof Hd&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:mm(this.skipLocationChange),replaceUrl:mm(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:mm(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(So(fm),So(Kf),So(ac))},t.\u0275dir=Qt({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&Lo("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(ea("href",e.href,Xr),bo("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[ce]}),t})();function mm(t){return""===t||!!t}let gm=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ru,this.deactivateEvents=new Ru,this.name=r||of,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ym(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(So(um),So(hu),So(Sa),Hn("name"),So(Xa))},t.\u0275dir=Qt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ym{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Kf?this.route:t===um?this.childContexts:this.parent.get(t,e)}}class _m{}class vm{preload(t,e){return $h(null)}}let bm=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new om(e,n,e=>t.triggerEvent(new Xd(e)),e=>t.triggerEvent(new Jd(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(yd(t=>t instanceof Hd),Ed(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(uu);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return j(n).pipe(H(),T(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?$h(e._loadedConfig):this.loader.load(t.injector,e)).pipe(B(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(hr(fm),hr(Bl),hr(ml),hr(so),hr(_m))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),wm=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof qd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Hd&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof sf&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new sf(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(hr(fm),hr(fh),hr(void 0))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const Sm=new Wn("ROUTER_CONFIGURATION"),Em=new Wn("ROUTER_FORROOT_GUARD"),Cm=[dc,{provide:xf,useClass:kf},{provide:fm,useFactory:function(t,e,n,r,i,s,o,a={},u,l){const c=new fm(null,t,e,n,r,i,s,ff(o));if(u&&(c.urlHandlingStrategy=u),l&&(c.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,c),a.enableTracing){const t=Ql();c.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return c},deps:[xf,um,dc,so,Bl,ml,sm,Sm,[class{},new gr],[class{},new gr]]},um,{provide:Kf,useFactory:function(t){return t.routerState.root},deps:[fm]},{provide:Bl,useClass:Hl},bm,vm,class{preload(t,e){return e().pipe(bd(()=>$h(null)))}},{provide:Sm,useValue:{enableTracing:!1}}];function xm(){return new Pl("Router",fm)}let km=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Cm,Am(e),{provide:Em,useFactory:Om,deps:[[fm,new gr,new yr]]},{provide:Sm,useValue:n||{}},{provide:ac,useFactory:Im,deps:[Xl,[new mr(lc),new gr],Sm]},{provide:wm,useFactory:Tm,deps:[fm,fh,Sm]},{provide:_m,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:vm},{provide:Pl,multi:!0,useFactory:xm},[Dm,{provide:Zu,multi:!0,useFactory:Rm,deps:[Dm]},{provide:Pm,useFactory:Nm,deps:[Dm]},{provide:il,multi:!0,useExisting:Pm}]]}}static forChild(e){return{ngModule:t,providers:[Am(e)]}}}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)(hr(Em,8),hr(fm,8))}}),t})();function Tm(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new wm(t,e,n)}function Im(t,e,n={}){return n.useHash?new hc(t,e):new cc(t,e)}function Om(t){return"guarded"}function Am(t){return[{provide:Kn,multi:!0,useValue:t},{provide:sm,multi:!0,useValue:t}]}let Dm=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new C}appInitializer(){return this.injector.get(tc,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(fm),r=this.injector.get(Sm);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?$h(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Sm),n=this.injector.get(bm),r=this.injector.get(wm),i=this.injector.get(fm),s=this.injector.get(Vl);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(hr(so))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function Rm(t){return t.appInitializer.bind(t)}function Nm(t){return t.bootstrapListener.bind(t)}const Pm=new Wn("Router Initializer"),Lm=(t,e,n,r)=>i=>sd(()=>{let s;const o=new Map;return i.pipe(od(r=>{o.clear(),s=r;const i=[];let a=0;for(const u of s)u[e]&&!o.get(u[e])&&(i.push(t.collection(n).doc(u[e]).valueChanges()),o.set(u[e],a),a++);return i.length?Xh(i):$h([])}),T(t=>s.map((n,i)=>{const s=o.get(n[e]);return Object.assign(Object.assign({},n),{[r]:t[s]||null})})),Fd(t=>console.log(`Queried ${t.length}, Joined ${o.size} docs`)))});class Fm extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class jm extends Fm{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let Mm=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Vm extends Mm{constructor(t,e=Mm.now){super(t,()=>Vm.delegate&&Vm.delegate!==this?Vm.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Vm.delegate&&Vm.delegate!==this?Vm.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const Um=new Vm(jm),Bm=Um;function zm(t,e){return new v(e?n=>e.schedule(qm,0,{error:t,subscriber:n}):e=>e.error(t))}function qm({error:t,subscriber:e}){e.error(t)}let Hm=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return $h(this.value);case"E":return zm(this.error);case"C":return id()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function Gm(t,e=0){return function(n){return n.lift(new $m(t,e))}}class $m{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new Wm(t,this.scheduler,this.delay))}}class Wm extends p{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Wm.dispatch,this.delay,new Km(t,this.destination)))}_next(t){this.scheduleMessage(Hm.createNext(t))}_error(t){this.scheduleMessage(Hm.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(Hm.createComplete()),this.unsubscribe()}}class Km{constructor(t,e){this.notification=t,this.destination=e}}class Ym extends jm{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}class Qm extends Vm{}const Zm=new Qm(Ym),Xm=Zm;let Jm=1;const tg=(()=>Promise.resolve())(),eg={};function ng(t){return t in eg&&(delete eg[t],!0)}const rg={setImmediate(t){const e=Jm++;return eg[e]=!0,tg.then(()=>ng(e)&&t()),e},clearImmediate(t){ng(t)}};class ig extends jm{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=rg.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(rg.clearImmediate(e),t.scheduled=void 0)}}class sg extends Vm{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const og=new sg(ig);function ag(t){return!u(t)&&t-parseFloat(t)+1>=0}class ug extends v{constructor(t,e=0,n=og){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!ag(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=og)}static create(t,e=0,n=og){return new ug(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(ug.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class lg{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new ug(e,this.delay,this.scheduler).subscribe(t)}}var cg=n("zIRd");function hg(){}cg.a.registerVersion("firebase","8.0.0","app");class dg{constructor(t,e=Zm){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class fg{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hg,{},hg,hg)),e.pipe(Fd({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class pg{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new dg(Zone.current)),this.insideAngular=t.run(()=>new dg(Zone.current,Um))}}function mg(t){return function(e){return(e=e.lift(new fg(t.ngZone))).pipe(function(t,e=0){return function(n){return n.lift(new lg(t,e))}}(t.outsideAngular),Gm(t.insideAngular))}}const gg=["ngOnDestroy"],yg=new Wn("angularfire2.app.options"),_g=new Wn("angularfire2.app.nameOrConfig"),vg=new Ra("6.0.4");function bg(t,e,n){const r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",cg.a.apps.filter(t=>t&&t.name===r.name)[0]||e.runOutsideAngular(()=>cg.a.initializeApp(t,r))}const wg={provide:class{},useFactory:bg,deps:[yg,_l,[new gr,_g]]};let Sg=(()=>{class t{constructor(t){cg.a.registerVersion("angularfire",vg.full,t.toString()),cg.a.registerVersion("angular",Na.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:yg,useValue:e},{provide:_g,useValue:n}]}}}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)(hr(rl))},providers:[wg]}),t})();function Eg(t,e){return function(t,e=Um){return new v(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot(n)}):r=t.onSnapshot(n),()=>{null!=r&&r()}})}(t,e)}function Cg(t,e){return Eg(t,e).pipe(T(t=>({payload:t,type:"query"})))}function xg(t,e){return Cg(t,e).pipe(T(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function kg(t,e,n){return Cg(t,n).pipe(T(t=>t.payload.docChanges()),pd((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),T(t=>t.map(t=>({type:t.type,payload:t}))))}function Tg(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}n("xsWp");class Ig{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?xg(this.query,this.afs.schedulers.outsideAngular).pipe(T(e=>e.filter(e=>t.indexOf(e.type)>-1)),yd(t=>t.length>0),this.afs.keepUnstableUntilFirst):xg(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(pd((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Tg(t);return kg(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Cg(this.query,this.afs.schedulers.outsideAngular).pipe(T(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return j(this.query.get(t)).pipe(Gm(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Og(this.ref.doc(t),this.afs)}}class Og{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Lg(n,e);return new Ig(r,i,this.afs)}snapshotChanges(){return Eg(this.ref,this.afs.schedulers.outsideAngular).pipe(T(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(T(t=>t.payload.data()))}get(t){return j(this.ref.get(t)).pipe(Gm(this.afs.schedulers.insideAngular))}}class Ag{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?xg(this.query,this.afs.schedulers.outsideAngular).pipe(T(e=>e.filter(e=>t.indexOf(e.type)>-1)),yd(t=>t.length>0),this.afs.keepUnstableUntilFirst):xg(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(pd((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Tg(t);return kg(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return Cg(this.query,this.afs.schedulers.outsideAngular).pipe(T(t=>t.payload.docs.map(t=>t.data())),this.afs.keepUnstableUntilFirst)}get(t){return j(this.query.get(t)).pipe(Gm(this.afs.schedulers.insideAngular))}}const Dg=n("xsWp"),Rg=new Wn("angularfire2.enableFirestorePersistence"),Ng=new Wn("angularfire2.firestore.persistenceSettings"),Pg=new Wn("angularfire2.firestore.settings");function Lg(t,e=(t=>t)){return{query:e(t),ref:t}}let Fg=(()=>{class t{constructor(t,e,n,r,i,s,o){this.schedulers=new pg(s),this.keepUnstableUntilFirst=mg(this.schedulers),this.firestore=s.runOutsideAngular(()=>{const n=bg(t,s,e);"registerFirestore"in Dg&&Dg.registerFirestore(cg.a);const i=n.firestore();return r&&i.settings(r),i}),this.persistenceEnabled$=n&&!dh(i)?s.runOutsideAngular(()=>{try{return j(this.firestore.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(t){return $h(!1)}}):$h(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Lg(n,e),s=this.schedulers.ngZone.run(()=>r);return new Ig(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Ag(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Og(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(hr(yg),hr(_g,8),hr(Rg,8),hr(Pg,8),hr(rl),hr(_l),hr(Ng,8))},t.\u0275prov=ft({factory:function(){return new t(hr(yg),hr(_g,8),hr(Rg,8),hr(Pg,8),hr(rl),hr(_l),hr(Ng,8))},token:t,providedIn:"any"}),t})(),jg=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Rg,useValue:!0},{provide:Ng,useValue:e}]}}}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[Fg]}),t})();class Mg extends C{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Vg(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new w;if(this.isStopped||this.hasError?s=h.EMPTY:(this.observers.push(t),s=new S(this,t)),r&&t.add(t=new Wm(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||Xm).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class Vg{constructor(t,e){this.time=t,this.value=e}}function Ug(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(l){let c;o++,!i||a?(a=!1,i=new Mg(t,e,r),c=i.subscribe(this),s=l.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}})):c=i.subscribe(this),this.add(()=>{o--,c.unsubscribe(),s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}let Bg,zg=(()=>{class t{constructor(t,e,r,i){const s=new pg(i),o=mg(s),a=$h(void 0).pipe(Gm(s.outsideAngular),od(()=>i.runOutsideAngular(()=>n.e(1).then(n.bind(null,"6nsN")))),T(()=>bg(t,i,e)),T(t=>i.runOutsideAngular(()=>t.auth())),Ug({bufferSize:1,refCount:!1}));return dh(r)?this.authState=this.user=this.idToken=this.idTokenResult=$h(null):(a.pipe(Pd()).subscribe(),this.authState=a.pipe(od(t=>t.getRedirectResult().then(()=>t,()=>t)),od(t=>i.runOutsideAngular(()=>new v(t.onAuthStateChanged.bind(t)))),o),this.user=a.pipe(od(t=>t.getRedirectResult().then(()=>t,()=>t)),od(t=>i.runOutsideAngular(()=>new v(t.onIdTokenChanged.bind(t)))),o),this.idToken=this.user.pipe(od(t=>t?j(t.getIdToken()):$h(null))),this.idTokenResult=this.user.pipe(od(t=>t?j(t.getIdTokenResult()):$h(null)))),((t,e,n)=>new Proxy(t,{get:(r,i)=>n.runOutsideAngular(()=>{if(t[i])return t[i];if(gg.includes(i))return()=>{};const r=e.toPromise().then(t=>{const e=t&&t[i];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>r[e],apply:(t,e,n)=>r.then(t=>t&&t(...n))})})}))(this,a,i)}}return t.\u0275fac=function(e){return new(e||t)(hr(yg),hr(_g,8),hr(rl),hr(_l))},t.\u0275prov=ft({factory:function(){return new t(hr(yg),hr(_g,8),hr(rl),hr(_l))},token:t,providedIn:"any"}),t})(),qg=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[zg]}),t})(),Hg=(()=>{class t{constructor(t,e){this.db=t,this.afAuth=e,this.memberGroupsArr=[],this.UserId="",this.currentUser$=id(),this.getUser()}getUser(){this.afAuth.authState.subscribe(t=>{if(null==t?void 0:t.uid){let e=t.uid,n=this.db.collection("users").doc(e);this.currentUser$=n.valueChanges(),this.currentUser$.subscribe(t=>((null==t?void 0:t.memberingroups)&&(this.memberGroupsArr=null==t?void 0:t.memberingroups),this.UserId=t?t.uid:"",t))}else this.currentUser$=id()})}addUser(t,e,n){this.db.collection("users").doc(t).get().subscribe(r=>{r.exists||this.db.collection("users").doc(t).set({uid:t,displayName:e,email:n,memberingroups:[]})})}addUser2Group(t){this.afAuth.authState.subscribe(e=>{if((null==e?void 0:e.uid)&&-1===this.memberGroupsArr.indexOf(t)){let n=this.db.collection("users").doc(e.uid);this.memberGroupsArr.push(t),n.update({memberingroups:this.memberGroupsArr})}})}remUserGroup(t){this.afAuth.authState.subscribe(e=>{if(null==e?void 0:e.uid){let n=this.db.collection("users").doc(e.uid);this.memberGroupsArr.splice(this.memberGroupsArr.indexOf(t),1),n.update({memberingroups:this.memberGroupsArr})}})}}return t.\u0275fac=function(e){return new(e||t)(hr(Fg),hr(zg))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Gg=(()=>{class t{constructor(t,e,n){this.firestore=t,this.afAuth=e,this.usrService=n,this.gruppen$=id(),this.userId="",this.afAuth.authState.subscribe(e=>{(null==e?void 0:e.uid)?(this.userId=e.uid,this.gruppen$=t.collection("gruppen",t=>t.orderBy("Gruppenname")).valueChanges({idField:"id"})):(this.userId="",this.gruppen$=id())})}getUsersGroups(){return this.firestore.collection("gruppen",t=>t.orderBy("Gruppenname")).valueChanges({idField:"id"}).pipe(T(t=>t.filter(t=>-1!==this.usrService.memberGroupsArr.indexOf(t.id))))}getGroupbyId(t){return this.firestore.collection("gruppen",e=>e.where("id","==",t).orderBy("Gruppenname")).valueChanges({IdField:"id"})}addGruppe(t,e){this.firestore.collection("gruppen").add({Gruppenname:t,Beschreibung:e,userUid:this.userId})}deleteGruppeById(t){this.firestore.doc("gruppen/"+t).delete()}updateGruppeById(t){this.firestore.doc("gruppen/"+t.id).update({Gruppenname:t.Gruppenname})}}return t.\u0275fac=function(e){return new(e||t)(hr(Fg),hr(zg),hr(Hg))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$g=(()=>{class t{constructor(t,e,n,r){this.firestore=t,this.afAuth=e,this.gruppenService=n,this.usrService=r,this.todos$=id(),this.userUid="",this.afAuth.authState.subscribe(e=>{(null==e?void 0:e.uid)?(this.userUid=e.uid,this.todos$=t.collection("todos",t=>t.orderBy("dueDate")).valueChanges({idField:"id"}).pipe(Lm(t,"group","gruppen","groupobj"),Lm(t,"subject","fach","subjectobj"))):(this.userUid="",this.todos$=id())})}getTodosFilterd(t){return""!=this.userUid?this.todos$.pipe(T(e=>e.filter(e=>!0===t&&e.doneDate||!1===t&&!e.doneDate))):id()}addTodo(t,e,n,r,i){this.firestore.collection("todos").add({dueDate:i,subject:t,group:e,description:n,category:r,userUid:this.userUid})}deleteTodoById(t){this.firestore.doc("todos/"+t).delete()}updateTodoById(t){this.firestore.doc("todos/"+t.id).update({description:t.description,dueDate:t.dueDate})}toggleDoneStateById(t){t.id&&this.firestore.doc("todos/"+t.id).update({doneDate:t.doneDate?null:new Date})}toggleDoneStateById4User(t){t.id&&(t.doneByUser||(t.doneByUser=[]),-1===t.doneByUser.indexOf(this.usrService.UserId)?t.doneByUser.push(this.usrService.UserId):t.doneByUser.splice(t.doneByUser.indexOf(this.usrService.UserId),1),this.firestore.doc("todos/"+t.id).update({doneByUser:t.doneByUser}))}}return t.\u0275fac=function(e){return new(e||t)(hr(Fg),hr(zg),hr(Gg),hr(Hg))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Wg=(()=>{class t{constructor(t,e){this.firestore=t,this.afAuth=e,this.fach$=id(),this.userId="",this.afAuth.authState.subscribe(e=>{(null==e?void 0:e.uid)?(this.userId=e.uid,this.fach$=t.collection("fach",t=>t.orderBy("Fachname")).valueChanges({idField:"id"})):(this.userId="",this.fach$=id())})}getFachbyId(t){return this.firestore.collection("fach",e=>e.where("id","==",t).orderBy("Fachname")).valueChanges({IdField:"id"})}addFach(t,e){this.firestore.collection("fach").add({Fachname:t,Fachbeschreibung:e,userUid:this.userId})}deleteFachById(t){this.firestore.doc("fach/"+t).delete()}updateFachById(t){this.firestore.doc("fach/"+t.id).update({Fachname:t.Fachname})}}return t.\u0275fac=function(e){return new(e||t)(hr(Fg),hr(zg))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Kg(t){return null!=t&&"false"!=`${t}`}function Yg(t){return Array.isArray(t)?t:[t]}function Qg(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Zg(t){return t instanceof ka?t.nativeElement:t}function Xg(t,e,n,i){return r(n)&&(i=n,n=void 0),i?Xg(t,e,n).pipe(T(t=>u(t)?i(...t):i(t))):new v(r=>{Jg(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function Jg(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)Jg(t[s],e,n,r,i)}r.add(s)}class ty{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new ey(t,this.durationSelector))}}class ey extends V{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=U(n,new M(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function ny(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function ry(t,e=Bm){return n=()=>function(t=0,e,n){let r=-1;return ag(e)?r=Number(e)<1?1:Number(e):k(e)&&(n=e),k(n)||(n=Bm),new v(e=>{const i=ag(t)?t:+t-n.now();return n.schedule(ny,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new ty(n))};var n}function iy(t){return e=>e.lift(new sy(t))}class sy{constructor(t){this.notifier=t}call(t,e){const n=new oy(t),r=U(this.notifier,new M(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class oy extends V{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}try{Bg="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(tI){Bg=!1}let ay,uy=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Bg)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(hr(rl))},t.\u0275prov=ft({factory:function(){return new t(hr(rl))},token:t,providedIn:"root"}),t})(),ly=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)}}),t})();const cy=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function hy(){if(ay)return ay;if("object"!=typeof document||!document)return ay=new Set(cy),ay;let t=document.createElement("input");return ay=new Set(cy.filter(e=>(t.setAttribute("type",e),t.type===e))),ay}let dy,fy,py;function my(t){return function(){if(null==dy&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>dy=!0}))}finally{dy=dy||!1}return dy}()?t:!!t.capture}function gy(){if(null==fy){if("object"!=typeof document||!document)return fy=!1,fy;if("scrollBehavior"in document.documentElement.style)fy=!0;else{const t=Element.prototype.scrollTo;fy=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return fy}const yy=new Wn("cdk-dir-doc",{providedIn:"root",factory:function(){return dr(Zl)}});let _y=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new Ru,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(hr(yy,8))},t.\u0275prov=ft({factory:function(){return new t(hr(yy,8))},token:t,providedIn:"root"}),t})(),vy=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)}}),t})();function by(t){return t&&"function"==typeof t.connect}class wy{applyChanges(t,e,n,r,i){t.forEachOperation((t,r,s)=>{let o,a;if(null==t.previousIndex){const i=n(t,r,s);o=e.createEmbeddedView(i.templateRef,i.context,i.index),a=1}else null==s?(e.remove(r),a=3):(o=e.get(r),e.move(o,s),a=2);i&&i({context:null==o?void 0:o.context,operation:a,record:t})})}detach(){}}const Sy=new Wn("_ViewRepeater");let Ey=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new C,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new v(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(ry(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):$h()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(yd(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=Zg(e),r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Xg(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(hr(_l),hr(uy),hr(Zl,8))},t.\u0275prov=ft({factory:function(){return new t(hr(_l),hr(uy),hr(Zl,8))},token:t,providedIn:"root"}),t})(),Cy=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new C,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(ry(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(hr(uy),hr(_l),hr(Zl,8))},t.\u0275prov=ft({factory:function(){return new t(hr(uy),hr(_l),hr(Zl,8))},token:t,providedIn:"root"}),t})(),xy=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)}}),t})(),ky=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[vy,ly,xy],vy,xy]}),t})();class Ty{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Iy extends Ty{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class Oy extends Ty{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Ay extends Ty{constructor(t){super(),this.element=t instanceof ka?t.nativeElement:t}}class Dy{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Iy?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Oy?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Ay?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Ry extends Dy{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Ny=(()=>{class t extends Dy{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new Ru,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(So(Sa),So(hu),So(Zl))},t.\u0275dir=Qt({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ao]}),t})(),Py=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)}}),t})();const Ly=gy();class Fy{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Qg(-this._previousScrollPosition.left),t.style.top=Qg(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Ly&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ly&&(e.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class jy{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class My{enable(){}disable(){}attach(){}}function Vy(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function Uy(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class By{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();Vy(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let zy=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new My,this.close=t=>new jy(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new Fy(this._viewportRuler,this._document),this.reposition=t=>new By(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(hr(Ey),hr(Cy),hr(_l),hr(Zl))},t.\u0275prov=ft({factory:function(){return new t(hr(Ey),hr(Cy),hr(_l),hr(Zl))},token:t,providedIn:"root"}),t})();class qy{constructor(t){if(this.scrollStrategy=new My,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class Hy{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class Gy{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let $y=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(hr(Zl))},t.\u0275prov=ft({factory:function(){return new t(hr(Zl))},token:t,providedIn:"root"}),t})(),Wy=(()=>{class t extends $y{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(hr(Zl))},t.\u0275prov=ft({factory:function(){return new t(hr(Zl))},token:t,providedIn:"root"}),t})(),Ky=(()=>{class t extends $y{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(hr(Zl),hr(uy))},t.\u0275prov=ft({factory:function(){return new t(hr(Zl),hr(uy))},token:t,providedIn:"root"}),t})();const Yy=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let Qy=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Yy){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),Yy?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(hr(Zl),hr(uy))},t.\u0275prov=ft({factory:function(){return new t(hr(Zl),hr(uy))},token:t,providedIn:"root"}),t})();class Zy{constructor(t,e,n,r,i,s,o,a,u){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=u,this._backdropElement=null,this._backdropClick=new C,this._attachments=new C,this._detachments=new C,this._locationChanges=h.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new C,this._outsidePointerEvents=new C,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(cd(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Qg(this._config.width),t.height=Qg(this._config.height),t.minWidth=Qg(this._config.minWidth),t.minHeight=Qg(this._config.minHeight),t.maxWidth=Qg(this._config.maxWidth),t.maxHeight=Qg(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;Yg(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(iy($(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const Xy="cdk-overlay-connected-position-bounding-box",Jy=/([A-Za-z%]+)$/;class t_{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new C,this._resizeSubscription=h.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Xy),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),u=this._getOverlayFit(a,e,n,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(u,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<u.visibleArea)&&(i={overlayFit:u,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&e_(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Xy),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){const i=r_(e);let{x:s,y:o}=t,a=this._getOffset(r,"x"),u=this._getOffset(r,"y");a&&(s+=a),u&&(o+=u);let l=0-o,c=o+i.height-n.height,h=this._subtractOverflows(i.width,0-s,s+i.width-n.width),d=this._subtractOverflows(i.height,l,c),f=h*d;return{visibleArea:f,isCompletelyWithinViewport:i.width*i.height===f,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=n_(this._overlayRef.getConfig().minHeight),o=n_(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=r_(e),i=this._viewportRect,s=Math.max(t.x+r.width-i.width,0),o=Math.max(t.y+r.height-i.height,0),a=Math.max(i.top-n.top-t.y,0),u=Math.max(i.left-n.left-t.x,0);let l=0,c=0;return l=r.width<=i.width?u||-s:t.x<this._viewportMargin?i.left-n.left-t.x:0,c=r.height<=i.height?a||-o:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:l,y:c},{x:t.x+l,y:t.y+c}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new Gy(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,u,l;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)l=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)u=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,u=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-r/2)}return{top:s,left:u,bottom:o,right:l,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=Qg(n.height),r.top=Qg(n.top),r.bottom=Qg(n.bottom),r.width=Qg(n.width),r.left=Qg(n.left),r.right=Qg(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=Qg(t)),i&&(r.maxWidth=Qg(i))}this._lastBoundingBoxSize=n,e_(this._boundingBox.style,r)}_resetBoundingBoxStyles(){e_(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){e_(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();e_(n,this._getExactOverlayY(e,t,r)),e_(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),u=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),u&&(o+=`translateY(${u}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=Qg(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=Qg(s.maxWidth):i&&(n.maxWidth="")),e_(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=Qg(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Qg(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Uy(t,n),isOriginOutsideView:Vy(t,n),isOverlayClipped:Uy(e,n),isOverlayOutsideView:Vy(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Yg(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof ka)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function e_(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function n_(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(Jy);return n&&"px"!==n?null:parseFloat(e)}return t||null}function r_(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class i_{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new t_(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new Hy(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const s_="cdk-global-overlay-wrapper";class o_{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(s_),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),u=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(s_),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let a_=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new o_}connectedTo(t,e,n){return new i_(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new t_(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(hr(Cy),hr(Zl),hr(uy),hr(Qy))},t.\u0275prov=ft({factory:function(){return new t(hr(Cy),hr(Zl),hr(uy),hr(Qy))},token:t,providedIn:"root"}),t})(),u_=0,l_=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u,l,c){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=u,this._location=l,this._outsideClickDispatcher=c}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new qy(t);return i.direction=i.direction||this._directionality.value,new Zy(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+u_++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Vl)),new Ry(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(hr(zy),hr(Qy),hr(Sa),hr(a_),hr(Wy),hr(so),hr(_l),hr(Zl),hr(_y),hr(dc),hr(Ky))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const c_={provide:new Wn("cdk-connected-overlay-scroll-strategy"),deps:[l_],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let h_=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[l_,c_],imports:[[vy,Py,ky],ky]}),t})();class d_{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new f_(t,this.dueTime,this.scheduler))}}class f_ extends p{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(p_,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function p_(t){t.debouncedNext()}let m_=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:function(){return new t},token:t,providedIn:"root"}),t})(),g_=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Zg(t);return new v(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new C,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(hr(m_))},t.\u0275prov=ft({factory:function(){return new t(hr(m_))},token:t,providedIn:"root"}),t})(),y_=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new Ru,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Kg(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(function(t,e=Bm){return n=>n.lift(new d_(t,e))}(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(So(g_),So(ka),So(_l))},t.\u0275dir=Qt({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),__=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[m_]}),t})(),v_=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(tI){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===w_(e))return!1;if(!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=w_(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||b_(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(hr(uy))},t.\u0275prov=ft({factory:function(){return new t(hr(uy))},token:t,providedIn:"root"}),t})();function b_(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function w_(t){if(!b_(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class S_{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const e=this._getFirstTabbableElement(t);return null==e||e.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(cd(1)).subscribe(t)}}let E_=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new S_(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(hr(v_),hr(_l),hr(Zl))},t.\u0275prov=ft({factory:function(){return new t(hr(v_),hr(_l),hr(Zl))},token:t,providedIn:"root"}),t})();function C_(t){return 0===t.buttons}function x_(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}"undefined"!=typeof Element&&Element;const k_=new Wn("cdk-focus-monitor-default-options"),T_=my({passive:!0,capture:!0});let I_=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=C_(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{x_(t)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=O_(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=O_(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=Zg(t);if(!this._platform.isBrowser||1!==n.nodeType)return $h(null);const r=function(t){if(function(){if(null==py){const t="undefined"!=typeof document?document.head:null;py=!(!t||!t.createShadowRoot&&!t.attachShadow)}return py}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const s={checkChildren:e,subject:new C,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=Zg(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=Zg(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=O_(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===O_(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,T_),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,T_)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,T_),t.addEventListener("mousedown",this._documentMousedownListener,T_),t.addEventListener("touchstart",this._documentTouchstartListener,T_),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,T_),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,T_),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,T_),t.removeEventListener("mousedown",this._documentMousedownListener,T_),t.removeEventListener("touchstart",this._documentTouchstartListener,T_),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(hr(_l),hr(uy),hr(Zl,8),hr(k_,8))},t.\u0275prov=ft({factory:function(){return new t(hr(_l),hr(uy),hr(Zl,8),hr(k_,8))},token:t,providedIn:"root"}),t})();function O_(t){return t.composedPath?t.composedPath()[0]:t.target}const A_="cdk-high-contrast-black-on-white",D_="cdk-high-contrast-white-on-black",R_="cdk-high-contrast-active";let N_=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(R_),t.remove(A_),t.remove(D_);const e=this.getHighContrastMode();1===e?(t.add(R_),t.add(A_)):2===e&&(t.add(R_),t.add(D_))}}}return t.\u0275fac=function(e){return new(e||t)(hr(uy),hr(Zl))},t.\u0275prov=ft({factory:function(){return new t(hr(uy),hr(Zl))},token:t,providedIn:"root"}),t})(),P_=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)(hr(N_))},imports:[[ly,__]]}),t})();const L_=new Ra("11.2.5");class F_{}const j_="*";function M_(t,e){return{type:7,name:t,definitions:e,options:{}}}function V_(t,e=null){return{type:4,styles:e,timings:t}}function U_(t,e=null){return{type:2,steps:t,options:e}}function B_(t){return{type:6,styles:t,offset:null}}function z_(t,e,n){return{type:0,name:t,styles:e,options:n}}function q_(t){return{type:5,steps:t}}function H_(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function G_(t=null){return{type:9,options:t}}function $_(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function W_(t){Promise.resolve(null).then(t)}class K_{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){W_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Y_{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?W_(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Q_(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Z_(t){switch(t.length){case 0:return new K_;case 1:return t[0];default:return new Y_(t)}}function X_(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,l=null;if(r.forEach(t=>{const n=t.offset,r=n==u,c=r&&l||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case j_:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}c[r]=a}),r||a.push(c),l=c,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function J_(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&tv(n,"start",t)));break;case"done":t.onDone(()=>r(n&&tv(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&tv(n,"destroy",t)))}}function tv(t,e,n){const r=n.totalTime,i=ev(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function ev(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function nv(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function rv(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let iv=(t,e)=>!1,sv=(t,e)=>!1,ov=(t,e,n)=>[];const av=Q_();(av||"undefined"!=typeof Element)&&(iv=(t,e)=>t.contains(e),sv=(()=>{if(av||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):sv}})(),ov=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let uv=null,lv=!1;function cv(t){uv||(uv=("undefined"!=typeof document?document.body:null)||{},lv=!!uv.style&&"WebkitAppearance"in uv.style);let e=!0;return uv.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in uv.style,!e&&lv)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in uv.style),e}const hv=sv,dv=iv,fv=ov;function pv(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let mv=(()=>{class t{validateStyleProperty(t){return cv(t)}matchesElement(t,e){return hv(t,e)}containsElement(t,e){return dv(t,e)}query(t,e,n){return fv(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new K_(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),gv=(()=>{class t{}return t.NOOP=new mv,t})();const yv="ng-enter",_v="ng-leave",vv="ng-trigger",bv=".ng-trigger",wv="ng-animating",Sv=".ng-animating";function Ev(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Cv(parseFloat(e[1]),e[2])}function Cv(t,e){switch(e){case"s":return 1e3*t;default:return t}}function xv(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Cv(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=Cv(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function kv(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Tv(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else kv(t,n);return n}function Iv(t,e,n){return n?e+":"+n+";":""}function Ov(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Iv(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Iv(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Av(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Mv(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Q_()&&Ov(t))}function Dv(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Mv(e);t.style[n]=""}),Q_()&&Ov(t))}function Rv(t){return Array.isArray(t)?1==t.length?t[0]:U_(t):t}const Nv=new RegExp("{{\\s*(.+?)\\s*}}","g");function Pv(t){let e=[];if("string"==typeof t){let n;for(;n=Nv.exec(t);)e.push(n[1]);Nv.lastIndex=0}return e}function Lv(t,e,n){const r=t.toString(),i=r.replace(Nv,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function Fv(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const jv=/-+([a-z0-9])/g;function Mv(t){return t.replace(jv,(...t)=>t[1].toUpperCase())}function Vv(t,e){return 0===t||0===e}function Uv(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=zv(t,e)})}}return e}function Bv(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function zv(t,e){return window.getComputedStyle(t)[e]}const qv="*";function Hv(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(Wv(i,o)),"<"!=s[0]||i==qv&&o==qv||e.push(Wv(o,i))}(t,n,e)):n.push(t),n}const Gv=new Set(["true","1"]),$v=new Set(["false","0"]);function Wv(t,e){const n=Gv.has(t)||$v.has(t),r=Gv.has(e)||$v.has(e);return(i,s)=>{let o=t==qv||t==i,a=e==qv||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?Gv.has(t):$v.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?Gv.has(e):$v.has(e)),o&&a}}const Kv=new RegExp("s*:selfs*,?","g");function Yv(t,e,n){return new Qv(t).build(e,n)}class Qv{constructor(t){this._driver=t}build(t,e){const n=new Zv(e);return this._resetContextStyleTimingState(n),Bv(this,Rv(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(Xv(t)){const e=t;Object.keys(e).forEach(t=>{Pv(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Fv(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Bv(this,Rv(t.animation),e);return{type:1,matchers:Hv(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Jv(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Bv(this,t,e)),options:Jv(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Bv(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Jv(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return tb(xv(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=tb(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||xv(r,e),tb(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:B_({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=B_(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==j_?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Xv(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=Pv(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Xv(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Xv(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),l=0;return null!=u&&(r++,l=n.offset=u),o=o||l<0||l>1,s=s||l<a,a=l,i.push(l),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const l=t.steps.length;let c=0;r>0&&r<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(c=1/(l-1));const h=l-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const s=c>0?r==h?1:c*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Bv(this,Rv(t.animation),e),options:Jv(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Jv(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Jv(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Kv,"")),[t=t.replace(/@\*/g,bv).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Sv),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,nv(e.collectedStyles,e.currentQuerySelector,{});const o=Bv(this,Rv(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Jv(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:xv(t.timings,e.errors,!0);return{type:12,animation:Bv(this,Rv(t.animation),e),timings:n,options:null}}}class Zv{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Xv(t){return!Array.isArray(t)&&"object"==typeof t}function Jv(t){var e;return t?(t=kv(t)).params&&(t.params=(e=t.params)?kv(e):null):t={},t}function tb(t,e,n){return{duration:t,delay:e,easing:n}}function eb(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class nb{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const rb=new RegExp(":enter","g"),ib=new RegExp(":leave","g");function sb(t,e,n,r,i,s={},o={},a,u,l=[]){return(new ob).buildKeyframes(t,e,n,r,i,s,o,a,u,l)}class ob{buildKeyframes(t,e,n,r,i,s,o,a,u,l=[]){u=u||new nb;const c=new ub(t,e,u,r,i,l,[]);c.options=a,c.currentTimeline.setStyles([s],null,c.errors,a),Bv(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,c.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[eb(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Ev(n.duration):null,s=null!=n.delay?Ev(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Bv(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ab);const t=Ev(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Bv(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Ev(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),Bv(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return xv(e.params?Lv(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Ev(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ab);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),Bv(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const l=u.currentTime;Bv(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}const ab={};class ub{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ab,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new lb(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Ev(n.duration)),null!=n.delay&&(r.delay=Ev(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Lv(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new ub(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=ab,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new cb(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(rb,"."+this._enterClassName)).replace(ib,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class lb{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new lb(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||j_,this._currentKeyframe[t]=j_}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=j_})):Tv(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Lv(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:j_),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=Tv(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==j_&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?Fv(t.values()):[],s=e.size?Fv(e.values()):[];if(n){const t=r[0],e=kv(t);t.offset=0,e.offset=1,r=[t,e]}return eb(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class cb extends lb{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=Tv(t[0],!1);a.offset=0,i.push(a);const u=Tv(t[0],!1);u.offset=hb(o),i.push(u);const l=t.length-1;for(let r=1;r<=l;r++){let o=Tv(t[r],!1);o.offset=hb((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return eb(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function hb(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class db{}class fb extends db{normalizePropertyName(t,e){return Mv(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(pb[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const pb=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function mb(t,e,n,r,i,s,o,a,u,l,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:d}}const gb={};class yb{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,l){const c=[],h=this.ast.options&&this.ast.options.params||gb,d=this.buildStyles(n,o&&o.params||gb,c),f=a&&a.params||gb,p=this.buildStyles(r,f,c),m=new Set,g=new Map,y=new Map,_="void"===r,v={params:Object.assign(Object.assign({},h),f)},b=l?[]:sb(t,e,this.ast.animation,i,s,d,p,v,u,c);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return mb(e,this._triggerName,n,r,_,d,p,[],[],g,y,w,c);b.forEach(t=>{const n=t.element,r=nv(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=nv(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const S=Fv(m.values());return mb(e,this._triggerName,n,r,_,d,p,b,S,g,y,w)}}class _b{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=kv(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=Lv(s,r,e)),n[t]=s})}}),n}}class vb{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new _b(t.style,t.options&&t.options.params||{})}),bb(this.states,"true","1"),bb(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new yb(t,e,this.states))}),this.fallbackTransition=new yb(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function bb(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const wb=new nb;class Sb{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Yv(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=X_(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=sb(this._driver,e,i,yv,_v,{},{},n,wb,r),s.forEach(t=>{const e=nv(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,j_)})});const a=Z_(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=ev(e,"","","");return J_(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Eb="ng-animate-queued",Cb="ng-animate-disabled",xb=".ng-animate-disabled",kb=[],Tb={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ib={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Ob{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=kv(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Ab="void",Db=new Ob(Ab);class Rb{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Vb(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=nv(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=nv(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Vb(t,vv),Vb(t,"ng-trigger-"+e),a[e]=Db),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new Pb(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Vb(t,vv),Vb(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new Ob(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=Db),u.value!==Ab&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Dv(t,n),Av(t,r)})}return}const l=nv(this._engine.playersByElement,t,[]);l.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!c){if(!r)return;c=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(Vb(t,Eb),s.onStart(()=>{Ub(t,Eb)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),l.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,bv,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Ab,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Z_(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||Db,a=new Ob(Ab),u=new Pb(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Tb||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Vb(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=ev(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,J_(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Nb{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Rb(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Lb(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Lb(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Vb(t,Cb)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ub(t,Cb))}removeNode(t,e,n,r){if(Lb(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Lb(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,bv,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Sv,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Z_(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Tb,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,xb)&&this.markElementAsDisabled(t,!1),this.driver.query(t,xb,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Vb(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Z_(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new nb,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,l=new Set;this.disabledNodes.forEach(t=>{l.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)l.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Mb(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=yv+p++;f.set(e,n),t.forEach(t=>Vb(t,n))});const m=[],g=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const _=new Map,v=Mb(h,Array.from(g));v.forEach((t,e)=>{const n=_v+p++;_.set(e,n),t.forEach(t=>Vb(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>Ub(t,n))}),v.forEach((t,e)=>{const n=_.get(e);t.forEach(t=>Ub(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(b.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const l=!c||!this.driver.containsElement(c,i),h=_.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,l);if(p.errors&&p.errors.length)w.push(p);else{if(l)return e.onStart(()=>Dv(i,p.fromStyles)),e.onDestroy(()=>Av(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>Dv(i,p.fromStyles)),e.onDestroy(()=>Av(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>nv(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,E=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{nv(S,e,[]).push(t),t.destroy()})});const C=m.filter(t=>qb(t,a,u)),x=new Map;jb(x,this.driver,y,u,j_).forEach(t=>{qb(t,a,u)&&C.push(t)});const k=new Map;d.forEach((t,e)=>{jb(k,this.driver,new Set(t),a,"!")}),C.forEach(t=>{const e=x.get(t),n=k.get(t);x.set(t,Object.assign(Object.assign({},e),n))});const T=[],I=[],O={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(l.has(e))return s.onDestroy(()=>Av(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=O;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,S,i,k,x);if(s.setRealPlayer(n),t===O)T.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Z_(e)),r.push(s)}}else Dv(e,o.fromStyles),s.onDestroy(()=>Av(e,o.toStyles)),I.push(s),l.has(e)&&r.push(s)}),I.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Z_(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(Ub(t,_v),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Sv,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Bb(this,t,r):this.processLeaveNode(t)}return m.length=0,T.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),T}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==Ab;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=nv(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}Dv(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],l=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;l.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new K_(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return zb(t,e),e}((n.get(h)||kb).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=X_(0,this._normalizer,0,e.keyframes,m,g),_=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&c.add(h),f){const e=new Pb(t,o,h);e.setRealPlayer(_),u.push(e)}return _});u.forEach(t=>{nv(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),l.forEach(t=>Vb(t,wv));const d=Z_(h);return d.onDestroy(()=>{l.forEach(t=>Ub(t,wv)),Av(a,e.toStyles)}),c.forEach(t=>{nv(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new K_(t.duration,t.delay)}}class Pb{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new K_,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>J_(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){nv(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Lb(t){return t&&1===t.nodeType}function Fb(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function jb(t,e,n,r,i){const s=[];n.forEach(t=>s.push(Fb(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Ib,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>Fb(t,s[a++])),o}function Mb(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function Vb(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Ub(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Bb(t,e,n){Z_(n).onDone(()=>t.processLeaveNode(e))}function zb(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof Y_?zb(r.players,e):e.push(r)}}function qb(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Hb{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Nb(t,e,n),this._timelineEngine=new Sb(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=Yv(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new vb(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=rv(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=rv(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Gb(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Wb(e[0]),e.length>1&&(r=Wb(e[e.length-1]))):e&&(n=Wb(e)),n||r?new $b(t,n,r):null}let $b=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Av(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Av(this._element,this._initialStyles),this._endStyles&&(Av(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Dv(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Dv(this._element,this._endStyles),this._endStyles=null),Av(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Wb(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Kb(i)&&(e=e||{},e[i]=t[i])}return e}function Kb(t){return"display"===t||"position"===t}const Yb="animation",Qb="animationend";class Zb{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=rw(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),nw(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),ew(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Xb(this._element,this._name,"paused")}resume(){Xb(this._element,this._name,"running")}setPosition(t){const e=Jb(this._element,this._name);this._position=t*this._duration,nw(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),ew(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=rw(t,"").split(","),r=tw(n,e);r>=0&&(n.splice(r,1),nw(t,"",n.join(",")))}(this._element,this._name))}}function Xb(t,e,n){nw(t,"PlayState",n,Jb(t,e))}function Jb(t,e){const n=rw(t,"");return n.indexOf(",")>0?tw(n.split(","),e):tw([n],e)}function tw(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function ew(t,e,n){n?t.removeEventListener(Qb,e):t.addEventListener(Qb,e)}function nw(t,e,n,r){const i=Yb+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function rw(t,e){return t.style[Yb+e]||""}class iw{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Zb(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:zv(this.element,n))})}this.currentSnapshot=t}}class sw extends K_{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=pv(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class ow{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return cv(t)}matchesElement(t,e){return hv(t,e)}containsElement(t,e){return dv(t,e)}query(t,e,n){return fv(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>pv(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof iw),u={};Vv(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Uv(t,e,u));if(0==n)return new sw(t,l);const c="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);const d=Gb(t,e),f=new iw(t,e,c,n,r,i,l,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class aw{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:zv(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class uw{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(lw().toString()),this._cssKeyframesDriver=new ow}validateStyleProperty(t){return cv(t)}matchesElement(t,e){return hv(t,e)}containsElement(t,e){return dv(t,e)}query(t,e,n){return fv(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},l=s.filter(t=>t instanceof aw);Vv(n,r)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=Gb(t,e=Uv(t,e=e.map(t=>Tv(t,!1)),u));return new aw(t,e,a,c)}}function lw(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let cw=(()=>{class t extends F_{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:It.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?U_(t):t;return fw(this._renderer,null,e,"register",[n]),new hw(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(hr(Ia),hr(Zl))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class hw extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new dw(this._id,t,e||{},this._renderer)}}class dw{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return fw(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function fw(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const pw="@",mw="@.disabled";let gw=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new yw("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new _w(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(hr(Ia),hr(Hb),hr(_l))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class yw{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==pw&&e==mw?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class _w extends yw{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==pw?"."==e.charAt(1)&&e==mw?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==pw){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=pw&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let vw=(()=>{class t extends Hb{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(hr(Zl),hr(gv),hr(db))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const bw=new Wn("AnimationModuleType"),ww=[{provide:F_,useClass:cw},{provide:db,useFactory:function(){return new fb}},{provide:Hb,useClass:vw},{provide:Ia,useFactory:function(t,e,n){return new gw(t,e,n)},deps:[Dh,Hb,_l]}],Sw=[{provide:gv,useFactory:function(){return"function"==typeof lw()?new uw:new ow}},{provide:bw,useValue:"BrowserAnimations"},...ww],Ew=[{provide:gv,useClass:mv},{provide:bw,useValue:"NoopAnimations"},...ww];let Cw=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:Sw,imports:[Gh]}),t})(),xw=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:Ew,imports:[Gh]}),t})(),kw=(()=>{class t{}return t.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",t.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",t.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",t.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",t})(),Tw=(()=>{class t{}return t.COMPLEX="375ms",t.ENTERING="225ms",t.EXITING="195ms",t})();const Iw=new Ra("11.2.5"),Ow=new Wn("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Aw,Dw=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Rl()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Iw.full!==L_.full&&console.warn("The Angular Material version ("+Iw.full+") does not match the Angular CDK version ("+L_.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)(hr(N_),hr(Ow,8),hr(Zl))},imports:[[vy],vy]}),t})();function Rw(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Kg(t)}}}function Nw(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function Pw(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Kg(t)}}}function Lw(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new C}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}function Fw(t){return class extends t{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new v(t=>{this._isInitialized?this._notifySubscriber(t):this._pendingSubscribers.push(t)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}try{Aw="undefined"!=typeof Intl}catch(tI){Aw=!1}let jw=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Mw=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[Dw],Dw]}),t})();class Vw{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Uw={enterDuration:450,exitDuration:400},Bw=my({passive:!0}),zw=["mousedown","touchstart"],qw=["mouseup","mouseleave","touchend","touchcancel"];class Hw{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Zg(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},Uw),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,u=i.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=o-s+"px",l.style.top=a-s+"px",l.style.height=2*s+"px",l.style.width=2*s+"px",null!=n.color&&(l.style.backgroundColor=n.color),l.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";const c=new Vw(this,l,n);return c.state=0,this._activeRipples.add(c),n.persistent||(this._mostRecentTransientRipple=c),this._runTimeoutOutsideZone(()=>{const t=c===this._mostRecentTransientRipple;c.state=1,n.persistent||t&&this._isPointerDown||c.fadeOut()},u),c}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},Uw),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=Zg(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(zw))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(qw),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=C_(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!x_(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,Bw)})})}_removeTriggerEvents(){this._triggerElement&&(zw.forEach(t=>{this._triggerElement.removeEventListener(t,this,Bw)}),this._pointerUpEventsRegistered&&qw.forEach(t=>{this._triggerElement.removeEventListener(t,this,Bw)}))}}const Gw=new Wn("mat-ripple-global-options");let $w=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new Hw(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(So(ka),So(_l),So(uy),So(Gw,8),So(bw,8))},t.\u0275dir=Qt({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&Wo("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),Ww=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[Dw,ly],Dw]}),t})(),Kw=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[Dw]]}),t})(),Yw=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[Ww,hh,Dw,Kw]]}),t})();function Qw(t,e){}class Zw{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Xw={dialogContainer:M_("dialogContainer",[z_("void, exit",B_({opacity:0,transform:"scale(0.7)"})),z_("enter",B_({transform:"none"})),H_("* => enter",V_("150ms cubic-bezier(0, 0, 0.2, 1)",B_({transform:"none",opacity:1}))),H_("* => void, * => exit",V_("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",B_({opacity:0})))])};let Jw=(()=>{class t extends Dy{constructor(t,e,n,r,i,s){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=i,this._focusMonitor=s,this._animationStateChanged=new Ru,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=i.ariaLabelledBy||null,this._document=r}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._getActiveElement(),n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._getActiveElement())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=this._getActiveElement();return t===e||t.contains(e)}_getActiveElement(){var t;const e=this._document.activeElement;return(null===(t=null==e?void 0:e.shadowRoot)||void 0===t?void 0:t.activeElement)||e}}return t.\u0275fac=function(e){return new(e||t)(So(ka),So(E_),So(Xa),So(Zl,8),So(Zw),So(I_))},t.\u0275dir=Qt({type:t,viewQuery:function(t,e){if(1&t&&Gu(Ny,3),2&t){let t;Hu(t=Wu())&&(e._portalOutlet=t.first)}},features:[ao]}),t})(),tS=(()=>{class t extends Jw{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return eS(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&Fo("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(ea("id",e._id),bo("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),na("@dialogContainer",e._state))},features:[ao],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&wo(0,Qw,0,0,"ng-template",0)},directives:[Ny],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Xw.dialogContainer]}}),t})();const eS=qn(tS);let nS=0;class rS{constructor(t,e,n="mat-dialog-"+nS++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new C,this._afterClosed=new C,this._beforeClosed=new C,this._state=0,e._id=n,e._animationStateChanged.pipe(yd(t=>"opened"===t.state),cd(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(yd(t=>"closed"===t.state),cd(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(yd(t=>27===t.keyCode&&!this.disableClose&&!function(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(t))).subscribe(t=>{t.preventDefault(),iS(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():iS(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(yd(t=>"closing"===t.state),cd(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function iS(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const sS=new Wn("MatDialogData"),oS=new Wn("mat-dialog-default-options"),aS=new Wn("mat-dialog-scroll-strategy"),uS={provide:aS,deps:[l_],useFactory:function(t){return()=>t.scrollStrategies.block()}};let lS=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=i,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new C,this._afterOpenedAtThisLevel=new C,this._ariaHiddenElements=new Map,this.afterAllClosed=sd(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(fd(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new Zw)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),r._initializeWithAttachedContent(),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new qy({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=so.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Zw,useValue:e}]}),r=new Iy(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(r).instance}_attachDialogContent(t,e,n,r){const i=new this._dialogRefConstructor(n,e,r.id);if(t instanceof iu)e.attachTemplatePortal(new Oy(t,null,{$implicit:r.data,dialogRef:i}));else{const n=this._createInjector(r,i,e),s=e.attachComponentPortal(new Iy(t,r.viewContainerRef,n));i.componentInstance=s.instance}return i.updateSize(r.width,r.height).updatePosition(r.position),i}_createInjector(t,e,n){const r=t&&t.viewContainerRef&&t.viewContainerRef.injector,i=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||r&&r.get(_y,null)||i.push({provide:_y,useValue:{value:t.direction,change:$h()}}),so.create({parent:r||this._injector,providers:i})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(So(l_),So(so),So(void 0),So(void 0),So(Qy),So(void 0),So(Yn),So(Yn),So(Wn))},t.\u0275dir=Qt({type:t}),t})(),cS=(()=>{class t extends lS{constructor(t,e,n,r,i,s,o){super(t,e,r,s,o,i,rS,tS,sS)}}return t.\u0275fac=function(e){return new(e||t)(hr(l_),hr(so),hr(dc,8),hr(oS,8),hr(aS),hr(t,12),hr(Qy))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),hS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Qt({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t})(),dS=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[cS,uS],imports:[[h_,Py,Dw],Dw]}),t})();function fS(...t){if(1===t.length){const e=t[0];if(u(e))return pS(e,null);if(l(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return pS(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return pS(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(T(t=>e(...t)))}return pS(t,null)}function pS(t,e){return new v(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=j(t[a]);let l=!1;n.add(u.subscribe({next:t=>{l||(l=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&l||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const mS=new Wn("NgValueAccessor"),gS={provide:mS,useExisting:ot(()=>yS),multi:!0};let yS=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(So(Oa),So(ka))},t.\u0275dir=Qt({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Lo("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[va([gS])]}),t})();const _S={provide:mS,useExisting:ot(()=>bS),multi:!0},vS=new Wn("CompositionEventMode");let bS=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Ql()?Ql().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(So(Oa),So(ka),So(vS,8))},t.\u0275dir=Qt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Lo("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[va([_S])]}),t})();function wS(t){return null==t||0===t.length}function SS(t){return null!=t&&"number"==typeof t.length}const ES=new Wn("NgValidators"),CS=new Wn("NgAsyncValidators"),xS=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class kS{static min(t){return e=>{if(wS(e.value)||wS(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(wS(e.value)||wS(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return wS(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return wS(t.value)||xS.test(t.value)?null:{email:!0}}static minLength(t){return e=>wS(e.value)||!SS(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>SS(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return kS.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(wS(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(TS);return 0==e.length?null:function(t){return OS(AS(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(TS);return 0==e.length?null:function(t){return fS(AS(t,e).map(IS)).pipe(T(OS))}}}function TS(t){return null!=t}function IS(t){const e=Ro(t)?j(t):t;return Po(e),e}function OS(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function AS(t,e){return e.map(e=>e(t))}function DS(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function RS(t){return null!=t?kS.compose(DS(t)):null}function NS(t){return null!=t?kS.composeAsync(DS(t)):null}function PS(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function LS(t){return t._rawValidators}function FS(t){return t._rawAsyncValidators}let jS=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=RS(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=NS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Qt({type:t}),t})(),MS=(()=>{class t extends jS{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return VS(e||t)},t.\u0275dir=Qt({type:t,features:[ao]}),t})();const VS=qn(MS);class US extends jS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let BS=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(So(US,2))},t.\u0275dir=Qt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&Wo("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[ao]}),t})();const zS={provide:mS,useExisting:ot(()=>qS),multi:!0};let qS=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(So(Oa),So(ka))},t.\u0275dir=Qt({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Lo("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[va([zS])]}),t})();const HS={provide:mS,useExisting:ot(()=>$S),multi:!0};let GS=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),$S=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(US),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(So(Oa),So(ka),So(GS),So(so))},t.\u0275dir=Qt({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Lo("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[va([HS])]}),t})();const WS={provide:mS,useExisting:ot(()=>KS),multi:!0};let KS=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(So(Oa),So(ka))},t.\u0275dir=Qt({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Lo("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[va([WS])]}),t})();const YS={provide:mS,useExisting:ot(()=>ZS),multi:!0};function QS(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let ZS=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=QS(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(So(Oa),So(ka))},t.\u0275dir=Qt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Lo("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[va([YS])]}),t})(),XS=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(QS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(So(ka),So(Oa),So(ZS,9))},t.\u0275dir=Qt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const JS={provide:mS,useExisting:ot(()=>eE),multi:!0};function tE(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let eE=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(So(Oa),So(ka))},t.\u0275dir=Qt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Lo("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[va([JS])]}),t})(),nE=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(tE(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(tE(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(So(ka),So(Oa),So(eE,9))},t.\u0275dir=Qt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function rE(t,e){oE(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&uE(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&uE(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function iE(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),aE(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function sE(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function oE(t,e,n){const r=LS(t);null!==e.validator?t.setValidators(PS(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=FS(t);if(null!==e.asyncValidator?t.setAsyncValidators(PS(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();sE(e._rawValidators,n),sE(e._rawAsyncValidators,n)}}function aE(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=LS(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=FS(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};sE(e._rawValidators,t),sE(e._rawAsyncValidators,t)}return r}function uE(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function lE(t,e){oE(t,e,!1)}const cE=[yS,KS,qS,ZS,eE,$S];function hE(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function dE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const fE="VALID",pE="INVALID",mE="PENDING",gE="DISABLED";function yE(t){return(wE(t)?t.validators:t)||null}function _E(t){return Array.isArray(t)?RS(t):t||null}function vE(t,e){return(wE(e)?e.asyncValidators:t)||null}function bE(t){return Array.isArray(t)?NS(t):t||null}function wE(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class SE{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=_E(this._rawValidators),this._composedAsyncValidatorFn=bE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===fE}get invalid(){return this.status===pE}get pending(){return this.status==mE}get disabled(){return this.status===gE}get enabled(){return this.status!==gE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=_E(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=bE(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=mE,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=gE,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=fE,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==fE&&this.status!==mE||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gE:fE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=mE,this._hasOwnPendingAsyncValidator=!0;const e=IS(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof CE?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof xE&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ru,this.statusChanges=new Ru}_calculateStatus(){return this._allControlsDisabled()?gE:this.errors?pE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mE)?mE:this._anyControlsHaveStatus(pE)?pE:fE}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){wE(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class EE extends SE{constructor(t=null,e,n){super(yE(e),vE(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){dE(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){dE(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class CE extends SE{constructor(t,e,n){super(yE(e),vE(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof EE?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class xE extends SE{constructor(t,e,n){super(yE(e),vE(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof EE?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const kE={provide:MS,useExisting:ot(()=>IE)},TE=(()=>Promise.resolve(null))();let IE=(()=>{class t extends MS{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Ru,this.form=new CE({},RS(t),NS(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){TE.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),rE(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){TE.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),dE(this._directives,t)})}addFormGroup(t){TE.then(()=>{const e=this._findContainer(t.path),n=new CE({});lE(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){TE.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){TE.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,hE(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(So(ES,10),So(CS,10))},t.\u0275dir=Qt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Lo("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[va([kE]),ao]}),t})();const OE={provide:US,useExisting:ot(()=>DE)},AE=(()=>Promise.resolve(null))();let DE=(()=>{class t extends US{constructor(t,e,n,r){super(),this.control=new EE,this._registered=!1,this.update=new Ru,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{var e;t.constructor===bS?n=t:(e=t,cE.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){rE(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){AE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;AE.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(So(MS,9),So(ES,10),So(CS,10),So(mS,10))},t.\u0275dir=Qt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[va([OE]),ao,ce]}),t})();const RE=new Wn("NgModelWithFormControlWarning"),NE={provide:MS,useExisting:ot(()=>PE)};let PE=(()=>{class t extends MS{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ru,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(aE(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return rE(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){iE(t.control||null,t,!1),dE(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,hE(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(iE(t.control||null,t),e&&rE(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);lE(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return aE(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){oE(this.form,this,!1),this._oldForm&&aE(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(So(ES,10),So(CS,10))},t.\u0275dir=Qt({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&Lo("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[va([NE]),ao,ce]}),t})(),LE=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)}}),t})(),FE=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,s=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,s=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,s=null!=e.asyncValidator?e.asyncValidator:null)),new CE(n,{asyncValidators:s,updateOn:r,validators:i})}control(t,e,n){return new EE(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new xE(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof EE||t instanceof CE||t instanceof xE?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),jE=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[GS],imports:[LE]}),t})(),ME=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:RE,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[FE,GS],imports:[LE]}),t})(),VE=(()=>{class t{constructor(t){this.usrService=t}transform(t){return t.pipe(T(t=>t.filter(t=>-1!==this.usrService.memberGroupsArr.indexOf(t.id))))}}return t.\u0275fac=function(e){return new(e||t)(So(Hg))},t.\u0275pipe=Zt({name:"groupFilter",type:t,pure:!0}),t})();function UE(t,e){if(1&t&&(xo(0,"option",15),Xo(1),ko()),2&t){const t=e.$implicit;Eo("value",t.id),Wi(1),Jo(t.Fachname)}}function BE(t,e){if(1&t&&(xo(0,"option",15),Xo(1),ko()),2&t){const t=e.$implicit;Eo("value",t.id),Wi(1),Jo(t.Gruppenname)}}let zE=(()=>{class t{constructor(t,e,n){this.todoListService=t,this.GruppenFBListservice=e,this.addFaecherListService=n,this.todoDescription="",this.todoDueDate=Nc(new Date,"yyyy-MM-dd","en"),this.showDone=!1,this.subject="",this.group="",this.category="",this.displayedColumns=["actions","todoDueDate","subject","group","category","todoDescription","deleteTodoById"]}ngOnInit(){}addTodo(){this.todoDescription&&this.todoDueDate&&this.subject&&this.group&&this.category&&(this.todoListService.addTodo(this.subject,this.group,this.todoDescription,this.category,new Date(this.todoDueDate)),this.subject="",this.group="",this.todoDescription="",this.category="",this.todoDueDate=Nc(new Date,"yyyy-MM-dd","en"))}}return t.\u0275fac=function(e){return new(e||t)(So($g),So(Gg),So(Wg))},t.\u0275cmp=Ht({type:t,selectors:[["app-todo-list"]],decls:37,vars:13,consts:[[1,"addItem"],["for","subject"],["id","subject","name","subject",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","gruppen"],["id","gruppen","name","gruppen",3,"ngModel","ngModelChange"],["for","category"],["id","category","name","category",3,"ngModel","ngModelChange"],["value","H\xdc"],["value","WH"],["value","Test"],["value","SA"],["type","date",3,"ngModel","ngModelChange"],["cols","50","rows","10","input","","type","text",3,"ngModel","ngModelChange"],[3,"click"],[3,"value"]],template:function(t,e){1&t&&(xo(0,"mat-dialog-content"),xo(1,"div",0),xo(2,"label",1),Xo(3,"W\xe4hle ein Fach aus:"),ko(),xo(4,"select",2),Lo("ngModelChange",function(t){return e.subject=t}),wo(5,UE,2,2,"option",3),Tu(6,"async"),ko(),To(7,"br"),xo(8,"label",4),Xo(9,"W\xe4hle eine Gruppe aus:"),ko(),xo(10,"select",5),Lo("ngModelChange",function(t){return e.group=t}),wo(11,BE,2,2,"option",3),Tu(12,"async"),Tu(13,"groupFilter"),ko(),To(14,"br"),xo(15,"label",6),Xo(16,"W\xe4hle eine Kategorie aus:"),ko(),xo(17,"select",7),Lo("ngModelChange",function(t){return e.category=t}),xo(18,"option",8),Xo(19,"Haus\xfcbung"),ko(),xo(20,"option",9),Xo(21,"Wiederholung"),ko(),xo(22,"option",10),Xo(23,"Test"),ko(),xo(24,"option",11),Xo(25,"Schularbeit"),ko(),ko(),To(26,"br"),Xo(27," Datum "),xo(28,"input",12),Lo("ngModelChange",function(t){return e.todoDueDate=t}),ko(),To(29,"br"),Xo(30," Beschreibung: "),To(31,"br"),xo(32,"textarea",13),Lo("ngModelChange",function(t){return e.todoDescription=t}),Xo(33," "),ko(),To(34,"br"),xo(35,"button",14),Lo("click",function(){return e.addTodo()}),Xo(36,"Hinzuf\xfcgen"),ko(),ko(),ko()),2&t&&(Wi(4),Eo("ngModel",e.subject),Wi(1),Eo("ngForOf",Iu(6,7,e.addFaecherListService.fach$)),Wi(5),Eo("ngModel",e.group),Wi(1),Eo("ngForOf",Iu(12,9,Iu(13,11,e.GruppenFBListservice.gruppen$))),Wi(6),Eo("ngModel",e.category),Wi(11),Eo("ngModel",e.todoDueDate),Wi(4),Eo("ngModel",e.todoDescription))},directives:[hS,ZS,BS,DE,Qc,XS,nE,bS],pipes:[lh,VE],styles:["button[_ngcontent-%COMP%]{margin-right:10px}.date[_ngcontent-%COMP%]{display:inline-block;width:100px}table[_ngcontent-%COMP%]{width:100%}.controles-container[_ngcontent-%COMP%]{width:100%;padding:5%}"]}),t})();const qE=["mat-button",""],HE=["*"],GE=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class $E{constructor(t){this._elementRef=t}}const WE=Nw(Rw(Pw($E)));let KE=(()=>{class t extends WE{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of GE)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(So(ka),So(I_),So(bw,8))},t.\u0275cmp=Ht({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&Gu($w,1),2&t){let t;Hu(t=Wu())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(bo("disabled",e.disabled||null),Wo("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[ao],attrs:qE,ngContentSelectors:HE,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(zo(),xo(0,"span",0),qo(1),ko(),To(2,"span",1),To(3,"span",2)),2&t&&(Wi(2),Wo("mat-button-ripple-round",e.isRoundButton||e.isIconButton),Eo("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[$w],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),YE=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[Ww,Dw],Dw]}),t})();class QE{}class ZE{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ZE?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ZE;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ZE?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class XE{encodeKey(t){return JE(t)}encodeValue(t){return JE(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function JE(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class tC{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new XE,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new tC({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function eC(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function nC(t){return"undefined"!=typeof Blob&&t instanceof Blob}function rC(t){return"undefined"!=typeof FormData&&t instanceof FormData}class iC{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new ZE),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new tC,this.urlWithParams=e}serializeBody(){return null===this.body?null:eC(this.body)||nC(this.body)||rC(this.body)||"string"==typeof this.body?this.body:this.body instanceof tC?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||rC(this.body)?null:nC(this.body)?this.body.type||null:eC(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof tC?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new iC(e,n,i,{params:u,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var sC=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class oC extends class{constructor(t,e=200,n="OK"){this.headers=t.headers||new ZE,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=sC.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new oC({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function aC(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let uC=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof iC)r=t;else{let i,s;i=n.headers instanceof ZE?n.headers:new ZE(n.headers),n.params&&(s=n.params instanceof tC?n.params:new tC({fromObject:n.params})),r=new iC(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=$h(r).pipe(Ed(t=>this.handler.handle(t)));if(t instanceof iC||"events"===n.observe)return i;const s=i.pipe(yd(t=>t instanceof oC));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(T(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(T(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(T(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(T(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new tC).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,aC(n,e))}post(t,e,n={}){return this.request("POST",t,aC(n,e))}put(t,e,n={}){return this.request("PUT",t,aC(n,e))}}return t.\u0275fac=function(e){return new(e||t)(hr(QE))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const lC=["*"];function cC(t){return Error(`Unable to find icon with the name "${t}"`)}function hC(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function dC(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class fC{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let pC=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new fC(n,null,r))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,r){const i=this._sanitizer.sanitize(Zr.HTML,n);if(!i)throw dC(n);return this._addSvgIconConfig(t,e,new fC("",i,r))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new fC(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const r=this._sanitizer.sanitize(Zr.HTML,e);if(!r)throw dC(e);return this._addSvgIconSetConfig(t,new fC("",r,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(Zr.RESOURCE_URL,t);if(!e)throw hC(t);const n=this._cachedIconsByUrl.get(e);return n?$h(mC(n)):this._loadSvgIconFromConfig(new fC(t,null)).pipe(Fd(t=>this._cachedIconsByUrl.set(e,t)),T(t=>mC(t)))}getNamedSvgIcon(t,e=""){const n=gC(e,t);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(e,t),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):zm(cC(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?$h(mC(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(T(t=>mC(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?$h(n):fS(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(bd(e=>{const n=this._sanitizer.sanitize(Zr.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),$h(null)})))).pipe(T(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw cC(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Fd(e=>t.svgText=e),T(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?$h(null):this._fetchIcon(t).pipe(Fd(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:r}=t,i=null!==(e=null==r?void 0:r.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const s=this._sanitizer.sanitize(Zr.RESOURCE_URL,n);if(!s)throw hC(n);const o=this._inProgressUrlFetches.get(s);if(o)return o;const a=this._httpClient.get(s,{responseType:"text",withCredentials:i}).pipe(Vd(()=>this._inProgressUrlFetches.delete(s)),tt());return this._inProgressUrlFetches.set(s,a),a}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(gC(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let r=0;r<this._resolvers.length;r++){const i=this._resolvers[r](e,t);if(i)return(n=i).url&&n.options?new fC(i.url,null,i.options):new fC(i,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(hr(uC,8),hr(Bh),hr(Zl,8),hr(ni))},t.\u0275prov=ft({factory:function(){return new t(hr(uC,8),hr(Bh),hr(Zl,8),hr(ni))},token:t,providedIn:"root"}),t})();function mC(t){return t.cloneNode(!0)}function gC(t,e){return t+":"+e}class yC{constructor(t){this._elementRef=t}}const _C=Nw(yC),vC=new Wn("mat-icon-location",{providedIn:"root",factory:function(){const t=dr(Zl),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),bC=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],wC=bC.map(t=>`[${t}]`).join(", "),SC=/^url\(['"]?#(.*?)['"]?\)$/;let EC=(()=>{class t extends _C{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=h.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Kg(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(wC),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)bC.forEach(t=>{const i=e[r],s=i.getAttribute(t),o=s?s.match(SC):null;if(o){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(cd(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(So(ka),So(pC),Hn("aria-hidden"),So(vC),So(ni))},t.\u0275cmp=Ht({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(bo("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),Wo("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[ao],ngContentSelectors:lC,decls:1,vars:0,template:function(t,e){1&t&&(zo(),qo(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),CC=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[Dw],Dw]}),t})();const xC=[[["caption"]],[["colgroup"],["col"]]],kC=["caption","colgroup, col"];function TC(t){return class extends t{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Kg(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const IC=new Wn("CDK_TABLE");let OC=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(So(iu))},t.\u0275dir=Qt({type:t,selectors:[["","cdkCellDef",""]]}),t})(),AC=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(So(iu))},t.\u0275dir=Qt({type:t,selectors:[["","cdkHeaderCellDef",""]]}),t})(),DC=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(So(iu))},t.\u0275dir=Qt({type:t,selectors:[["","cdkFooterCellDef",""]]}),t})();class RC{}const NC=TC(RC);let PC=(()=>{class t extends NC{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const e=this._stickyEnd;this._stickyEnd=Kg(t),this._hasStickyChanged=e!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return t.\u0275fac=function(e){return new(e||t)(So(IC,8))},t.\u0275dir=Qt({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,e,n){if(1&t&&($u(n,OC,1),$u(n,AC,1),$u(n,DC,1)),2&t){let t;Hu(t=Wu())&&(e.cell=t.first),Hu(t=Wu())&&(e.headerCell=t.first),Hu(t=Wu())&&(e.footerCell=t.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[va([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),ao]}),t})();class LC{constructor(t,e){const n=e.nativeElement.classList;for(const r of t._columnCssClassName)n.add(r)}}let FC=(()=>{class t extends LC{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(So(PC),So(ka))},t.\u0275dir=Qt({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[ao]}),t})(),jC=(()=>{class t extends LC{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(So(PC),So(ka))},t.\u0275dir=Qt({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[ao]}),t})();class MC{constructor(){this.tasks=[],this.endTasks=[]}}const VC=new Wn("_COALESCED_STYLE_SCHEDULER");let UC=(()=>{class t{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new C}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new MC,this._getScheduleObservable().pipe(iy(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new MC;for(const e of t.tasks)e();for(const e of t.endTasks)e()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?j(Promise.resolve(void 0)):this._ngZone.onStable.pipe(cd(1))}}return t.\u0275fac=function(e){return new(e||t)(hr(_l))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),BC=(()=>{class t{constructor(t,e){this.template=t,this._differs=e}ngOnChanges(t){if(!this._columnsDiffer){const e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof HC?t.headerCell.template:this instanceof WC?t.footerCell.template:t.cell.template}}return t.\u0275fac=function(e){return new(e||t)(So(iu),So(Ga))},t.\u0275dir=Qt({type:t,features:[ce]}),t})();class zC extends BC{}const qC=TC(zC);let HC=(()=>{class t extends qC{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(So(iu),So(Ga),So(IC,8))},t.\u0275dir=Qt({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[ao,ce]}),t})();class GC extends BC{}const $C=TC(GC);let WC=(()=>{class t extends $C{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(So(iu),So(Ga),So(IC,8))},t.\u0275dir=Qt({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[ao,ce]}),t})(),KC=(()=>{class t extends BC{constructor(t,e,n){super(t,e),this._table=n}}return t.\u0275fac=function(e){return new(e||t)(So(iu),So(Ga),So(IC,8))},t.\u0275dir=Qt({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[ao]}),t})(),YC=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.\u0275fac=function(e){return new(e||t)(So(hu))},t.\u0275dir=Qt({type:t,selectors:[["","cdkCellOutlet",""]]}),t.mostRecentCellOutlet=null,t})(),QC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Ao(0,0)},directives:[YC],encapsulation:2}),t})(),ZC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Ao(0,0)},directives:[YC],encapsulation:2}),t})(),XC=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(So(iu))},t.\u0275dir=Qt({type:t,selectors:[["ng-template","cdkNoDataRow",""]]}),t})();const JC=["top","bottom","left","right"];class tx{constructor(t,e,n,r,i=!0,s=!0,o){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._coalescedStyleScheduler=r,this._isBrowser=i,this._needsPositionStickyOnElement=s,this._positionListener=o,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const n=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){n.push(r);for(let t=0;t<r.children.length;t++)n.push(r.children[t])}this._scheduleStyleChanges(()=>{for(const t of n)this._removeStickyStyle(t,e)})}updateStickyColumns(t,e,n,r=!0){if(!t.length||!this._isBrowser||!e.some(t=>t)&&!n.some(t=>t))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const i=t[0],s=i.children.length,o=this._getCellWidths(i,r),a=this._getStickyStartColumnPositions(o,e),u=this._getStickyEndColumnPositions(o,n),l=e.lastIndexOf(!0),c=n.indexOf(!0);this._scheduleStyleChanges(()=>{const r="rtl"===this.direction,i=r?"right":"left",h=r?"left":"right";for(const o of t)for(let t=0;t<s;t++){const r=o.children[t];e[t]&&this._addStickyStyle(r,i,a[t],t===l),n[t]&&this._addStickyStyle(r,h,u[t],t===c)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===l?[]:o.slice(0,l+1).map((t,n)=>e[n]?t:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===c?[]:o.slice(c).map((t,e)=>n[e+c]?t:null).reverse()}))})}stickRows(t,e,n){if(!this._isBrowser)return;const r="bottom"===n?t.slice().reverse():t,i="bottom"===n?e.slice().reverse():e,s=[],o=[],a=[];for(let l=0,c=0;l<r.length;l++){if(s[l]=c,!i[l])continue;const t=r[l];a[l]=this._isNativeHtmlTable?Array.from(t.children):[t];const e=t.getBoundingClientRect().height;c+=e,o[l]=e}const u=i.lastIndexOf(!0);this._scheduleStyleChanges(()=>{var t,e;for(let o=0;o<r.length;o++){if(!i[o])continue;const t=s[o],e=o===u;for(const r of a[o])this._addStickyStyle(r,n,t,e)}"top"===n?null===(t=this._positionListener)||void 0===t||t.stickyHeaderRowsUpdated({sizes:o,elements:a}):null===(e=this._positionListener)||void 0===e||e.stickyFooterRowsUpdated({sizes:o,elements:a})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");this._scheduleStyleChanges(()=>{e.some(t=>!t)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const n of e)t.style[n]="",t.classList.remove(this._borderCellCss[n]);JC.some(n=>-1===e.indexOf(n)&&t.style[n])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${n}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const r of JC)t.style[r]&&(n+=e[r]);return n?`${n}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const n=[],r=t.children;for(let i=0;i<r.length;i++)n.push(r[i].getBoundingClientRect().width);return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(t,e){const n=[];let r=0;for(let i=0;i<t.length;i++)e[i]&&(n[i]=r,r+=t[i]);return n}_getStickyEndColumnPositions(t,e){const n=[];let r=0;for(let i=t.length;i>0;i--)e[i]&&(n[i]=r,r+=t[i]);return n}_scheduleStyleChanges(t){this._coalescedStyleScheduler?this._coalescedStyleScheduler.schedule(t):t()}}const ex=new Wn("CDK_SPL");let nx=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(So(hu),So(ka))},t.\u0275dir=Qt({type:t,selectors:[["","rowOutlet",""]]}),t})(),rx=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(So(hu),So(ka))},t.\u0275dir=Qt({type:t,selectors:[["","headerRowOutlet",""]]}),t})(),ix=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(So(hu),So(ka))},t.\u0275dir=Qt({type:t,selectors:[["","footerRowOutlet",""]]}),t})(),sx=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(So(hu),So(ka))},t.\u0275dir=Qt({type:t,selectors:[["","noDataRowOutlet",""]]}),t})(),ox=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u,l,c){this._differs=t,this._changeDetectorRef=e,this._elementRef=n,this._dir=i,this._platform=o,this._viewRepeater=a,this._coalescedStyleScheduler=u,this._stickyPositioningListener=l,this._viewportRuler=c,this._onDestroy=new C,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.viewChange=new Wh({start:0,end:Number.MAX_VALUE}),r||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=s,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=Kg(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=Kg(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,e)=>this.trackBy?this.trackBy(e.dataIndex,e.data):e),this._viewportRuler&&this._viewportRuler.change().pipe(iy(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||t,this._forceRecalculateCellWidths=t,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),by(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return void this._updateNoDataRow();const e=this._rowOutlet.viewContainer;this._viewRepeater?this._viewRepeater.applyChanges(t,e,(t,e,n)=>this._getEmbeddedViewArgs(t.item,n),t=>t.item.data,t=>{1===t.operation&&t.context&&this._renderCellTemplateForItem(t.record.item.rowDef,t.context)}):t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const e=t.item;this._renderRow(this._rowOutlet,e.rowDef,r,{$implicit:e.data})}else if(null==r)e.remove(n);else{const t=e.get(n);e.move(t,r)}}),this._updateRowIndexContext(),t.forEachIdentityChange(t=>{e.get(t.currentIndex).context.$implicit=t.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");const n=this._headerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");const n=this._footerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...e,...n],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((t,e)=>{this._addStickyColumnStyles([t],this._headerRowDefs[e])}),this._rowDefs.forEach(t=>{const n=[];for(let r=0;r<e.length;r++)this._renderRows[r].rowDef===t&&n.push(e[r]);this._addStickyColumnStyles(n,t)}),n.forEach((t,e)=>{this._addStickyColumnStyles([t],this._footerRowDefs[e])}),Array.from(this._columnDefsByName.values()).forEach(t=>t.resetStickyChanged())}_getAllRenderRows(){const t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let r=this._data[n];const i=this._getRenderRowsForData(r,n,e.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(let e=0;e<i.length;e++){let n=i[e];const r=this._cachedRenderRowsMap.get(n.data);r.has(n.rowDef)?r.get(n.rowDef).push(n):r.set(n.rowDef,[n]),t.push(n)}}return t}_getRenderRowsForData(t,e,n){return this._getRowDefs(t,e).map(r=>{const i=n&&n.has(r)?n.get(r):[];if(i.length){const t=i.shift();return t.dataIndex=e,t}return{data:t,rowDef:r,dataIndex:e}})}_cacheColumnDefs(){this._columnDefsByName.clear(),ax(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{this._columnDefsByName.has(t.name),this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=ax(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=ax(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=ax(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(t=>!t.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(t,e)=>t||!!e.getColumnsDiff(),e=this._rowDefs.reduce(t,!1);e&&this._forceRenderDataRows();const n=this._headerRowDefs.reduce(t,!1);n&&this._forceRenderHeaderRows();const r=this._footerRowDefs.reduce(t,!1);return r&&this._forceRenderFooterRows(),e||n||r}_switchDataSource(t){this._data=[],by(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;var e;by(this.dataSource)?t=this.dataSource.connect(this):(e=this.dataSource)&&(e instanceof v||"function"==typeof e.lift&&"function"==typeof e.subscribe)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=$h(this.dataSource)),this._renderChangeSubscription=t.pipe(iy(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,e)=>this._renderRow(this._headerRowOutlet,t,e)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,e)=>this._renderRow(this._footerRowOutlet,t,e)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,e){const n=Array.from(e.columns||[]).map(t=>this._columnDefsByName.get(t)),r=n.map(t=>t.sticky),i=n.map(t=>t.stickyEnd);this._stickyStyler.updateStickyColumns(t,r,i,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const e=[];for(let n=0;n<t.viewContainer.length;n++){const r=t.viewContainer.get(n);e.push(r.rootNodes[0])}return e}_getRowDefs(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(n=>!n.when||n.when(e,t));else{let r=this._rowDefs.find(n=>n.when&&n.when(e,t))||this._defaultRowDef;r&&n.push(r)}return n}_getEmbeddedViewArgs(t,e){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:e}}_renderRow(t,e,n,r={}){const i=t.viewContainer.createEmbeddedView(e.template,r,n);return this._renderCellTemplateForItem(e,r),i}_renderCellTemplateForItem(t,e){for(let n of this._getCellTemplates(t))YC.mostRecentCellOutlet&&YC.mostRecentCellOutlet._viewContainer.createEmbeddedView(n,e);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let e=0,n=t.length;e<n;e++){const r=t.get(e).context;r.count=n,r.first=0===e,r.last=e===n-1,r.even=e%2==0,r.odd=!r.even,this.multiTemplateDataRows?(r.dataIndex=this._renderRows[e].dataIndex,r.renderIndex=e):r.index=this._renderRows[e].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,e=>{const n=this._columnDefsByName.get(e);return t.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),e=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const n of e){const e=this._document.createElement(n.tag);e.setAttribute("role","rowgroup");for(const t of n.outlets)e.appendChild(t.elementRef.nativeElement);t.appendChild(e)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(t,e)=>t||e.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new tx(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:$h()).pipe(iy(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(t=>!t._table||t._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(t){const e=0===this._rowOutlet.viewContainer.length;if(e!==this._isShowingNoDataRow){const n=this._noDataRowOutlet.viewContainer;e?n.createEmbeddedView(t.templateRef):n.clear(),this._isShowingNoDataRow=e}}}}return t.\u0275fac=function(e){return new(e||t)(So(Ga),So(Xa),So(ka),Hn("role"),So(_y,8),So(Zl),So(uy),So(Sy,8),So(VC,8),So(ex,12),So(Cy,8))},t.\u0275cmp=Ht({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,e,n){if(1&t&&($u(n,XC,1),$u(n,PC,1),$u(n,KC,1),$u(n,HC,1),$u(n,WC,1)),2&t){let t;Hu(t=Wu())&&(e._noDataRow=t.first),Hu(t=Wu())&&(e._contentColumnDefs=t),Hu(t=Wu())&&(e._contentRowDefs=t),Hu(t=Wu())&&(e._contentHeaderRowDefs=t),Hu(t=Wu())&&(e._contentFooterRowDefs=t)}},viewQuery:function(t,e){if(1&t&&(Gu(nx,3),Gu(rx,3),Gu(ix,3),Gu(sx,3)),2&t){let t;Hu(t=Wu())&&(e._rowOutlet=t.first),Hu(t=Wu())&&(e._headerRowOutlet=t.first),Hu(t=Wu())&&(e._footerRowOutlet=t.first),Hu(t=Wu())&&(e._noDataRowOutlet=t.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,e){2&t&&Wo("cdk-table-fixed-layout",e.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},exportAs:["cdkTable"],features:[va([{provide:IC,useExisting:t},{provide:Sy,useClass:wy},{provide:VC,useClass:UC},{provide:ex,useValue:null}])],ngContentSelectors:kC,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(zo(xC),qo(0),qo(1,1),Ao(2,0),Ao(3,1),Ao(4,2),Ao(5,3))},directives:[rx,nx,sx,ix],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),t})();function ax(t,e){return t.concat(Array.from(e))}let ux=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[ky]]}),t})();const lx=[[["caption"]],[["colgroup"],["col"]]],cx=["caption","colgroup, col"];let hx=(()=>{class t extends ox{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return t.\u0275fac=function(e){return dx(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,e){2&t&&Wo("mat-table-fixed-layout",e.fixedLayout)},exportAs:["matTable"],features:[va([{provide:Sy,useClass:wy},{provide:ox,useExisting:t},{provide:IC,useExisting:t},{provide:VC,useClass:UC}]),ao],ngContentSelectors:cx,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(zo(lx),qo(0),qo(1,1),Ao(2,0),Ao(3,1),Ao(4,2),Ao(5,3))},directives:[rx,nx,sx,ix],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),t})();const dx=qn(hx);let fx=(()=>{class t extends OC{}return t.\u0275fac=function(e){return px(e||t)},t.\u0275dir=Qt({type:t,selectors:[["","matCellDef",""]],features:[va([{provide:OC,useExisting:t}]),ao]}),t})();const px=qn(fx);let mx=(()=>{class t extends AC{}return t.\u0275fac=function(e){return gx(e||t)},t.\u0275dir=Qt({type:t,selectors:[["","matHeaderCellDef",""]],features:[va([{provide:AC,useExisting:t}]),ao]}),t})();const gx=qn(mx);let yx=(()=>{class t extends PC{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return t.\u0275fac=function(e){return _x(e||t)},t.\u0275dir=Qt({type:t,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[va([{provide:PC,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),ao]}),t})();const _x=qn(yx);let vx=(()=>{class t extends FC{}return t.\u0275fac=function(e){return bx(e||t)},t.\u0275dir=Qt({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[ao]}),t})();const bx=qn(vx);let wx=(()=>{class t extends jC{}return t.\u0275fac=function(e){return Sx(e||t)},t.\u0275dir=Qt({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[ao]}),t})();const Sx=qn(wx);let Ex=(()=>{class t extends HC{}return t.\u0275fac=function(e){return Cx(e||t)},t.\u0275dir=Qt({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[va([{provide:HC,useExisting:t}]),ao]}),t})();const Cx=qn(Ex);let xx=(()=>{class t extends KC{}return t.\u0275fac=function(e){return kx(e||t)},t.\u0275dir=Qt({type:t,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[va([{provide:KC,useExisting:t}]),ao]}),t})();const kx=qn(xx);let Tx=(()=>{class t extends QC{}return t.\u0275fac=function(e){return Ix(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[va([{provide:QC,useExisting:t}]),ao],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Ao(0,0)},directives:[YC],encapsulation:2}),t})();const Ix=qn(Tx);let Ox=(()=>{class t extends ZC{}return t.\u0275fac=function(e){return Ax(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[va([{provide:ZC,useExisting:t}]),ao],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Ao(0,0)},directives:[YC],encapsulation:2}),t})();const Ax=qn(Ox);let Dx=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[ux,Dw],Dw]}),t})();const Rx=["mat-sort-header",""];function Nx(t,e){if(1&t){const t=Do();xo(0,"div",3),Lo("@arrowPosition.start",function(){return Pe(t),Uo()._disableViewStateAnimation=!0})("@arrowPosition.done",function(){return Pe(t),Uo()._disableViewStateAnimation=!1}),To(1,"div",4),xo(2,"div",5),To(3,"div",6),To(4,"div",7),To(5,"div",8),ko(),ko()}if(2&t){const t=Uo();Eo("@arrowOpacity",t._getArrowViewState())("@arrowPosition",t._getArrowViewState())("@allowChildren",t._getArrowDirectionState()),Wi(2),Eo("@indicator",t._getArrowDirectionState()),Wi(1),Eo("@leftPointer",t._getArrowDirectionState()),Wi(1),Eo("@rightPointer",t._getArrowDirectionState())}}const Px=["*"],Lx=new Wn("MAT_SORT_DEFAULT_OPTIONS");class Fx{}const jx=Fw(Rw(Fx));let Mx=(()=>{class t extends jx{constructor(t){super(),this._defaultOptions=t,this.sortables=new Map,this._stateChanges=new C,this.start="asc",this._direction="",this.sortChange=new Ru}get direction(){return this._direction}set direction(t){this._direction=t}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=Kg(t)}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){var e,n,r;if(!t)return"";const i=null!==(n=null!==(e=null==t?void 0:t.disableClear)&&void 0!==e?e:this.disableClear)&&void 0!==n?n:!!(null===(r=this._defaultOptions)||void 0===r?void 0:r.disableClear);let s=function(t,e){let n=["asc","desc"];return"desc"==t&&n.reverse(),e||n.push(""),n}(t.start||this.start,i),o=s.indexOf(this.direction)+1;return o>=s.length&&(o=0),s[o]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(So(Lx,8))},t.\u0275dir=Qt({type:t,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"],active:["matSortActive","active"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[ao,ce]}),t})();const Vx=Tw.ENTERING+" "+kw.STANDARD_CURVE,Ux={indicator:M_("indicator",[z_("active-asc, asc",B_({transform:"translateY(0px)"})),z_("active-desc, desc",B_({transform:"translateY(10px)"})),H_("active-asc <=> active-desc",V_(Vx))]),leftPointer:M_("leftPointer",[z_("active-asc, asc",B_({transform:"rotate(-45deg)"})),z_("active-desc, desc",B_({transform:"rotate(45deg)"})),H_("active-asc <=> active-desc",V_(Vx))]),rightPointer:M_("rightPointer",[z_("active-asc, asc",B_({transform:"rotate(45deg)"})),z_("active-desc, desc",B_({transform:"rotate(-45deg)"})),H_("active-asc <=> active-desc",V_(Vx))]),arrowOpacity:M_("arrowOpacity",[z_("desc-to-active, asc-to-active, active",B_({opacity:1})),z_("desc-to-hint, asc-to-hint, hint",B_({opacity:.54})),z_("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",B_({opacity:0})),H_("* => asc, * => desc, * => active, * => hint, * => void",V_("0ms")),H_("* <=> *",V_(Vx))]),arrowPosition:M_("arrowPosition",[H_("* => desc-to-hint, * => desc-to-active",V_(Vx,q_([B_({transform:"translateY(-25%)"}),B_({transform:"translateY(0)"})]))),H_("* => hint-to-desc, * => active-to-desc",V_(Vx,q_([B_({transform:"translateY(0)"}),B_({transform:"translateY(25%)"})]))),H_("* => asc-to-hint, * => asc-to-active",V_(Vx,q_([B_({transform:"translateY(25%)"}),B_({transform:"translateY(0)"})]))),H_("* => hint-to-asc, * => active-to-asc",V_(Vx,q_([B_({transform:"translateY(0)"}),B_({transform:"translateY(-25%)"})]))),z_("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",B_({transform:"translateY(0)"})),z_("hint-to-desc, active-to-desc, desc",B_({transform:"translateY(-25%)"})),z_("hint-to-asc, active-to-asc, asc",B_({transform:"translateY(25%)"}))]),allowChildren:M_("allowChildren",[H_("* <=> *",[$_("@*",G_(),{optional:!0})])])};let Bx=(()=>{class t{constructor(){this.changes=new C,this.sortButtonLabel=t=>`Change sorting for ${t}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:function(){return new t},token:t,providedIn:"root"}),t})();const zx={provide:Bx,deps:[[new gr,new yr,Bx]],useFactory:function(t){return t||new Bx}};class qx{}const Hx=Rw(qx);let Gx=(()=>{class t extends Hx{constructor(t,e,n,r,i,s){super(),this._intl=t,this._changeDetectorRef=e,this._sort=n,this._columnDef=r,this._focusMonitor=i,this._elementRef=s,this._showIndicatorHint=!1,this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._handleStateChanges()}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=Kg(t)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{const e=!!t;e!==this._showIndicatorHint&&(this._setIndicatorHintVisible(e),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(t){this._viewState=t,this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}_toggleOnInteraction(){this._sort.sort(this),"hint"!==this._viewState.toState&&"active"!==this._viewState.toState||(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(t){this._isDisabled()||32!==t.keyCode&&13!==t.keyCode||(t.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const t=this._viewState.fromState;return(t?`${t}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_handleStateChanges(){this._rerenderSubscription=$(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),"hint"!==this._viewState.toState&&"active"!==this._viewState.toState||(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(So(Bx),So(Xa),So(Mx,8),So("MAT_SORT_HEADER_COLUMN_DEF",8),So(I_),So(ka))},t.\u0275cmp=Ht({type:t,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(t,e){1&t&&Lo("click",function(){return e._handleClick()})("keydown",function(t){return e._handleKeydown(t)})("mouseenter",function(){return e._setIndicatorHintVisible(!0)})("mouseleave",function(){return e._setIndicatorHintVisible(!1)}),2&t&&(bo("aria-sort",e._getAriaSortAttribute()),Wo("mat-sort-header-disabled",e._isDisabled()))},inputs:{disabled:"disabled",arrowPosition:"arrowPosition",disableClear:"disableClear",id:["mat-sort-header","id"],start:"start"},exportAs:["matSortHeader"],features:[ao],attrs:Rx,ngContentSelectors:Px,decls:4,vars:6,consts:[["role","button",1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(t,e){1&t&&(zo(),xo(0,"div",0),xo(1,"div",1),qo(2),ko(),wo(3,Nx,6,6,"div",2),ko()),2&t&&(Wo("mat-sort-header-sorted",e._isSorted())("mat-sort-header-position-before","before"==e.arrowPosition),bo("tabindex",e._isDisabled()?null:0),Wi(3),Eo("ngIf",e._renderArrow()))},directives:[Xc],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n"],encapsulation:2,data:{animation:[Ux.indicator,Ux.leftPointer,Ux.rightPointer,Ux.arrowOpacity,Ux.arrowPosition,Ux.allowChildren]},changeDetection:0}),t})(),$x=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[zx],imports:[[hh,Dw]]}),t})(),Wx=(()=>{class t{constructor(t){this.usrService=t}transform(t,e){return t.pipe(T(t=>t.filter(t=>{var n,r;return(!0===e&&-1!==(null===(n=t.doneByUser)||void 0===n?void 0:n.indexOf(this.usrService.UserId))||!1===e&&(!t.doneByUser||-1===(null===(r=t.doneByUser)||void 0===r?void 0:r.indexOf(this.usrService.UserId))))&&-1!==this.usrService.memberGroupsArr.indexOf(t.group)})))}}return t.\u0275fac=function(e){return new(e||t)(So(Hg))},t.\u0275pipe=Zt({name:"todoFilterPipe",type:t,pure:!0}),t})();function Kx(t,e){1&t&&(xo(0,"th",16),Xo(1," Status "),ko())}function Yx(t,e){if(1&t){const t=Do();xo(0,"td",17),xo(1,"button",18),Lo("click",function(){Pe(t);const n=e.$implicit;return Uo().todoListService.toggleDoneStateById4User(n)}),Xo(2,"Done"),ko(),xo(3,"button",19),xo(4,"mat-icon"),Xo(5,"launch"),ko(),ko(),ko()}}function Qx(t,e){1&t&&(xo(0,"th",16),Xo(1," F\xe4lligkeitsdatum"),ko())}function Zx(t,e){if(1&t&&(xo(0,"td",17),Xo(1),Tu(2,"date"),ko()),2&t){const t=e.$implicit;Wi(1),ta(" ",Ou(2,1,1e3*t.dueDate.seconds,"EE, dd.MM.")," ")}}function Xx(t,e){1&t&&(xo(0,"th",16),Xo(1," Fach "),ko())}function Jx(t,e){if(1&t&&(xo(0,"td",17),Xo(1),ko()),2&t){const t=e.$implicit;Wi(1),ta(" ",null==t.subjectobj?null:t.subjectobj.Fachname,"")}}function tk(t,e){1&t&&(xo(0,"th",16),Xo(1," Gruppe"),ko())}function ek(t,e){if(1&t&&(xo(0,"td",17),Xo(1),ko()),2&t){const t=e.$implicit;Wi(1),ta(" ",null==t.groupobj?null:t.groupobj.Gruppenname," ")}}function nk(t,e){1&t&&(xo(0,"th",16),Xo(1," Kategorie "),ko())}function rk(t,e){if(1&t&&(xo(0,"td",17),Xo(1),ko()),2&t){const t=e.$implicit;Wi(1),ta(" ",t.category," ")}}function ik(t,e){1&t&&(xo(0,"th",16),Xo(1," Beschreibung "),ko())}function sk(t,e){if(1&t&&(xo(0,"td",17),Xo(1),ko()),2&t){const t=e.$implicit;Wi(1),ta(" ",t.description," ")}}function ok(t,e){1&t&&(xo(0,"th",20),Xo(1," L\xf6schen "),ko())}function ak(t,e){if(1&t){const t=Do();xo(0,"td",17),xo(1,"button",21),Lo("click",function(){Pe(t);const n=e.$implicit;return Uo().todoListService.deleteTodoById(n.id)}),Xo(2,"X"),ko(),ko()}}function uk(t,e){1&t&&To(0,"tr",22)}function lk(t,e){if(1&t){const t=Do();xo(0,"tr",23),Lo("click",function(){Pe(t);const n=e.$implicit;return Uo().todoListService.toggleDoneStateById(n.id)}),ko()}}function ck(t,e){1&t&&(xo(0,"th",20),Xo(1," Status "),ko())}function hk(t,e){if(1&t){const t=Do();xo(0,"td",17),xo(1,"button",18),Lo("click",function(){Pe(t);const n=e.$implicit;return Uo().todoListService.toggleDoneStateById4User(n)}),Xo(2,"Undo"),ko(),ko()}}function dk(t,e){1&t&&(xo(0,"th",20),Xo(1," F\xe4lligkeitsdatum"),ko())}function fk(t,e){if(1&t&&(xo(0,"td",17),Xo(1),Tu(2,"date"),ko()),2&t){const t=e.$implicit;Wi(1),ta(" ",Ou(2,1,1e3*t.dueDate.seconds,"EE, dd.MM.")," ")}}function pk(t,e){1&t&&(xo(0,"th",20),Xo(1," Fach "),ko())}function mk(t,e){if(1&t&&(xo(0,"td",17),Xo(1),ko()),2&t){const t=e.$implicit;Wi(1),ta(" ",null==t.subjectobj?null:t.subjectobj.Fachname," ")}}function gk(t,e){1&t&&(xo(0,"th",20),Xo(1," Gruppe "),ko())}function yk(t,e){if(1&t&&(xo(0,"td",17),Xo(1),ko()),2&t){const t=e.$implicit;Wi(1),ta(" ",null==t.groupobj?null:t.groupobj.Gruppenname," ")}}function _k(t,e){1&t&&(xo(0,"th",20),Xo(1," Kategorie "),ko())}function vk(t,e){if(1&t&&(xo(0,"td",17),Xo(1),ko()),2&t){const t=e.$implicit;Wi(1),ta(" ",t.category," ")}}function bk(t,e){1&t&&(xo(0,"th",20),Xo(1," Beschreibung "),ko())}function wk(t,e){if(1&t&&(xo(0,"td",17),Xo(1),ko()),2&t){const t=e.$implicit;Wi(1),ta(" ",t.description," ")}}function Sk(t,e){1&t&&(xo(0,"th",20),Xo(1," L\xf6schen "),ko())}function Ek(t,e){if(1&t){const t=Do();xo(0,"td",17),xo(1,"button",21),Lo("click",function(){Pe(t);const n=e.$implicit;return Uo().todoListService.deleteTodoById(n.id)}),Xo(2,"X"),ko(),ko()}}function Ck(t,e){1&t&&To(0,"tr",22)}function xk(t,e){if(1&t){const t=Do();xo(0,"tr",23),Lo("click",function(){Pe(t);const n=e.$implicit;return Uo().todoListService.toggleDoneStateById(n.id)}),ko()}}let kk=(()=>{class t{constructor(t,e,n){this.todoListService=t,this.grpService=e,this.dialog=n,this.todoDescription="",this.todoDueDate=Nc(new Date,"yyyy-MM-dd","en"),this.showDone=!1,this.subject="",this.group="",this.category="",this.displayedColumns=["actions","todoDueDate","subject","group","category","todoDescription"]}ngOnInit(){}onCreate(){const t=new Zw;this.dialog.open(zE,t)}}return t.\u0275fac=function(e){return new(e||t)(So($g),So(Gg),So(cS))},t.\u0275cmp=Ht({type:t,selectors:[["app-dashboard"]],decls:60,vars:12,consts:[[1,"create"],["mat-raised-button","",3,"click"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","actions"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","todoDueDate"],["matColumnDef","subject"],["matColumnDef","group"],["matColumnDef","category"],["matColumnDef","todoDescription"],["matColumnDef","deleteTodoById"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-button","",3,"click"],["mat-icon-button","","color","warn"],["mat-header-cell",""],["mat-button","","color","red",3,"click"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(t,e){1&t&&(xo(0,"h2"),Xo(1,"Dashboard"),ko(),xo(2,"div",0),xo(3,"button",1),Lo("click",function(){return e.onCreate()}),xo(4,"mat-icon"),Xo(5,"add"),ko(),Xo(6,"create "),ko(),ko(),xo(7,"table",2),Tu(8,"todoFilterPipe"),Io(9,3),wo(10,Kx,2,0,"th",4),wo(11,Yx,6,0,"td",5),Oo(),Io(12,6),wo(13,Qx,2,0,"th",4),wo(14,Zx,3,4,"td",5),Oo(),Io(15,7),wo(16,Xx,2,0,"th",4),wo(17,Jx,2,1,"td",5),Oo(),Io(18,8),wo(19,tk,2,0,"th",4),wo(20,ek,2,1,"td",5),Oo(),Io(21,9),wo(22,nk,2,0,"th",4),wo(23,rk,2,1,"td",5),Oo(),Io(24,10),wo(25,ik,2,0,"th",4),wo(26,sk,2,1,"td",5),Oo(),Io(27,11),wo(28,ok,2,0,"th",12),wo(29,ak,3,0,"td",5),Oo(),wo(30,uk,1,0,"tr",13),wo(31,lk,1,0,"tr",14),ko(),To(32,"br"),To(33,"br"),To(34,"br"),xo(35,"table",15),Tu(36,"todoFilterPipe"),Io(37,3),wo(38,ck,2,0,"th",12),wo(39,hk,3,0,"td",5),Oo(),Io(40,6),wo(41,dk,2,0,"th",12),wo(42,fk,3,4,"td",5),Oo(),Io(43,7),wo(44,pk,2,0,"th",12),wo(45,mk,2,1,"td",5),Oo(),Io(46,8),wo(47,gk,2,0,"th",12),wo(48,yk,2,1,"td",5),Oo(),Io(49,9),wo(50,_k,2,0,"th",12),wo(51,vk,2,1,"td",5),Oo(),Io(52,10),wo(53,bk,2,0,"th",12),wo(54,wk,2,1,"td",5),Oo(),Io(55,11),wo(56,Sk,2,0,"th",12),wo(57,Ek,3,0,"td",5),Oo(),wo(58,Ck,1,0,"tr",13),wo(59,xk,1,0,"tr",14),ko()),2&t&&(Wi(7),Eo("dataSource",Ou(8,6,e.todoListService.todos$,!1)),Wi(23),Eo("matHeaderRowDef",e.displayedColumns),Wi(1),Eo("matRowDefColumns",e.displayedColumns),Wi(4),Eo("dataSource",Ou(36,9,e.todoListService.todos$,!0)),Wi(23),Eo("matHeaderRowDef",e.displayedColumns),Wi(1),Eo("matRowDefColumns",e.displayedColumns))},directives:[KE,EC,hx,Mx,yx,mx,fx,Ex,xx,vx,Gx,wx,Tx,Ox],pipes:[Wx,ch],styles:[".bar-chart[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:40px;margin-bottom:10px;white-space:nowrap}.bar-chart[_ngcontent-%COMP%]   .todo-bar[_ngcontent-%COMP%]{background-color:#03a9f4;height:40px}.bar-chart[_ngcontent-%COMP%]   .done-bar[_ngcontent-%COMP%]{background-color:#4caf50;height:40px}table[_ngcontent-%COMP%]{width:100%}.create[_ngcontent-%COMP%]{margin:10px}"]}),t})();const Tk=T(t=>!!t);let Ik=(()=>{class t{constructor(t,e,r,i){this.router=i,this.canActivate=(t,e)=>{const n=t.data.authGuardPipe||(()=>Tk);return this.authState.pipe(cd(1),n(t,e),T(t=>"boolean"==typeof t?t:this.router.createUrlTree(t)))};const s=mg(new pg(r)),o=$h(void 0).pipe(Gm(new pg(r).outsideAngular),od(()=>r.runOutsideAngular(()=>n.e(1).then(n.bind(null,"6nsN")))),T(()=>bg(t,r,e)),T(t=>r.runOutsideAngular(()=>t.auth())),Ug({bufferSize:1,refCount:!1}));this.authState=o.pipe(od(t=>new v(t.onAuthStateChanged.bind(t))),s)}}return t.\u0275fac=function(e){return new(e||t)(hr(yg),hr(_g,8),hr(_l),hr(fm))},t.\u0275prov=ft({factory:function(){return new t(hr(yg),hr(_g,8),hr(_l),hr(fm))},token:t,providedIn:"any"}),t})();T(t=>!!t&&!t.isAnonymous);const Ok=od(t=>t?t.getIdTokenResult():$h(null));T(t=>!!t&&t.emailVerified),function(...t){_(t)}(Ok,T(t=>t?t.claims:[]));const Ak=["underline"],Dk=["connectionContainer"],Rk=["inputContainer"],Nk=["label"];function Pk(t,e){1&t&&(Io(0),xo(1,"div",14),To(2,"div",15),To(3,"div",16),To(4,"div",17),ko(),xo(5,"div",18),To(6,"div",15),To(7,"div",16),To(8,"div",17),ko(),Oo())}function Lk(t,e){1&t&&(xo(0,"div",19),qo(1,1),ko())}function Fk(t,e){if(1&t&&(Io(0),qo(1,2),xo(2,"span"),Xo(3),ko(),Oo()),2&t){const t=Uo(2);Wi(3),Jo(t._control.placeholder)}}function jk(t,e){1&t&&qo(0,3,["*ngSwitchCase","true"])}function Mk(t,e){1&t&&(xo(0,"span",23),Xo(1," *"),ko())}function Vk(t,e){if(1&t){const t=Do();xo(0,"label",20,21),Lo("cdkObserveContent",function(){return Pe(t),Uo().updateOutlineGap()}),wo(2,Fk,4,1,"ng-container",12),wo(3,jk,1,0,"ng-content",12),wo(4,Mk,2,0,"span",22),ko()}if(2&t){const t=Uo();Wo("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),Eo("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),bo("for",t._control.id)("aria-owns",t._control.id),Wi(2),Eo("ngSwitchCase",!1),Wi(1),Eo("ngSwitchCase",!0),Wi(1),Eo("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function Uk(t,e){1&t&&(xo(0,"div",24),qo(1,4),ko())}function Bk(t,e){if(1&t&&(xo(0,"div",25,26),To(2,"span",27),ko()),2&t){const t=Uo();Wi(2),Wo("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function zk(t,e){1&t&&(xo(0,"div"),qo(1,5),ko()),2&t&&Eo("@transitionMessages",Uo()._subscriptAnimationState)}function qk(t,e){if(1&t&&(xo(0,"div",31),Xo(1),ko()),2&t){const t=Uo(2);Eo("id",t._hintLabelId),Wi(1),Jo(t.hintLabel)}}function Hk(t,e){if(1&t&&(xo(0,"div",28),wo(1,qk,2,2,"div",29),qo(2,6),To(3,"div",30),qo(4,7),ko()),2&t){const t=Uo();Eo("@transitionMessages",t._subscriptAnimationState),Wi(1),Eo("ngIf",t.hintLabel)}}const Gk=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],$k=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Wk=new Wn("MatError"),Kk={transitionMessages:M_("transitionMessages",[z_("enter",B_({opacity:1,transform:"translateY(0%)"})),H_("void => enter",[B_({opacity:0,transform:"translateY(-5px)"}),V_("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Yk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Qt({type:t}),t})();const Qk=new Wn("MatHint");let Zk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Qt({type:t,selectors:[["mat-label"]]}),t})(),Xk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Qt({type:t,selectors:[["mat-placeholder"]]}),t})();const Jk=new Wn("MatPrefix"),tT=new Wn("MatSuffix");let eT=0;class nT{constructor(t){this._elementRef=t}}const rT=Nw(nT,"primary"),iT=new Wn("MAT_FORM_FIELD_DEFAULT_OPTIONS"),sT=new Wn("MatFormField");let oT=(()=>{class t extends rT{constructor(t,e,n,r,i,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new C,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+eT++,this._labelId="mat-form-field-label-"+eT++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Kg(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(fd(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(iy(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(iy(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),$(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(fd(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(fd(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(iy(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Xg(this._label.nativeElement,"transitionend").pipe(cd(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=t.children,a=this._getStartEnd(o[0].getBoundingClientRect());let u=0;for(let t=0;t<o.length;t++)u+=o[t].offsetWidth;e=Math.abs(a-s)-5,n=u>0?.75*u+10:0}for(let o=0;o<i.length;o++)i[o].style.width=`${e}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(So(ka),So(Xa),So(ka),So(_y,8),So(iT,8),So(uy),So(_l),So(bw,8))},t.\u0275cmp=Ht({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&($u(n,Yk,1),$u(n,Yk,3),$u(n,Zk,1),$u(n,Zk,3),$u(n,Xk,1),$u(n,Wk,1),$u(n,Qk,1),$u(n,Jk,1),$u(n,tT,1)),2&t){let t;Hu(t=Wu())&&(e._controlNonStatic=t.first),Hu(t=Wu())&&(e._controlStatic=t.first),Hu(t=Wu())&&(e._labelChildNonStatic=t.first),Hu(t=Wu())&&(e._labelChildStatic=t.first),Hu(t=Wu())&&(e._placeholderChild=t.first),Hu(t=Wu())&&(e._errorChildren=t),Hu(t=Wu())&&(e._hintChildren=t),Hu(t=Wu())&&(e._prefixChildren=t),Hu(t=Wu())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(Gu(Ak,1),Gu(Dk,3),Gu(Rk,1),Gu(Nk,1)),2&t){let t;Hu(t=Wu())&&(e.underlineRef=t.first),Hu(t=Wu())&&(e._connectionContainerRef=t.first),Hu(t=Wu())&&(e._inputContainerRef=t.first),Hu(t=Wu())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&Wo("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[va([{provide:sT,useExisting:t}]),ao],ngContentSelectors:$k,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(zo(Gk),xo(0,"div",0),xo(1,"div",1,2),Lo("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),wo(3,Pk,9,0,"ng-container",3),wo(4,Lk,2,0,"div",4),xo(5,"div",5,6),qo(7),xo(8,"span",7),wo(9,Vk,5,16,"label",8),ko(),ko(),wo(10,Uk,2,0,"div",9),ko(),wo(11,Bk,3,4,"div",10),xo(12,"div",11),wo(13,zk,2,1,"div",12),wo(14,Hk,5,2,"div",13),ko(),ko()),2&t&&(Wi(3),Eo("ngIf","outline"==e.appearance),Wi(1),Eo("ngIf",e._prefixChildren.length),Wi(5),Eo("ngIf",e._hasFloatingLabel()),Wi(1),Eo("ngIf",e._suffixChildren.length),Wi(1),Eo("ngIf","outline"!=e.appearance),Wi(1),Eo("ngSwitch",e._getDisplayedMessages()),Wi(1),Eo("ngSwitchCase","error"),Wi(1),Eo("ngSwitchCase","hint"))},directives:[Xc,nh,rh,y_],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Kk.transitionMessages]},changeDetection:0}),t})(),aT=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[hh,Dw,__],Dw]}),t})();const uT=my({passive:!0});let lT=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return rd;const e=Zg(t),n=this._monitoredElements.get(e);if(n)return n.subject;const r=new C,i="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,uT),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",s,uT)}}),r}stopMonitoring(t){const e=Zg(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(hr(uy),hr(_l))},t.\u0275prov=ft({factory:function(){return new t(hr(uy),hr(_l))},token:t,providedIn:"root"}),t})(),cT=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[ly]]}),t})();const hT=new Wn("MAT_INPUT_VALUE_ACCESSOR"),dT=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let fT=0;class pT{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const mT=Lw(pT);let gT=(()=>{class t extends mT{constructor(t,e,n,r,i,s,o,a,u,l){super(s,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._formField=l,this._uid="mat-input-"+fT++,this.focused=!1,this.stateChanges=new C,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>hy().has(t));const c=this._elementRef.nativeElement,h=c.nodeName.toLowerCase();this._inputValueAccessor=o||c,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=c.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Kg(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=Kg(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&hy().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Kg(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){dT.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(So(ka),So(uy),So(US,10),So(IE,8),So(PE,8),So(jw),So(hT,10),So(lT),So(_l),So(sT,8))},t.\u0275dir=Qt({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&Lo("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(ea("disabled",e.disabled)("required",e.required),bo("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState&&!e.empty)("aria-required",e.required),Wo("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[va([{provide:Yk,useExisting:t}]),ao,ce]}),t})(),yT=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[jw],imports:[[cT,aT,Dw],cT,aT]}),t})();function _T(t,e){1&t&&(xo(0,"th",13),Xo(1,"L\xf6schen"),ko())}function vT(t,e){if(1&t){const t=Do();xo(0,"div"),xo(1,"button",4),Lo("click",function(){Pe(t);const e=Uo().$implicit;return Uo().GruppenListService.deleteGruppeById(e.id)}),Xo(2,"L\xf6schenn"),ko(),ko()}}function bT(t,e){if(1&t){const t=Do();xo(0,"div"),xo(1,"button",4),Lo("click",function(){Pe(t);const e=Uo().$implicit;return Uo().usrService.addUser2Group(e.id)}),Xo(2,"Beitreten"),ko(),ko()}}function wT(t,e){if(1&t){const t=Do();xo(0,"div"),xo(1,"button",4),Lo("click",function(){Pe(t);const e=Uo().$implicit;return Uo().usrService.remUserGroup(e.id)}),Xo(2,"Verlassen"),ko(),ko()}}function ST(t,e){if(1&t&&(xo(0,"td",14),wo(1,vT,3,0,"div",15),wo(2,bT,3,0,"div",15),wo(3,wT,3,0,"div",15),ko()),2&t){const t=e.$implicit,n=Uo();Wi(1),Eo("ngIf",t.userUid===n.usrService.UserId),Wi(1),Eo("ngIf",-1===n.usrService.memberGroupsArr.indexOf(t.id)),Wi(1),Eo("ngIf",-1!==n.usrService.memberGroupsArr.indexOf(t.id))}}function ET(t,e){1&t&&(xo(0,"th",13),Xo(1," Gruppenname"),ko())}function CT(t,e){if(1&t&&(xo(0,"td",14),Xo(1),ko()),2&t){const t=e.$implicit;Wi(1),ta(" ",t.Gruppenname," ")}}function xT(t,e){1&t&&(xo(0,"th",13),Xo(1,"Beschreibung"),ko())}function kT(t,e){if(1&t&&(xo(0,"td",14),Xo(1),ko()),2&t){const t=e.$implicit;Wi(1),ta(" ",t.Beschreibung," ")}}function TT(t,e){1&t&&To(0,"tr",16)}function IT(t,e){1&t&&To(0,"tr",17)}function OT(t,e){1&t&&(xo(0,"th",13),Xo(1,"L\xf6schen"),ko())}function AT(t,e){if(1&t){const t=Do();xo(0,"div"),xo(1,"button",4),Lo("click",function(){Pe(t);const e=Uo().$implicit;return Uo().FaecherService.deleteFachById(e.id)}),Xo(2,"L\xf6schen"),ko(),ko()}}function DT(t,e){if(1&t&&(xo(0,"td",14),wo(1,AT,3,0,"div",15),ko()),2&t){const t=e.$implicit,n=Uo();Wi(1),Eo("ngIf",t.userUid===n.usrService.UserId)}}function RT(t,e){1&t&&(xo(0,"th",13),Xo(1," Fachname"),ko())}function NT(t,e){if(1&t&&(xo(0,"td",14),Xo(1),ko()),2&t){const t=e.$implicit;Wi(1),ta(" ",t.Fachname," ")}}function PT(t,e){1&t&&(xo(0,"th",13),Xo(1,"Beschreibung"),ko())}function LT(t,e){if(1&t&&(xo(0,"td",14),Xo(1),ko()),2&t){const t=e.$implicit;Wi(1),ta(" ",t.Fachbeschreibung," ")}}function FT(t,e){1&t&&To(0,"tr",16)}function jT(t,e){1&t&&To(0,"tr",17)}const MT=[{path:"dashboard",component:kk,canActivate:[Ik]},{path:"todo-list",component:zE,canActivate:[Ik]},{path:"Gruppe",component:(()=>{class t{constructor(t,e){this.GruppenListService=t,this.usrService=e,this.Gruppenname="",this.Beschreibung="",this.displayedColumns=["L\xf6schen","groupName","groupDescription"]}ngOnInit(){}addGruppe(){this.Gruppenname&&(this.GruppenListService.addGruppe(this.Gruppenname,this.Beschreibung),this.Gruppenname="",this.Beschreibung="")}}return t.\u0275fac=function(e){return new(e||t)(So(Gg),So(Hg))},t.\u0275cmp=Ht({type:t,selectors:[["app-gruppe"]],decls:25,vars:5,consts:[[1,"addItem"],[1,"Gruppenname"],["matInput","","type","text",3,"ngModel","ngModelChange"],[1,"Beschreibung"],["mat-button","",3,"click"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","L\xf6schen"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","groupName"],["matColumnDef","groupDescription"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(xo(0,"h2"),Xo(1,"Gruppe"),ko(),xo(2,"div",0),xo(3,"mat-form-field",1),xo(4,"mat-label"),Xo(5,"Gruppenname"),ko(),xo(6,"input",2),Lo("ngModelChange",function(t){return e.Gruppenname=t}),ko(),ko(),xo(7,"mat-form-field",3),xo(8,"mat-label"),Xo(9,"Beschreibung"),ko(),xo(10,"input",2),Lo("ngModelChange",function(t){return e.Beschreibung=t}),ko(),ko(),xo(11,"button",4),Lo("click",function(){return e.addGruppe()}),Xo(12,"Hinzuf\xfcgen"),ko(),ko(),xo(13,"table",5),Io(14,6),wo(15,_T,2,0,"th",7),wo(16,ST,4,3,"td",8),Oo(),Io(17,9),wo(18,ET,2,0,"th",7),wo(19,CT,2,1,"td",8),Oo(),Io(20,10),wo(21,xT,2,0,"th",7),wo(22,kT,2,1,"td",8),Oo(),wo(23,TT,1,0,"tr",11),wo(24,IT,1,0,"tr",12),ko()),2&t&&(Wi(6),Eo("ngModel",e.Gruppenname),Wi(4),Eo("ngModel",e.Beschreibung),Wi(3),Eo("dataSource",e.GruppenListService.gruppen$),Wi(10),Eo("matHeaderRowDef",e.displayedColumns),Wi(1),Eo("matRowDefColumns",e.displayedColumns))},directives:[oT,Zk,gT,bS,BS,DE,KE,hx,yx,mx,fx,Ex,xx,vx,wx,Xc,Tx,Ox],styles:["button[_ngcontent-%COMP%]{margin-right:10px}.date[_ngcontent-%COMP%]{display:inline-block;width:100px}"]}),t})(),canActivate:[Ik]},{path:"fach",component:(()=>{class t{constructor(t,e){this.FaecherService=t,this.usrService=e,this.Fachname="",this.Fachbeschreibung="",this.displayedColumns=["Fachname","Fachbeschreibung","L\xf6schen"]}ngOnInit(){}addFach(){this.Fachname&&(this.FaecherService.addFach(this.Fachname,this.Fachbeschreibung),this.Fachname="",this.Fachbeschreibung="")}}return t.\u0275fac=function(e){return new(e||t)(So(Wg),So(Hg))},t.\u0275cmp=Ht({type:t,selectors:[["app-fach"]],decls:25,vars:5,consts:[[1,"addItem"],[1,"Fachname"],["matInput","","type","text",3,"ngModel","ngModelChange"],[1,"Fachbeschreibung"],["mat-button","",3,"click"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","L\xf6schen"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Fachname"],["matColumnDef","Fachbeschreibung"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(xo(0,"h2"),Xo(1,"F\xe4cher Hinzuf\xfcgen"),ko(),xo(2,"div",0),xo(3,"mat-form-field",1),xo(4,"mat-label"),Xo(5,"Fach erstellen"),ko(),xo(6,"input",2),Lo("ngModelChange",function(t){return e.Fachname=t}),ko(),ko(),xo(7,"mat-form-field",3),xo(8,"mat-label"),Xo(9,"Fachbeschreibung"),ko(),xo(10,"input",2),Lo("ngModelChange",function(t){return e.Fachbeschreibung=t}),ko(),ko(),xo(11,"button",4),Lo("click",function(){return e.addFach()}),Xo(12,"Hinzuf\xfcgen"),ko(),ko(),xo(13,"table",5),Io(14,6),wo(15,OT,2,0,"th",7),wo(16,DT,2,1,"td",8),Oo(),Io(17,9),wo(18,RT,2,0,"th",7),wo(19,NT,2,1,"td",8),Oo(),Io(20,10),wo(21,PT,2,0,"th",7),wo(22,LT,2,1,"td",8),Oo(),wo(23,FT,1,0,"tr",11),wo(24,jT,1,0,"tr",12),ko()),2&t&&(Wi(6),Eo("ngModel",e.Fachname),Wi(4),Eo("ngModel",e.Fachbeschreibung),Wi(3),Eo("dataSource",e.FaecherService.fach$),Wi(10),Eo("matHeaderRowDef",e.displayedColumns),Wi(1),Eo("matRowDefColumns",e.displayedColumns))},directives:[oT,Zk,gT,bS,BS,DE,KE,hx,yx,mx,fx,Ex,xx,vx,wx,Xc,Tx,Ox],styles:["button[_ngcontent-%COMP%]{margin-right:10px}.date[_ngcontent-%COMP%]{display:inline-block;width:100px}table[_ngcontent-%COMP%]{width:100%}"]}),t})(),canActivate:[Ik]}];let VT=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[km.forRoot(MT,{relativeLinkResolution:"legacy"})],km]}),t})();function UT(t,e){if(1&t){const t=Do();xo(0,"div",6),Xo(1),xo(2,"button",7),Lo("click",function(){return Pe(t),Uo().logout()}),Xo(3,"Logout"),ko(),ko()}if(2&t){const t=e.ngIf;Wi(1),ta(" ",t.displayName," ")}}function BT(t,e){if(1&t){const t=Do();xo(0,"div"),xo(1,"h1"),Xo(2,"Login"),ko(),xo(3,"button",7),Lo("click",function(){return Pe(t),Uo().login()}),Xo(4,"Login"),ko(),ko()}}let zT=(()=>{class t{constructor(t,e,n){this.afAuth=t,this.router=e,this.userService=n}login(){this.afAuth.signInWithPopup(new cg.a.auth.GoogleAuthProvider).then(t=>{var e=t.user;this.userService.addUser(null==e?void 0:e.uid,null==e?void 0:e.displayName,null==e?void 0:e.email)}).catch(t=>{})}logout(){this.afAuth.signOut().then(()=>{this.router.navigate([""])})}}return t.\u0275fac=function(e){return new(e||t)(So(zg),So(fm),So(Hg))},t.\u0275cmp=Ht({type:t,selectors:[["app-root"]],decls:20,vars:6,consts:[["routerLink","/todo-list"],["routerLink","/dashboard"],["routerLink","/Gruppe"],["routerLink","/fach"],["class","user-info",4,"ngIf"],[4,"ngIf"],[1,"user-info"],[3,"click"]],template:function(t,e){1&t&&(xo(0,"nav"),xo(1,"ul"),xo(2,"li"),xo(3,"a",0),Xo(4,"Hinzuf\xfcgen"),ko(),ko(),xo(5,"li"),xo(6,"a",1),Xo(7,"Aufgaben"),ko(),ko(),xo(8,"li"),xo(9,"a",2),Xo(10,"Gruppe"),ko(),ko(),xo(11,"li"),xo(12,"a",3),Xo(13,"F\xe4cher"),ko(),ko(),ko(),wo(14,UT,4,1,"div",4),Tu(15,"async"),ko(),xo(16,"main"),wo(17,BT,5,0,"div",5),Tu(18,"async"),To(19,"router-outlet"),ko()),2&t&&(Wi(14),Eo("ngIf",Iu(15,2,e.afAuth.user)),Wi(3),Eo("ngIf",!Iu(18,4,e.afAuth.user)))},directives:[pm,Xc,gm],pipes:[lh],styles:["ul[_ngcontent-%COMP%]{position:fixed;top:0;left:0;margin:0;padding:0 40px;width:100%;background-color:#ffeb3b;height:40px;line-height:40px}li[_ngcontent-%COMP%]{display:inline;margin-right:40px}main[_ngcontent-%COMP%]{margin-top:40px;padding:40px}.user-info[_ngcontent-%COMP%]{position:absolute;right:40px;top:0;line-height:40px}"]}),t})();const qT={apiKey:"AIzaSyBrj4zqL8pALwADBTly446FirqqSQNBMNg",authDomain:"todolist-demo-e8008.firebaseapp.com",databaseURL:"https://todolist-demo-e8008.firebaseio.com",projectId:"todolist-demo-e8008",storageBucket:"todolist-demo-e8008.appspot.com",messagingSenderId:"120790186589",appId:"1:120790186589:web:d1f3ecdff4b808f6996bb4"},HT={provide:new Wn("mat-select-scroll-strategy"),deps:[l_],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let GT=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[HT],imports:[[hh,h_,Yw,Dw],xy,aT,Yw,Dw]}),t})();const $T={provide:new Wn("mat-tooltip-scroll-strategy"),deps:[l_],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}};let WT=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[$T],imports:[[P_,hh,h_,Dw],Dw,xy]}),t})(),KT=(()=>{class t{constructor(){this.changes=new C,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,e,n)=>{if(0==n||0==e)return`0 of ${n}`;const r=t*e;return`${r+1} \u2013 ${r<(n=Math.max(n,0))?Math.min(r+e,n):r+e} of ${n}`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:function(){return new t},token:t,providedIn:"root"}),t})();const YT={provide:KT,deps:[[new gr,new yr,KT]],useFactory:function(t){return t||new KT}};let QT=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[YT],imports:[[hh,YE,GT,WT,Dw]]}),t})(),ZT=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[Dw],Dw]}),t})(),XT=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[Mw,Dw],Mw,Dw]}),t})(),JT=(()=>{class t{}return t.\u0275mod=Kt({type:t,bootstrap:[zT]}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[],imports:[[Gh,VT,jE,Sg.initializeApp(qT),jg,qg,Dx,YE,yT,Cw,aT,xw,CC,$x,QT,dS,ZT,XT,ME]]}),t})();(function(){if(Dl)throw new Error("Cannot enable prod mode after platform setup.");Al=!1})(),qh().bootstrapModule(JT).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);